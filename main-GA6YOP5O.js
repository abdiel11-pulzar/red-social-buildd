import{$ as mt,$a as wt,A as Bl,Aa as aC,Ab as _r,B as KE,Ba as Za,Bb as er,C as Ie,Ca as uC,Cb as dm,D as em,Da as Fi,Db as vC,E as In,Ea as Go,Eb as zr,F as $E,Fa as am,Fb as yC,G as Mi,Ga as cC,Gb as tr,H as YE,Ha as lC,Hb as su,I as XE,Ia as qr,Ib as nr,J as ql,Ja,Jb as Yl,K as Rt,Ka as eu,Kb as Xo,L as tm,La as hC,Lb as _C,M as Ho,Ma as tu,Mb as wC,N as Xa,Na as Re,Nb as _e,O as nm,Oa as ie,Ob as fm,P as Fn,Pa as um,Pb as Qo,Q as QE,Qa as nu,Qb as bC,R as rm,Ra as Hl,Rb as EC,S as zl,Sa as Vi,Sb as Zo,T as jr,Ta as Wo,Tb as CC,U as im,Ua as Ko,Ub as IC,V as ZE,Va as cm,Vb as pm,W as JE,Wa as dC,Wb as SC,X as eC,Xa as fC,Y as Pi,Ya as De,Z as Vn,Za as cn,_ as Li,_a as Oe,a as F,aa as Le,ab as ru,b as Ce,ba as Ur,bb as Sn,ca as X,cb as Gl,d as Ln,da as un,db as Wl,e as CN,ea as tC,eb as pC,f as Xg,fa as le,fb as ji,g as Qg,ga as om,gb as mr,h as Ni,ha as $e,hb as jn,i as GE,ia as D,ib as $o,j as WE,ja as Qa,jb as V,k as Zg,ka as nC,kb as U,l as Jg,la as Br,lb as dt,m as ge,ma as gr,mb as Yo,n as ct,na as Jn,nb as gC,o as Vr,oa as vt,ob as Ue,p as Y,pa as yt,pb as st,q as Ka,qa as Qt,qb as iu,r as O,ra as rC,rb as lm,s as R,sa as _t,sb as Kl,t as jl,ta as iC,tb as $l,u as $a,ua as oC,ub as hm,v as Pe,va as lt,vb as Q,w as Ul,wa as ze,wb as ou,x as an,xa as sm,xb as mC,y as te,ya as sC,yb as vr,z as Ya,za as ht,zb as yr}from"./chunk-KCDWN63W.js";function $I(t){return ms(void 0,t)}function ms(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!RL(r)||(t[r]=ms(t[r],e[r]));return t}function RL(t){return t!=="__proto__"}function XI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Ka({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[WI(JSON.stringify(n)),WI(JSON.stringify(u)),l].join(".")}function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function xv(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZI(){return typeof self=="object"&&self.self===self}function JI(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){return Kr().indexOf("Electron/")>=0}function nS(){var t=Kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rS(){return Kr().indexOf("MSAppHost/")>=0}function iS(){return!xv()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xL(t,e){return t.replace(NL,function(n,r){var o=e[r];return o!=null?String(o):"<"+r+"?>"})}function Nv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oS(t,e){var n=new ML(t,e);return n.subscribe.bind(n)}function PL(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function kv(){}function Qe(t){return t&&t._delegate?t._delegate:t}var KI,AL,DL,TL,WI,YI,OL,kL,Sh,NL,xz,ML,Nz,Fu=Ln(()=>{"use strict";Ul();KI=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AL=function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){var a=t[n++],u=t[n++],l=t[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{var a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},DL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var a=t[o],u=o+1<t.length,l=u?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,g=a>>2,y=(a&3)<<4|l>>4,_=(l&15)<<2|p>>6,b=p&63;h||(b=64,u||(_=64)),r.push(n[g],n[y],n[_],n[b])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KI(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var a=n[t.charAt(o++)],u=o<t.length,l=u?n[t.charAt(o)]:0;++o;var h=o<t.length,p=h?n[t.charAt(o)]:64;++o;var g=o<t.length,y=g?n[t.charAt(o)]:64;if(++o,a==null||l==null||p==null||y==null)throw Error();var _=a<<2|l>>4;if(r.push(_),p!==64){var b=l<<4&240|p>>2;if(r.push(b),y!==64){var E=p<<6&192|y;r.push(E)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},TL=function(t){var e=KI(t);return DL.encodeByteArray(e,!0)},WI=function(t){return TL(t).replace(/\./g,"")};YI=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,o))}},t}();OL="FirebaseError",kL=function(t){Y(e,t);function e(n,r,o){var a=t.call(this,r)||this;return a.code=n,a.customData=o,a.name=OL,Object.setPrototypeOf(a,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,Sh.prototype.create),a}return e}(Error),Sh=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},a=this.service+"/"+e,u=this.errors[e],l=u?xL(u,o):"Error",h=this.serviceName+": "+l+" ("+a+").",p=new kL(a,h,o);return p},t}();NL=/\{\$([^}]+)}/g;xz=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var o=0;o<16;o++)r[o]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var o=0;o<16;o++)r[o]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var o=16;o<80;o++){var a=r[o-3]^r[o-8]^r[o-14]^r[o-16];r[o]=(a<<1|a>>>31)&4294967295}for(var u=this.chain_[0],l=this.chain_[1],h=this.chain_[2],p=this.chain_[3],g=this.chain_[4],y,_,o=0;o<80;o++){o<40?o<20?(y=p^l&(h^p),_=1518500249):(y=l^h^p,_=1859775393):o<60?(y=l&h|p&(l|h),_=2400959708):(y=l^h^p,_=3395469782);var a=(u<<5|u>>>27)+y+g+_+r[o]&4294967295;g=p,p=h,h=(l<<30|l>>>2)&4294967295,l=u,u=a}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,o=0,a=this.buf_,u=this.inbuf_;o<n;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=e[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var o=0,r=0;r<5;r++)for(var a=24;a>=0;a-=8)e[o]=this.chain_[r]>>a&255,++o;return e},t}();ML=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(o){r.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var o=this,a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=kv),a.error===void 0&&(a.error=kv),a.complete===void 0&&(a.complete=kv);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?a.error(o.finalError):a.complete()}catch{}}),this.observers.push(a),u},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();Nz=4*60*60*1e3;});function FL(t){return t===Ki?void 0:t}function VL(t){return t.instantiationMode==="EAGER"}var vs,Ki,LL,sS,Mv=Ln(()=>{"use strict";Ul();Fu();vs=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();Ki="[DEFAULT]";LL=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new YI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(VL(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}try{for(var o=jl(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var u=$a(a.value,2),l=u[0],h=u[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});h.resolve(g)}catch{}}}catch(y){n={error:y}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Ki),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return O(this,void 0,void 0,function(){var e;return R(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Pe(Pe([],$a(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),$a(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Ki),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=Ki),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var o=e.options,a=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var h=jl(this.instancesDeferred.entries()),p=h.next();!p.done;p=h.next()){var g=$a(p.value,2),y=g[0],_=g[1],b=this.normalizeInstanceIdentifier(y);u===b&&_.resolve(l)}}catch(E){n={error:E}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var r,o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);var u=this.instances.get(o);return u&&e(u,o),function(){a.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,o,a=this.onInitCallbacks.get(n);if(a)try{for(var u=jl(a),l=u.next();!l.done;l=u.next()){var h=l.value;try{h(e,n)}catch{}}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,o=r===void 0?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:FL(n),options:o}),this.instances.set(n,a),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Ki),this.component?this.component.multipleInstances?e:Ki:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();sS=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new LL(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()});function Bn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],u=0,l=a.length;u<l;u++,o++)r[o]=a[u];return r}function uS(t){Pv.forEach(function(e){e.setLogLevel(t)})}function cS(t,e){for(var n=function(u){var l=null;e&&e.level&&(l=aS[e.level]),t===null?u.userLogHandler=null:u.userLogHandler=function(h,p){for(var g=[],y=2;y<arguments.length;y++)g[y-2]=arguments[y];var _=g.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");p>=(l??h.logLevel)&&t({level:ve[p].toLowerCase(),message:_,args:g,type:h.name})}},r=0,o=Pv;r<o.length;r++){var a=o[r];n(a)}}var $i,Pv,ve,aS,jL,UL,BL,Ah,Dh=Ln(()=>{"use strict";Pv=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),aS={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},jL=ve.INFO,UL=($i={},$i[ve.DEBUG]="log",$i[ve.VERBOSE]="log",$i[ve.INFO]="info",$i[ve.WARN]="warn",$i[ve.ERROR]="error",$i),BL=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=new Date().toISOString(),a=UL[e];if(a)console[a].apply(console,Bn(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Ah=function(){function t(e){this.name=e,this._logLevel=jL,this._logHandler=BL,this._userLogHandler=null,Pv.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ve))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?aS[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Bn([this,ve.DEBUG],e)),this._logHandler.apply(this,Bn([this,ve.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Bn([this,ve.VERBOSE],e)),this._logHandler.apply(this,Bn([this,ve.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Bn([this,ve.INFO],e)),this._logHandler.apply(this,Bn([this,ve.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Bn([this,ve.WARN],e)),this._logHandler.apply(this,Bn([this,ve.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Bn([this,ve.ERROR],e)),this._logHandler.apply(this,Bn([this,ve.ERROR],e))},t}()});function iF(t){var e={},n=new Map,r={__esModule:!0,initializeApp:u,app:a,registerVersion:p,setLogLevel:uS,onLog:g,apps:null,SDK_VERSION:rF,INTERNAL:{registerComponent:h,removeApp:o,components:n,useAsService:y}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(_){delete e[_]}function a(_){if(_=_||Rh,!Nv(e,_))throw ys.create("no-app",{appName:_});return e[_]}a.App=t;function u(_,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var E=b;b={name:E}}var C=b;C.name===void 0&&(C.name=Rh);var A=C.name;if(typeof A!="string"||!A)throw ys.create("bad-app-name",{appName:String(A)});if(Nv(e,A))throw ys.create("duplicate-app",{appName:A});var N=new t(_,C,r);return e[A]=N,N}function l(){return Object.keys(e).map(function(_){return e[_]})}function h(_){var b=_.name;if(n.has(b))return _s.debug("There were multiple attempts to register component "+b+"."),_.type==="PUBLIC"?r[b]:null;if(n.set(b,_),_.type==="PUBLIC"){var E=function(q){if(q===void 0&&(q=a()),typeof q[b]!="function")throw ys.create("invalid-app-argument",{appName:b});return q[b]()};_.serviceProps!==void 0&&ms(E,_.serviceProps),r[b]=E,t.prototype[b]=function(){for(var q=[],B=0;B<arguments.length;B++)q[B]=arguments[B];var oe=this._getService.bind(this,b);return oe.apply(this,_.multipleInstances?q:[])}}for(var C=0,A=Object.keys(e);C<A.length;C++){var N=A[C];e[N]._addComponent(_)}return _.type==="PUBLIC"?r[b]:null}function p(_,b,E){var C,A=(C=nF[_])!==null&&C!==void 0?C:_;E&&(A+="-"+E);var N=A.match(/\s|\//),q=b.match(/\s|\//);if(N||q){var B=['Unable to register library "'+A+'" with version "'+b+'":'];N&&B.push('library name "'+A+'" contains illegal characters (whitespace or "/")'),N&&q&&B.push("and"),q&&B.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),_s.warn(B.join(" "));return}h(new vs(A+"-version",function(){return{library:A,version:b}},"VERSION"))}function g(_,b){if(_!==null&&typeof _!="function")throw ys.create("invalid-log-argument");cS(_,b)}function y(_,b){if(b==="serverAuth")return null;var E=b;return E}return r}function hS(){var t=iF(Th);t.INTERNAL=Ka(Ka({},t.INTERNAL),{createFirebaseNamespace:hS,extendNamespace:e,createSubscribe:oS,ErrorFactory:Sh,deepExtend:ms});function e(n){ms(t,n)}return t}function sF(t){var e=t.getComponent();return e?.type==="VERSION"}function aF(t,e){t.INTERNAL.registerComponent(new vs("platform-logger",function(n){return new oF(n)},"PRIVATE")),t.registerVersion(lS,zL,e),t.registerVersion("fire-js","")}var $r,qL,ys,lS,zL,HL,GL,WL,KL,$L,YL,XL,QL,ZL,JL,eF,tF,Ot,Rh,nF,_s,Th,rF,Fv,oF,Lv,uF,dS,Z,Vu=Ln(()=>{"use strict";Ul();Fu();Mv();Dh();qL=($r={},$r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",$r["bad-app-name"]="Illegal App name: '{$appName}",$r["duplicate-app"]="Firebase App named '{$appName}' already exists",$r["app-deleted"]="Firebase App named '{$appName}' already deleted",$r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",$r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",$r),ys=new Sh("app","Firebase",qL),lS="@firebase/app",zL="0.6.30",HL="@firebase/analytics",GL="@firebase/app-check",WL="@firebase/auth",KL="@firebase/database",$L="@firebase/functions",YL="@firebase/installations",XL="@firebase/messaging",QL="@firebase/performance",ZL="@firebase/remote-config",JL="@firebase/storage",eF="@firebase/firestore",tF="firebase-wrapper";Rh="[DEFAULT]",nF=(Ot={},Ot[lS]="fire-core",Ot[HL]="fire-analytics",Ot[GL]="fire-app-check",Ot[WL]="fire-auth",Ot[KL]="fire-rtdb",Ot[$L]="fire-fn",Ot[YL]="fire-iid",Ot[XL]="fire-fcm",Ot[QL]="fire-perf",Ot[ZL]="fire-rc",Ot[JL]="fire-gcs",Ot[eF]="fire-fst",Ot["fire-js"]="fire-js",Ot[tF]="fire-js-all",Ot);_s=new Ah("@firebase/app");Th=function(){function t(e,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=$I(e),this.container=new sS(n.name),this._addComponent(new vs("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(a){return o._addComponent(a)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=Rh),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Rh),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){_s.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ys.create("app-deleted",{appName:this.name_})},t}();Th.prototype.name&&Th.prototype.options||Th.prototype.delete||console.log("dc");rF="8.10.0";Fv=hS();oF=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(sF(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();ZI()&&self.firebase!==void 0&&(_s.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),Lv=self.firebase.SDK_VERSION,Lv&&Lv.indexOf("LITE")>=0&&_s.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));uF=Fv.initializeApp;Fv.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xv()&&_s.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),uF.apply(void 0,t)};dS=Fv;aF(dS);Z=dS});var pS={};CN(pS,{default:()=>Z});var cF,fS,gS=Ln(()=>{"use strict";Vu();Vu();cF="firebase",fS="8.10.1";Z.registerVersion(cF,fS,"app");Z.SDK_VERSION=fS});var mS=Ln(()=>{"use strict";Vu();(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,c){i!=Array.prototype&&i!=Object.prototype&&(i[s]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var s=0;s<i.length;++s){var c=i[s];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,s){if(s){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var f=i[d];f in c||(c[f]={}),c=c[f]}i=i[i.length-1],d=c[i],s=s(d),s!=d&&s!=null&&e(c,i,{configurable:!0,writable:!0,value:s})}}function a(i){var s=0;return function(){return s<i.length?{done:!1,value:i[s++]}:{done:!0}}}function u(i){var s=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return s?s.call(i):{next:a(i)}}o("Promise",function(i){function s(v){this.b=0,this.c=void 0,this.a=[];var w=this.f();try{v(w.resolve,w.reject)}catch(T){w.reject(T)}}function c(){this.a=null}function d(v){return v instanceof s?v:new s(function(w){w(v)})}if(i)return i;c.prototype.b=function(v){if(this.a==null){this.a=[];var w=this;this.c(function(){w.g()})}this.a.push(v)};var f=r.setTimeout;c.prototype.c=function(v){f(v,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var v=this.a;this.a=[];for(var w=0;w<v.length;++w){var T=v[w];v[w]=null;try{T()}catch(k){this.f(k)}}}this.a=null},c.prototype.f=function(v){this.c(function(){throw v})},s.prototype.f=function(){function v(k){return function(ne){T||(T=!0,k.call(w,ne))}}var w=this,T=!1;return{resolve:v(this.m),reject:v(this.g)}},s.prototype.m=function(v){if(v===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(v instanceof s)this.s(v);else{e:switch(typeof v){case"object":var w=v!=null;break e;case"function":w=!0;break e;default:w=!1}w?this.v(v):this.h(v)}},s.prototype.v=function(v){var w=void 0;try{w=v.then}catch(T){this.g(T);return}typeof w=="function"?this.u(w,v):this.h(v)},s.prototype.g=function(v){this.i(2,v)},s.prototype.h=function(v){this.i(1,v)},s.prototype.i=function(v,w){if(this.b!=0)throw Error("Cannot settle("+v+", "+w+"): Promise already settled in state"+this.b);this.b=v,this.c=w,this.l()},s.prototype.l=function(){if(this.a!=null){for(var v=0;v<this.a.length;++v)m.b(this.a[v]);this.a=null}};var m=new c;return s.prototype.s=function(v){var w=this.f();v.Ra(w.resolve,w.reject)},s.prototype.u=function(v,w){var T=this.f();try{v.call(w,T.resolve,T.reject)}catch(k){T.reject(k)}},s.prototype.then=function(v,w){function T(me,ut){return typeof me=="function"?function(pr){try{k(me(pr))}catch(Yg){ne(Yg)}}:ut}var k,ne,Ee=new s(function(me,ut){k=me,ne=ut});return this.Ra(T(v,k),T(w,ne)),Ee},s.prototype.catch=function(v){return this.then(void 0,v)},s.prototype.Ra=function(v,w){function T(){switch(k.b){case 1:v(k.c);break;case 2:w(k.c);break;default:throw Error("Unexpected state: "+k.b)}}var k=this;this.a==null?m.b(T):this.a.push(T)},s.resolve=d,s.reject=function(v){return new s(function(w,T){T(v)})},s.race=function(v){return new s(function(w,T){for(var k=u(v),ne=k.next();!ne.done;ne=k.next())d(ne.value).Ra(w,T)})},s.all=function(v){var w=u(v),T=w.next();return T.done?d([]):new s(function(k,ne){function Ee(pr){return function(Yg){me[pr]=Yg,ut--,ut==0&&k(me)}}var me=[],ut=0;do me.push(void 0),ut++,d(T.value).Ra(Ee(me.length-1),ne),T=w.next();while(!T.done)})},s});var l=l||{},h=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function y(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function _(){}function b(i){var s=typeof i;return s!="object"?s:i?Array.isArray(i)?"array":s:"null"}function E(i){var s=b(i);return s=="array"||s=="object"&&typeof i.length=="number"}function C(i){return b(i)=="function"}function A(i){var s=typeof i;return s=="object"&&i!=null||s=="function"}function N(i){return Object.prototype.hasOwnProperty.call(i,q)&&i[q]||(i[q]=++B)}var q="closure_uid_"+(1e9*Math.random()>>>0),B=0;function oe(i,s,c){return i.call.apply(i.bind,arguments)}function he(i,s,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,d),i.apply(s,f)}}return function(){return i.apply(s,arguments)}}function L(i,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=oe:L=he,L.apply(null,arguments)}function xe(i,s){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}var aa=Date.now;function ee(i,s){function c(){}c.prototype=s.prototype,i.bb=s.prototype,i.prototype=new c,i.prototype.constructor=i}function yo(i){return i}function I(i,s,c){this.code=ua+i,this.message=s||yO[i]||"",this.a=c||null}ee(I,Error),I.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},I.prototype.toJSON=function(){return this.w()};function Q_(i){var s=i&&i.code;return s?new I(s.substring(ua.length),i.message,i.serverResponse):null}var ua="auth/",yO={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},gf={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ca(i){for(var s in gf)if(gf[s].id===i)return i=gf[s],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var la;la=ca("__EID__")?"__EID__":void 0;function Z_(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function nn(i){if(Error.captureStackTrace)Error.captureStackTrace(this,nn);else{var s=Error().stack;s&&(this.stack=s)}i&&(this.message=String(i))}ee(nn,Error),nn.prototype.name="CustomError";function mf(i,s){i=i.split("%s");for(var c="",d=i.length-1,f=0;f<d;f++)c+=i[f]+(f<s.length?s[f]:"%s");nn.call(this,c+i[d])}ee(mf,nn),mf.prototype.name="AssertionError";function _o(i,s){throw new mf("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function vf(i,s){this.c=i,this.f=s,this.b=0,this.a=null}vf.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function J_(i,s){i.f(s),100>i.b&&(i.b++,s.next=i.a,i.a=s)}function ew(){this.b=this.a=null}var tw=new vf(function(){return new yf},function(i){i.reset()});ew.prototype.add=function(i,s){var c=tw.get();c.set(i,s),this.b?this.b.next=c:this.a=c,this.b=c};function _O(){var i=Tw,s=null;return i.a&&(s=i.a,i.a=i.a.next,i.a||(i.b=null),s.next=null),s}function yf(){this.next=this.b=this.a=null}yf.prototype.set=function(i,s){this.a=i,this.b=s,this.next=null},yf.prototype.reset=function(){this.next=this.b=this.a=null};var nw=Array.prototype.indexOf?function(i,s){return Array.prototype.indexOf.call(i,s,void 0)}:function(i,s){if(typeof i=="string")return typeof s!="string"||s.length!=1?-1:i.indexOf(s,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===s)return c;return-1},Ve=Array.prototype.forEach?function(i,s,c){Array.prototype.forEach.call(i,s,c)}:function(i,s,c){for(var d=i.length,f=typeof i=="string"?i.split(""):i,m=0;m<d;m++)m in f&&s.call(c,f[m],m,i)};function wO(i,s){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&s.call(void 0,c[d],d,i)}var bO=Array.prototype.filter?function(i,s){return Array.prototype.filter.call(i,s,void 0)}:function(i,s){for(var c=i.length,d=[],f=0,m=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in m){var w=m[v];s.call(void 0,w,v,i)&&(d[f++]=w)}return d},Lc=Array.prototype.map?function(i,s){return Array.prototype.map.call(i,s,void 0)}:function(i,s){for(var c=i.length,d=Array(c),f=typeof i=="string"?i.split(""):i,m=0;m<c;m++)m in f&&(d[m]=s.call(void 0,f[m],m,i));return d},EO=Array.prototype.some?function(i,s){return Array.prototype.some.call(i,s,void 0)}:function(i,s){for(var c=i.length,d=typeof i=="string"?i.split(""):i,f=0;f<c;f++)if(f in d&&s.call(void 0,d[f],f,i))return!0;return!1};function CO(i){e:{for(var s=nx,c=i.length,d=typeof i=="string"?i.split(""):i,f=0;f<c;f++)if(f in d&&s.call(void 0,d[f],f,i)){s=f;break e}s=-1}return 0>s?null:typeof i=="string"?i.charAt(s):i[s]}function cr(i,s){return 0<=nw(i,s)}function Fc(i,s){s=nw(i,s);var c;return(c=0<=s)&&Array.prototype.splice.call(i,s,1),c}function Rn(i,s){var c=0;wO(i,function(d,f){s.call(void 0,d,f,i)&&Array.prototype.splice.call(i,f,1).length==1&&c++})}function _f(i){return Array.prototype.concat.apply([],arguments)}function di(i){var s=i.length;if(0<s){for(var c=Array(s),d=0;d<s;d++)c[d]=i[d];return c}return[]}var rw=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},IO=/&/g,SO=/</g,AO=/>/g,DO=/"/g,TO=/'/g,RO=/\x00/g,OO=/[\x00&<>"']/;function Te(i,s){return i.indexOf(s)!=-1}function wf(i,s){return i<s?-1:i>s?1:0}var wo;e:{var iw=h.navigator;if(iw){var ow=iw.userAgent;if(ow){wo=ow;break e}}wo=""}function it(i){return Te(wo,i)}function sw(i,s){for(var c in i)s.call(void 0,i[c],c,i)}function fi(i){for(var s in i)return!1;return!0}function Rr(i){var s={},c;for(c in i)s[c]=i[c];return s}var aw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wt(i,s){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)i[c]=d[c];for(var m=0;m<aw.length;m++)c=aw[m],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function uw(i,s){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||h,d.Element&&d.Location){var f=d;break e}}catch{}f=null}if(f&&typeof f[s]<"u"&&(!i||!(i instanceof f[s])&&(i instanceof f.Location||i instanceof f.Element))){if(A(i))try{var m=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{m="<object could not be stringified>"}else m=i===void 0?"undefined":i===null?"null":typeof i;_o("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,m)}}function Gn(i,s){this.a=i===Vc&&s||"",this.b=cw}Gn.prototype.ta=!0,Gn.prototype.sa=function(){return this.a},Gn.prototype.toString=function(){return"Const{"+this.a+"}"};function bf(i){return i instanceof Gn&&i.constructor===Gn&&i.b===cw?i.a:(_o("expected object of type Const, got '"+i+"'"),"type_error:Const")}var cw={},Vc={},jc;function lw(){if(jc===void 0){var i=null,s=h.trustedTypes;if(s&&s.createPolicy){try{i=s.createPolicy("goog#html",{createHTML:yo,createScript:yo,createScriptURL:yo})}catch(c){h.console&&h.console.error(c.message)}jc=i}else jc=i}return jc}function bo(i,s){this.a=s===dw?i:""}bo.prototype.ta=!0,bo.prototype.sa=function(){return this.a.toString()},bo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function hw(i){return i instanceof bo&&i.constructor===bo?i.a:(_o("expected object of type TrustedResourceUrl, got '"+i+"' of type "+b(i)),"type_error:TrustedResourceUrl")}function Ef(i,s){var c=bf(i);if(!xO.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(kO,function(d,f){if(!Object.prototype.hasOwnProperty.call(s,f))throw Error('Found marker, "'+f+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return d=s[f],d instanceof Gn?bf(d):encodeURIComponent(String(d))}),NO(i)}var kO=/%{(\w+)}/g,xO=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,dw={};function NO(i){var s=lw();return i=s?s.createScriptURL(i):i,new bo(i,dw)}function Kt(i,s){this.a=s===ha?i:""}Kt.prototype.ta=!0,Kt.prototype.sa=function(){return this.a.toString()},Kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Uc(i){return i instanceof Kt&&i.constructor===Kt?i.a:(_o("expected object of type SafeUrl, got '"+i+"' of type "+b(i)),"type_error:SafeUrl")}var MO=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,PO=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,fw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function pw(i){if(i instanceof Kt)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),fw.test(i))i=new Kt(i,ha);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var s=i.match(PO);i=s&&MO.test(s[1])?new Kt(i,ha):null}return i}function gw(i){return i instanceof Kt?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),fw.test(i)||(i="about:invalid#zClosurez"),new Kt(i,ha))}var ha={},mw=new Kt("about:invalid#zClosurez",ha);function Eo(i,s,c){this.a=c===vw?i:""}Eo.prototype.ta=!0,Eo.prototype.sa=function(){return this.a.toString()},Eo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function LO(i){return i instanceof Eo&&i.constructor===Eo?i.a:(_o("expected object of type SafeHtml, got '"+i+"' of type "+b(i)),"type_error:SafeHtml")}var vw={};function FO(i,s){uw(i,"HTMLScriptElement"),i.src=hw(s),(s=i.ownerDocument&&i.ownerDocument.defaultView)&&s!=h?s=y(s.document):(g===null&&(g=y(h.document)),s=g),s&&i.setAttribute("nonce",s)}function yw(i,s,c,d){return i=i instanceof Kt?i:gw(i),s=s||h,c=c instanceof Gn?bf(c):c||"",s.open(Uc(i),c,d,void 0)}function _w(i,s){for(var c=i.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")}function Cf(i){return OO.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(IO,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(SO,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(AO,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(DO,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(TO,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(RO,"&#0;"))),i}function If(i){return If[" "](i),i}If[" "]=_;function VO(i,s){var c=qO;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=s(i)}var jO=it("Opera"),On=it("Trident")||it("MSIE"),ww=it("Edge"),UO=ww||On,bw=it("Gecko")&&!(Te(wo.toLowerCase(),"webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),BO=Te(wo.toLowerCase(),"webkit")&&!it("Edge");function Ew(){var i=h.document;return i?i.documentMode:void 0}var Bc;e:{var Sf="",Af=function(){var i=wo;if(bw)return/rv:([^\);]+)(\)|;)/.exec(i);if(ww)return/Edge\/([\d\.]+)/.exec(i);if(On)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(BO)return/WebKit\/(\S+)/.exec(i);if(jO)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Af&&(Sf=Af?Af[1]:""),On){var Df=Ew();if(Df!=null&&Df>parseFloat(Sf)){Bc=String(Df);break e}}Bc=Sf}var qO={};function Cw(i){return VO(i,function(){for(var s=0,c=rw(String(Bc)).split("."),d=rw(String(i)).split("."),f=Math.max(c.length,d.length),m=0;s==0&&m<f;m++){var v=c[m]||"",w=d[m]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],v[0].length==0&&w[0].length==0)break;s=wf(v[1].length==0?0:parseInt(v[1],10),w[1].length==0?0:parseInt(w[1],10))||wf(v[2].length==0,w[2].length==0)||wf(v[2],w[2]),v=v[3],w=w[3]}while(s==0)}return 0<=s})}var Tf;if(h.document&&On){var Iw=Ew();Tf=Iw||parseInt(Bc,10)||void 0}else Tf=void 0;var Or=Tf;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var zO=!On||9<=Number(Or);function da(i){var s=document;return typeof i=="string"?s.getElementById(i):i}function Sw(i,s){sw(s,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:Aw.hasOwnProperty(d)?i.setAttribute(Aw[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var Aw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function HO(i,s,c){var d=arguments,f=document,m=String(d[0]),v=d[1];if(!zO&&v&&(v.name||v.type)){if(m=["<",m],v.name&&m.push(' name="',Cf(v.name),'"'),v.type){m.push(' type="',Cf(v.type),'"');var w={};Wt(w,v),delete w.type,v=w}m.push(">"),m=m.join("")}return m=qc(f,m),v&&(typeof v=="string"?m.className=v:Array.isArray(v)?m.className=v.join(" "):Sw(m,v)),2<d.length&&GO(f,m,d),m}function GO(i,s,c){function d(w){w&&s.appendChild(typeof w=="string"?i.createTextNode(w):w)}for(var f=2;f<c.length;f++){var m=c[f];if(!E(m)||A(m)&&0<m.nodeType)d(m);else{e:{if(m&&typeof m.length=="number"){if(A(m)){var v=typeof m.item=="function"||typeof m.item=="string";break e}if(C(m)){v=typeof m.item=="function";break e}}v=!1}Ve(v?di(m):m,d)}}}function qc(i,s){return s=String(s),i.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),i.createElement(s)}function Dw(i){h.setTimeout(function(){throw i},0)}var Rf;function WO(){var i=h.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!it("Presto")&&(i=function(){var f=qc(document,"IFRAME");f.style.display="none",document.documentElement.appendChild(f);var m=f.contentWindow;f=m.document,f.open(),f.close();var v="callImmediate"+Math.random(),w=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;f=L(function(T){(w=="*"||T.origin==w)&&T.data==v&&this.port1.onmessage()},this),m.addEventListener("message",f,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(v,w)}}}),typeof i<"u"&&!it("Trident")&&!it("MSIE")){var s=new i,c={},d=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var f=c.Hb;c.Hb=null,f()}},function(f){d.next={Hb:f},d=d.next,s.port2.postMessage(0)}}return function(f){h.setTimeout(f,0)}}function zc(i,s){Hc||KO(),Of||(Hc(),Of=!0),Tw.add(i,s)}var Hc;function KO(){if(h.Promise&&h.Promise.resolve){var i=h.Promise.resolve(void 0);Hc=function(){i.then(Rw)}}else Hc=function(){var s=Rw;!C(h.setImmediate)||h.Window&&h.Window.prototype&&!it("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(Rf||(Rf=WO()),Rf(s)):h.setImmediate(s)}}var Of=!1,Tw=new ew;function Rw(){for(var i;i=_O();){try{i.a.call(i.b)}catch(s){Dw(s)}J_(tw,i)}Of=!1}function ce(i,s){if(this.a=pi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=_)try{var c=this;i.call(s,function(d){gi(c,fa,d)},function(d){if(!(d instanceof Co))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}gi(c,lr,d)})}catch(d){gi(this,lr,d)}}var pi=0,fa=2,lr=3;function Ow(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ow.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kw=new vf(function(){return new Ow},function(i){i.reset()});function kf(i,s,c){var d=kw.get();return d.g=i,d.b=s,d.f=c,d}function $(i){if(i instanceof ce)return i;var s=new ce(_);return gi(s,fa,i),s}function Ne(i){return new ce(function(s,c){c(i)})}function xw(i,s,c){Lw(i,s,c,null)||zc(xe(s,i))}function $O(i){return new ce(function(s,c){var d=i.length,f=[];if(d)for(var m=function(k,ne){d--,f[k]=ne,d==0&&s(f)},v=function(k){c(k)},w=0,T;w<i.length;w++)T=i[w],xw(T,xe(m,w),v);else s(f)})}function Nw(i){return new ce(function(s){var c=i.length,d=[];if(c)for(var f=function(w,T,k){c--,d[w]=T?{Qb:!0,value:k}:{Qb:!1,reason:k},c==0&&s(d)},m=0,v;m<i.length;m++)v=i[m],xw(v,xe(f,m,!0),xe(f,m,!1));else s(d)})}ce.prototype.then=function(i,s,c){return Pw(this,C(i)?i:null,C(s)?s:null,c)},ce.prototype.$goog_Thenable=!0,t=ce.prototype,t.oa=function(i,s){return i=kf(i,i,s),i.c=!0,xf(this,i),this},t.o=function(i,s){return Pw(this,null,i,s)},t.cancel=function(i){if(this.a==pi){var s=new Co(i);zc(function(){Mw(this,s)},this)}};function Mw(i,s){if(i.a==pi)if(i.c){var c=i.c;if(c.b){for(var d=0,f=null,m=null,v=c.b;v&&(v.c||(d++,v.a==i&&(f=v),!(f&&1<d)));v=v.next)f||(m=v);f&&(c.a==pi&&d==1?Mw(c,s):(m?(d=m,d.next==c.f&&(c.f=d),d.next=d.next.next):Vw(c),jw(c,f,lr,s)))}i.c=null}else gi(i,lr,s)}function xf(i,s){i.b||i.a!=fa&&i.a!=lr||Fw(i),i.f?i.f.next=s:i.b=s,i.f=s}function Pw(i,s,c,d){var f=kf(null,null,null);return f.a=new ce(function(m,v){f.g=s?function(w){try{var T=s.call(d,w);m(T)}catch(k){v(k)}}:m,f.b=c?function(w){try{var T=c.call(d,w);T===void 0&&w instanceof Co?v(w):m(T)}catch(k){v(k)}}:v}),f.a.c=i,xf(i,f),f.a}t.$c=function(i){this.a=pi,gi(this,fa,i)},t.ad=function(i){this.a=pi,gi(this,lr,i)};function gi(i,s,c){i.a==pi&&(i===c&&(s=lr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,Lw(c,i.$c,i.ad,i)||(i.i=c,i.a=s,i.c=null,Fw(i),s!=lr||c instanceof Co||XO(i,c)))}function Lw(i,s,c,d){if(i instanceof ce)return xf(i,kf(s||_,c||null,d)),!0;if(Z_(i))return i.then(s,c,d),!0;if(A(i))try{var f=i.then;if(C(f))return YO(i,f,s,c,d),!0}catch(m){return c.call(d,m),!0}return!1}function YO(i,s,c,d,f){function m(T){w||(w=!0,d.call(f,T))}function v(T){w||(w=!0,c.call(f,T))}var w=!1;try{s.call(i,v,m)}catch(T){m(T)}}function Fw(i){i.h||(i.h=!0,zc(i.gc,i))}function Vw(i){var s=null;return i.b&&(s=i.b,i.b=s.next,s.next=null),i.b||(i.f=null),s}t.gc=function(){for(var i;i=Vw(this);)jw(this,i,this.a,this.i);this.h=!1};function jw(i,s,c,d){if(c==lr&&s.b&&!s.c)for(;i&&i.g;i=i.c)i.g=!1;if(s.a)s.a.c=null,Uw(s,c,d);else try{s.c?s.g.call(s.f):Uw(s,c,d)}catch(f){Bw.call(null,f)}J_(kw,s)}function Uw(i,s,c){s==fa?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function XO(i,s){i.g=!0,zc(function(){i.g&&Bw.call(null,s)})}var Bw=Dw;function Co(i){nn.call(this,i)}ee(Co,nn),Co.prototype.name="cancel";function Gc(){Nf!=0&&(qw[N(this)]=this),this.ya=this.ya,this.pa=this.pa}var Nf=0,qw={};Gc.prototype.ya=!1;function zw(i){if(!i.ya&&(i.ya=!0,i.Da(),Nf!=0)){var s=N(i);if(Nf!=0&&i.pa&&0<i.pa.length)throw Error(i+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qw[s]}}Gc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var QO=Object.freeze||function(i){return i},Hw=!On||9<=Number(Or),ZO=On&&!Cw("9"),JO=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var i=!1,s=Object.defineProperty({},"passive",{get:function(){i=!0}});try{h.addEventListener("test",_,s),h.removeEventListener("test",_,s)}catch{}return i}();function $t(i,s){this.type=i,this.b=this.target=s,this.defaultPrevented=!1}$t.prototype.preventDefault=function(){this.defaultPrevented=!0};function mi(i,s){if($t.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=s,s=i.relatedTarget){if(bw){e:{try{If(s.nodeName);var f=!0;break e}catch{}f=!1}f||(s=null)}}else c=="mouseover"?s=i.fromElement:c=="mouseout"&&(s=i.toElement);this.relatedTarget=s,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:ek[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}ee(mi,$t);var ek=QO({2:"touch",3:"pen",4:"mouse"});mi.prototype.preventDefault=function(){mi.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,ZO)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},mi.prototype.g=function(){return this.a};var pa="closure_listenable_"+(1e6*Math.random()|0),tk=0;function nk(i,s,c,d,f){this.listener=i,this.proxy=null,this.src=s,this.type=c,this.capture=!!d,this.Wa=f,this.key=++tk,this.wa=this.Qa=!1}function Wc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Kc(i){this.src=i,this.a={},this.b=0}Kc.prototype.add=function(i,s,c,d,f){var m=i.toString();i=this.a[m],i||(i=this.a[m]=[],this.b++);var v=Pf(i,s,d,f);return-1<v?(s=i[v],c||(s.Qa=!1)):(s=new nk(s,this.src,m,!!d,f),s.Qa=c,i.push(s)),s};function Mf(i,s){var c=s.type;c in i.a&&Fc(i.a[c],s)&&(Wc(s),i.a[c].length==0&&(delete i.a[c],i.b--))}function Pf(i,s,c,d){for(var f=0;f<i.length;++f){var m=i[f];if(!m.wa&&m.listener==s&&m.capture==!!c&&m.Wa==d)return f}return-1}var Lf="closure_lm_"+(1e6*Math.random()|0),Ff={},Gw=0;function wn(i,s,c,d,f){if(d&&d.once)Vf(i,s,c,d,f);else if(Array.isArray(s))for(var m=0;m<s.length;m++)wn(i,s[m],c,d,f);else c=Uf(c),i&&i[pa]?Qw(i,s,c,A(d)?!!d.capture:!!d,f):Ww(i,s,c,!1,d,f)}function Ww(i,s,c,d,f,m){if(!s)throw Error("Invalid event type");var v=A(f)?!!f.capture:!!f,w=$c(i);if(w||(i[Lf]=w=new Kc(i)),c=w.add(s,c,d,v,m),!c.proxy){if(d=rk(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)JO||(f=v),f===void 0&&(f=!1),i.addEventListener(s.toString(),d,f);else if(i.attachEvent)i.attachEvent($w(s.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Gw++}}function rk(){var i=ik,s=Hw?function(c){return i.call(s.src,s.listener,c)}:function(c){if(c=i.call(s.src,s.listener,c),!c)return c};return s}function Vf(i,s,c,d,f){if(Array.isArray(s))for(var m=0;m<s.length;m++)Vf(i,s[m],c,d,f);else c=Uf(c),i&&i[pa]?Bf(i,s,c,A(d)?!!d.capture:!!d,f):Ww(i,s,c,!0,d,f)}function rn(i,s,c,d,f){if(Array.isArray(s))for(var m=0;m<s.length;m++)rn(i,s[m],c,d,f);else d=A(d)?!!d.capture:!!d,c=Uf(c),i&&i[pa]?(i=i.v,s=String(s).toString(),s in i.a&&(m=i.a[s],c=Pf(m,c,d,f),-1<c&&(Wc(m[c]),Array.prototype.splice.call(m,c,1),m.length==0&&(delete i.a[s],i.b--)))):i&&(i=$c(i))&&(s=i.a[s.toString()],i=-1,s&&(i=Pf(s,c,d,f)),(c=-1<i?s[i]:null)&&Kw(c))}function Kw(i){if(typeof i!="number"&&i&&!i.wa){var s=i.src;if(s&&s[pa])Mf(s.v,i);else{var c=i.type,d=i.proxy;s.removeEventListener?s.removeEventListener(c,d,i.capture):s.detachEvent?s.detachEvent($w(c),d):s.addListener&&s.removeListener&&s.removeListener(d),Gw--,(c=$c(s))?(Mf(c,i),c.b==0&&(c.src=null,s[Lf]=null)):Wc(i)}}}function $w(i){return i in Ff?Ff[i]:Ff[i]="on"+i}function Yw(i,s,c,d){var f=!0;if((i=$c(i))&&(s=i.a[s.toString()]))for(s=s.concat(),i=0;i<s.length;i++){var m=s[i];m&&m.capture==c&&!m.wa&&(m=Xw(m,d),f=f&&m!==!1)}return f}function Xw(i,s){var c=i.listener,d=i.Wa||i.src;return i.Qa&&Kw(i),c.call(d,s)}function ik(i,s){if(i.wa)return!0;if(!Hw){if(!s)e:{s=["window","event"];for(var c=h,d=0;d<s.length;d++)if(c=c[s[d]],c==null){s=null;break e}s=c}if(d=s,s=new mi(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var f=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{f=!0}(f||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],f=s.b;f;f=f.parentNode)d.push(f);for(i=i.type,f=d.length-1;0<=f;f--){s.b=d[f];var m=Yw(d[f],i,!0,s);c=c&&m}for(f=0;f<d.length;f++)s.b=d[f],m=Yw(d[f],i,!1,s),c=c&&m}return c}return Xw(i,new mi(s,this))}function $c(i){return i=i[Lf],i instanceof Kc?i:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uf(i){return C(i)?i:(i[jf]||(i[jf]=function(s){return i.handleEvent(s)}),i[jf])}function Ft(){Gc.call(this),this.v=new Kc(this),this.bc=this,this.hb=null}ee(Ft,Gc),Ft.prototype[pa]=!0,Ft.prototype.addEventListener=function(i,s,c,d){wn(this,i,s,c,d)},Ft.prototype.removeEventListener=function(i,s,c,d){rn(this,i,s,c,d)},Ft.prototype.dispatchEvent=function(i){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new $t(i,c);else if(i instanceof $t)i.target=i.target||c;else{var f=i;i=new $t(d,c),Wt(i,f)}if(f=!0,s)for(var m=s.length-1;0<=m;m--){var v=i.b=s[m];f=Yc(v,d,!0,i)&&f}if(v=i.b=c,f=Yc(v,d,!0,i)&&f,f=Yc(v,d,!1,i)&&f,s)for(m=0;m<s.length;m++)v=i.b=s[m],f=Yc(v,d,!1,i)&&f;return f},Ft.prototype.Da=function(){if(Ft.bb.Da.call(this),this.v){var i=this.v,s=0,c;for(c in i.a){for(var d=i.a[c],f=0;f<d.length;f++)++s,Wc(d[f]);delete i.a[c],i.b--}}this.hb=null};function Qw(i,s,c,d,f){i.v.add(String(s),c,!1,d,f)}function Bf(i,s,c,d,f){i.v.add(String(s),c,!0,d,f)}function Yc(i,s,c,d){if(s=i.v.a[String(s)],!s)return!0;s=s.concat();for(var f=!0,m=0;m<s.length;++m){var v=s[m];if(v&&!v.wa&&v.capture==c){var w=v.listener,T=v.Wa||v.src;v.Qa&&Mf(i.v,v),f=w.call(T,d)!==!1&&f}}return f&&!d.defaultPrevented}function qf(i,s,c){if(C(i))c&&(i=L(i,c));else if(i&&typeof i.handleEvent=="function")i=L(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:h.setTimeout(i,s||0)}function Io(i){var s=null;return new ce(function(c,d){s=qf(function(){c(void 0)},i),s==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw h.clearTimeout(s),c})}function Zw(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(E(i)){for(var s=[],c=i.length,d=0;d<c;d++)s.push(i[d]);return s}s=[],c=0;for(d in i)s[c++]=i[d];return s}function Jw(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(E(i)||typeof i=="string"){var s=[];i=i.length;for(var c=0;c<i;c++)s.push(c);return s}s=[],c=0;for(var d in i)s[c++]=d;return s}}function ok(i,s){if(i.forEach&&typeof i.forEach=="function")i.forEach(s,void 0);else if(E(i)||typeof i=="string")Ve(i,s,void 0);else for(var c=Jw(i),d=Zw(i),f=d.length,m=0;m<f;m++)s.call(void 0,d[m],c&&c[m],i)}function So(i,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof So)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}t=So.prototype,t.X=function(){zf(this);for(var i=[],s=0;s<this.a.length;s++)i.push(this.b[this.a[s]]);return i},t.Y=function(){return zf(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function zf(i){if(i.c!=i.a.length){for(var s=0,c=0;s<i.a.length;){var d=i.a[s];vi(i.b,d)&&(i.a[c++]=d),s++}i.a.length=c}if(i.c!=i.a.length){var f={};for(c=s=0;s<i.a.length;)d=i.a[s],vi(f,d)||(i.a[c++]=d,f[d]=1),s++;i.a.length=c}}t.get=function(i,s){return vi(this.b,i)?this.b[i]:s},t.set=function(i,s){vi(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=s},t.forEach=function(i,s){for(var c=this.Y(),d=0;d<c.length;d++){var f=c[d],m=this.get(f);i.call(s,m,f,this)}};function vi(i,s){return Object.prototype.hasOwnProperty.call(i,s)}var e0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sk(i,s){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),f=null;if(0<=d){var m=i[c].substring(0,d);f=i[c].substring(d+1)}else m=i[c];s(m,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}function kr(i,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof kr?(this.i=s!==void 0?s:i.i,ga(this,i.c),this.l=i.l,this.a=i.a,ma(this,i.g),this.f=i.f,Hf(this,i0(i.b)),this.h=i.h):i&&(c=String(i).match(e0))?(this.i=!!s,ga(this,c[1]||"",!0),this.l=va(c[2]||""),this.a=va(c[3]||"",!0),ma(this,c[4]),this.f=va(c[5]||"",!0),Hf(this,c[6]||"",!0),this.h=va(c[7]||"")):(this.i=!!s,this.b=new yi(null,this.i))}kr.prototype.toString=function(){var i=[],s=this.c;s&&i.push(ya(s,t0,!0),":");var c=this.a;return(c||s=="file")&&(i.push("//"),(s=this.l)&&i.push(ya(s,t0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(ya(c,c.charAt(0)=="/"?ck:uk,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",ya(c,hk)),i.join("")},kr.prototype.resolve=function(i){var s=new kr(this),c=!!i.c;c?ga(s,i.c):c=!!i.l,c?s.l=i.l:c=!!i.a,c?s.a=i.a:c=i.g!=null;var d=i.f;if(c)ma(s,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var f=s.f.lastIndexOf("/");f!=-1&&(d=s.f.substr(0,f+1)+d)}if(f=d,f==".."||f==".")d="";else if(Te(f,"./")||Te(f,"/.")){d=f.lastIndexOf("/",0)==0,f=f.split("/");for(var m=[],v=0;v<f.length;){var w=f[v++];w=="."?d&&v==f.length&&m.push(""):w==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),d&&v==f.length&&m.push("")):(m.push(w),d=!0)}d=m.join("/")}else d=f}return c?s.f=d:c=i.b.toString()!=="",c?Hf(s,i0(i.b)):c=!!i.h,c&&(s.h=i.h),s};function ga(i,s,c){i.c=c?va(s,!0):s,i.c&&(i.c=i.c.replace(/:$/,""))}function ma(i,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);i.g=s}else i.g=null}function Hf(i,s,c){s instanceof yi?(i.b=s,dk(i.b,i.i)):(c||(s=ya(s,lk)),i.b=new yi(s,i.i))}function Ge(i,s,c){i.b.set(s,c)}function bn(i,s){return i.b.get(s)}function Yt(i){return i instanceof kr?new kr(i):new kr(i,void 0)}function Xc(i,s,c,d){var f=new kr(null,void 0);return i&&ga(f,i),s&&(f.a=s),c&&ma(f,c),d&&(f.f=d),f}function va(i,s){return i?s?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ya(i,s,c){return typeof i=="string"?(i=encodeURI(i).replace(s,ak),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ak(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var t0=/[#\/\?@]/g,uk=/[#\?:]/g,ck=/[#\?]/g,lk=/[#\?@]/g,hk=/#/g;function yi(i,s){this.b=this.a=null,this.c=i||null,this.f=!!s}function xr(i){i.a||(i.a=new So,i.b=0,i.c&&sk(i.c,function(s,c){i.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function n0(i){var s=Jw(i);if(typeof s>"u")throw Error("Keys are undefined");var c=new yi(null,void 0);i=Zw(i);for(var d=0;d<s.length;d++){var f=s[d],m=i[d];Array.isArray(m)?r0(c,f,m):c.add(f,m)}return c}t=yi.prototype,t.add=function(i,s){xr(this),this.c=null,i=Ao(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(s),this.b+=1,this};function Wn(i,s){xr(i),s=Ao(i,s),vi(i.a.b,s)&&(i.c=null,i.b-=i.a.get(s).length,i=i.a,vi(i.b,s)&&(delete i.b[s],i.c--,i.a.length>2*i.c&&zf(i)))}t.clear=function(){this.a=this.c=null,this.b=0};function Gf(i,s){return xr(i),s=Ao(i,s),vi(i.a.b,s)}t.forEach=function(i,s){xr(this),this.a.forEach(function(c,d){Ve(c,function(f){i.call(s,f,d,this)},this)},this)},t.Y=function(){xr(this);for(var i=this.a.X(),s=this.a.Y(),c=[],d=0;d<s.length;d++)for(var f=i[d],m=0;m<f.length;m++)c.push(s[d]);return c},t.X=function(i){xr(this);var s=[];if(typeof i=="string")Gf(this,i)&&(s=_f(s,this.a.get(Ao(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)s=_f(s,i[c])}return s},t.set=function(i,s){return xr(this),this.c=null,i=Ao(this,i),Gf(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[s]),this.b+=1,this},t.get=function(i,s){return i?(i=this.X(i),0<i.length?String(i[0]):s):s};function r0(i,s,c){Wn(i,s),0<c.length&&(i.c=null,i.a.set(Ao(i,s),di(c)),i.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],s=this.a.Y(),c=0;c<s.length;c++){var d=s[c],f=encodeURIComponent(String(d));d=this.X(d);for(var m=0;m<d.length;m++){var v=f;d[m]!==""&&(v+="="+encodeURIComponent(String(d[m]))),i.push(v)}}return this.c=i.join("&")};function i0(i){var s=new yi;return s.c=i.c,i.a&&(s.a=new So(i.a),s.b=i.b),s}function Ao(i,s){return s=String(s),i.f&&(s=s.toLowerCase()),s}function dk(i,s){s&&!i.f&&(xr(i),i.c=null,i.a.forEach(function(c,d){var f=d.toLowerCase();d!=f&&(Wn(this,d),r0(this,f,c))},i)),i.f=s}function o0(i){var s=[];return Wf(new fk,i,s),s.join("")}function fk(){}function Wf(i,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var d=s;s=d.length,c.push("[");for(var f="",m=0;m<s;m++)c.push(f),Wf(i,d[m],c),f=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),f="";for(d in s)Object.prototype.hasOwnProperty.call(s,d)&&(m=s[d],typeof m!="function"&&(c.push(f),a0(d,c),c.push(":"),Wf(i,m,c),f=","));c.push("}");return}}switch(typeof s){case"string":a0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var s0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},pk=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function a0(i,s){s.push('"',i.replace(pk,function(c){var d=s0[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),s0[c]=d),d}),'"')}function Kf(){var i=gt();return On&&!!Or&&Or==11||/Edge\/\d+/.test(i)}function _a(){return h.window&&h.window.location.href||self&&self.location&&self.location.href||""}function u0(i,s){s=s||h.window;var c="about:blank";i&&(c=Uc(pw(i)||mw)),s.location.href=c}function c0(i,s){var c=[],d;for(d in i)d in s?typeof i[d]!=typeof s[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&s[d]!=null?0<c0(i[d],s[d]).length&&c.push(d):i[d]!==s[d]&&c.push(d):c.push(d);for(d in s)d in i||c.push(d);return c}function gk(){var i=gt();return i=Do(i)!=f0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!On||!Or||9<Or}function l0(i){return i=(i||gt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function _i(i){i=i||h.window;try{i.close()}catch{}}function h0(i,s,c){var d=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var f=(window.screen.availHeight-c)/2,m=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<f?f:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=gt().toLowerCase(),d&&(s.target=d,Te(c,"crios/")&&(s.target="_blank")),Do(gt())==Xf&&(i=i||"http://localhost",s.scrollbars=!0),c=i||"",(i=s)||(i={}),d=window,s=c instanceof Kt?c:pw(typeof c.href<"u"?c.href:String(c))||mw,c=i.target||c.target,f=[];for(v in i)switch(v){case"width":case"height":case"top":case"left":f.push(v+"="+i[v]);break;case"target":case"noopener":case"noreferrer":break;default:f.push(v+"="+(i[v]?1:0))}var v=f.join(",");if((it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(v=qc(document,"A"),uw(v,"HTMLAnchorElement"),s=s instanceof Kt?s:gw(s),v.href=Uc(s),v.setAttribute("target",c),i.noreferrer&&v.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),v.dispatchEvent(i),v={}):i.noreferrer?(v=yw("",d,c,v),i=Uc(s),v&&(UO&&Te(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),v.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Cf(i)+'">',i=(d=lw())?d.createHTML(i):i,i=new Eo(i,null,vw),d=v.document)&&(d.write(LO(i)),d.close())):(v=yw(s,d,c,v))&&i.noopener&&(v.opener=null),v)try{v.focus()}catch{}return v}function mk(i){return new ce(function(s){function c(){Io(2e3).then(function(){if(!i||i.closed)s();else return c()})}return c()})}var vk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yk=/^[^@]+@[^@]+$/;function Qc(){var i=null;return new ce(function(s){h.document.readyState=="complete"?s():(i=function(){s()},Vf(window,"load",i))}).o(function(s){throw rn(window,"load",i),s})}function _k(){return $f(void 0)?Qc().then(function(){return new ce(function(i,s){var c=h.document,d=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):Ne(Error("Cordova must run in an Android or iOS file scheme."))}function $f(i){return i=i||gt(),!(Ro()!=="file:"&&Ro()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yf(){var i=h.window;try{return!(!i||i==i.top)}catch{return!1}}function kn(){return typeof h.WorkerGlobalScope<"u"&&typeof h.importScripts=="function"}function Kn(){return Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Z.INTERNAL.hasOwnProperty("node")?"Node":kn()?"Worker":"Browser"}function d0(){var i=Kn();return i==="ReactNative"||i==="Node"}function wk(){for(var i=50,s=[];0<i;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return s.join("")}var Xf="Firefox",f0="Chrome";function Do(i){var s=i.toLowerCase();if(Te(s,"opera/")||Te(s,"opr/")||Te(s,"opios/"))return"Opera";if(Te(s,"iemobile"))return"IEMobile";if(Te(s,"msie")||Te(s,"trident/"))return"IE";if(Te(s,"edge/"))return"Edge";if(Te(s,"firefox/"))return Xf;if(Te(s,"silk/"))return"Silk";if(Te(s,"blackberry"))return"Blackberry";if(Te(s,"webos"))return"Webos";if(!Te(s,"safari/")||Te(s,"chrome/")||Te(s,"crios/")||Te(s,"android"))if(!Te(s,"chrome/")&&!Te(s,"crios/")||Te(s,"edge/")){if(Te(s,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return f0;else return"Safari";return"Other"}var p0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function To(i,s){s=s||[];var c=[],d={},f;for(f in p0)d[p0[f]]=!0;for(f=0;f<s.length;f++)typeof d[s[f]]<"u"&&(delete d[s[f]],c.push(s[f]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Kn(),c==="Browser"?(d=gt(),c=Do(d)):c==="Worker"&&(d=gt(),c=Do(d)+"-"+c),c+"/JsCore/"+i+"/"+s.join(",")}function gt(){return h.navigator&&h.navigator.userAgent||""}function Me(i,s){i=i.split("."),s=s||h;for(var c=0;c<i.length&&typeof s=="object"&&s!=null;c++)s=s[i[c]];return c!=i.length&&(s=void 0),s}function Qf(){try{var i=h.localStorage,s=bi();if(i)return i.setItem(s,"1"),i.removeItem(s),Kf()?!!h.indexedDB:!0}catch{return kn()&&!!h.indexedDB}return!1}function wi(){return(Zc()||Ro()==="chrome-extension:"||$f())&&!d0()&&Qf()&&!kn()}function Zc(){return Ro()==="http:"||Ro()==="https:"}function Ro(){return h.location&&h.location.protocol||null}function wa(i){return i=i||gt(),!(l0(i)||Do(i)==Xf)}function ba(i){return typeof i>"u"?null:o0(i)}function g0(i){var s={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(s[c]=i[c]);return s}function Oo(i){if(i!==null)return JSON.parse(i)}function bi(i){return i||Math.floor(1e9*Math.random()).toString()}function m0(i){return i=i||gt(),!(Do(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function v0(){var i=h.___jsl;if(i&&i.H){for(var s in i.H)if(i.H[s].r=i.H[s].r||[],i.H[s].L=i.H[s].L||[],i.H[s].r=i.H[s].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function Nr(i,s){if(i>s)throw Error("Short delay should be less than long delay!");this.a=i,this.c=s,i=gt(),s=Kn(),this.b=l0(i)||s==="ReactNative"}Nr.prototype.get=function(){var i=h.navigator;return!(i&&typeof i.onLine=="boolean"&&(Zc()||Ro()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Zf(){var i=h.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function bk(){var i=h.document,s=null;return Zf()||!i?$():new ce(function(c){s=function(){Zf()&&(i.removeEventListener("visibilitychange",s,!1),c())},i.addEventListener("visibilitychange",s,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",s,!1),c})}function Ea(i){try{var s=new Date(parseInt(i,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(i))return s.toUTCString()}catch{}return null}function y0(){return!(!Me("fireauth.oauthhelper",h)&&!Me("fireauth.iframe",h))}function Ek(){var i=h.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function Ck(){var i=h.navigator;return i&&i.serviceWorker?$().then(function(){return i.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):$(null)}var _0={};function Jf(i){_0[i]||(_0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var ep;try{var tp={};Object.defineProperty(tp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(tp,"abcd",{configurable:!0,enumerable:!0,value:2}),ep=tp.abcd==2}catch{ep=!1}function G(i,s,c){ep?Object.defineProperty(i,s,{configurable:!0,enumerable:!0,value:c}):i[s]=c}function Vt(i,s){if(s)for(var c in s)s.hasOwnProperty(c)&&G(i,c,s[c])}function $n(i){var s={};return Vt(s,i),s}function Ik(i){var s={},c;for(c in i)i.hasOwnProperty(c)&&(s[c]=i[c]);return s}function Sk(i,s){if(!s||!s.length)return!0;if(!i)return!1;for(var c=0;c<s.length;c++){var d=i[s[c]];if(d==null||d==="")return!1}return!0}function np(i){var s=i;if(typeof i=="object"&&i!=null){s="length"in i?[]:{};for(var c in i)G(s,c,np(i[c]))}return s}function rp(i){var s=i&&(i[ap]?"phone":null);if(s&&i&&i[sp]){G(this,"uid",i[sp]),G(this,"displayName",i[w0]||null);var c=null;i[op]&&(c=new Date(i[op]).toUTCString()),G(this,"enrollmentTime",c),G(this,"factorId",s)}else throw new I("internal-error","Internal assert: invalid MultiFactorInfo object")}rp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function ip(i){try{var s=new Ca(i)}catch{s=null}return s}var w0="displayName",op="enrolledAt",sp="mfaEnrollmentId",ap="phoneInfo";function Ca(i){rp.call(this,i),G(this,"phoneNumber",i[ap])}ee(Ca,rp),Ca.prototype.w=function(){var i=Ca.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function Ak(i){var s={},c=i[Dk],d=i[Rk],f=i[Ok];if(i=ip(i[Tk]),!f||f!=Jc&&f!=Ia&&!c||f==Ia&&!d||f==up&&!i)throw Error("Invalid checkActionCode response!");f==Ia?(s[E0]=c||null,s[C0]=c||null,s[b0]=d):(s[E0]=d||null,s[C0]=d||null,s[b0]=c||null),s[kk]=i||null,G(this,Nk,f),G(this,xk,np(s))}var up="REVERT_SECOND_FACTOR_ADDITION",Jc="EMAIL_SIGNIN",Ia="VERIFY_AND_CHANGE_EMAIL",Dk="email",Tk="mfaInfo",Rk="newEmail",Ok="requestType",b0="email",E0="fromEmail",kk="multiFactorInfo",C0="previousEmail",xk="data",Nk="operation";function cp(i){i=Yt(i);var s=bn(i,I0)||null,c=bn(i,S0)||null,d=bn(i,A0)||null;if(d=d&&Fk[d]||null,!s||!c||!d)throw new I("argument-error",I0+", "+S0+"and "+A0+" are required in a valid action code URL.");Vt(this,{apiKey:s,operation:d,code:c,continueUrl:bn(i,Mk)||null,languageCode:bn(i,Pk)||null,tenantId:bn(i,Lk)||null})}var I0="apiKey",S0="oobCode",Mk="continueUrl",Pk="languageCode",A0="mode",Lk="tenantId",Fk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:up,signIn:Jc,verifyAndChangeEmail:Ia,verifyEmail:"VERIFY_EMAIL"};function D0(i){try{return new cp(i)}catch{return null}}function el(i){var s=i[Vk];if(typeof s>"u")throw new I("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new I("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=i[T0];if(c&&typeof c=="object"){s=c[N0];var d=c[k0];if(c=c[x0],typeof s=="string"&&s.length){if(this.a=s,typeof d<"u"&&typeof d!="boolean")throw new I("argument-error",k0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new I("argument-error",x0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new I("argument-error",N0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new I("missing-android-pkg-name")}}else if(typeof c<"u")throw new I("argument-error",T0+" property must be a non null object when specified.");if(this.f=null,(s=i[O0])&&typeof s=="object"){if(s=s[M0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new I("argument-error",M0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new I("argument-error",O0+" property must be a non null object when specified.");if(s=i[lp],typeof s<"u"&&typeof s!="boolean")throw new I("argument-error",lp+" property must be a boolean when specified.");if(this.c=!!s,i=i[R0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new I("argument-error",R0+" property must be a non empty string when specified.");this.i=i||null}var T0="android",R0="dynamicLinkDomain",lp="handleCodeInApp",O0="iOS",Vk="url",k0="installApp",x0="minimumVersion",N0="packageName",M0="bundleId";function tl(i){var s={};s.continueUrl=i.h,s.canHandleCodeInApp=i.c,(s.androidPackageName=i.a)&&(s.androidMinimumVersion=i.b,s.androidInstallApp=i.g),s.iOSBundleId=i.f,s.dynamicLinkDomain=i.i;for(var c in s)s[c]===null&&delete s[c];return s}function jk(i){return Lc(i,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Sa=null;function Uk(i){var s=[];return Bk(i,function(c){s.push(c)}),s}function Bk(i,s){function c(T){for(;d<i.length;){var k=i.charAt(d++),ne=Sa[k];if(ne!=null)return ne;if(!/^[\s\xa0]*$/.test(k))throw Error("Unknown base64 encoding at char: "+k)}return T}qk();for(var d=0;;){var f=c(-1),m=c(0),v=c(64),w=c(64);if(w===64&&f===-1)break;s(f<<2|m>>4),v!=64&&(s(m<<4&240|v>>2),w!=64&&s(v<<6&192|w))}}function qk(){if(!Sa){Sa={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(s[c].split("")),f=0;f<d.length;f++){var m=d[f];Sa[m]===void 0&&(Sa[m]=f)}}}function nl(i){var s=P0(i);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=i,this.a=s.exp,this.i=s.sub,i=Date.now()/1e3,this.g=s.iat||(i>this.a?this.a:i),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}nl.prototype.T=function(){return this.f},nl.prototype.l=function(){return this.c},nl.prototype.toString=function(){return this.h};function rl(i){try{return new nl(i)}catch{return null}}function P0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var s=(4-i.length%4)%4,c=0;c<s;c++)i+=".";try{var d=Uk(i);for(i=[],c=s=0;s<d.length;){var f=d[s++];if(128>f)i[c++]=String.fromCharCode(f);else if(191<f&&224>f){var m=d[s++];i[c++]=String.fromCharCode((f&31)<<6|m&63)}else if(239<f&&365>f){m=d[s++];var v=d[s++],w=d[s++],T=((f&7)<<18|(m&63)<<12|(v&63)<<6|w&63)-65536;i[c++]=String.fromCharCode(55296+(T>>10)),i[c++]=String.fromCharCode(56320+(T&1023))}else m=d[s++],v=d[s++],i[c++]=String.fromCharCode((f&15)<<12|(m&63)<<6|v&63)}return JSON.parse(i.join(""))}catch{}return null}var L0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),il=["client_id","response_type","scope","redirect_uri","state"],hp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:il},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:il},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:il},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:L0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function dp(i){for(var s in hp)if(hp[s].fa==i)return hp[s];return null}function F0(i){var s={};s["facebook.com"]=j0,s["google.com"]=B0,s["github.com"]=U0,s["twitter.com"]=q0;var c=i&&i[V0];try{if(c)return s[c]?new s[c](i):new Yn(i);if(typeof i[fp]<"u")return new pp(i)}catch{}return null}var fp="idToken",V0="providerId";function pp(i){var s=i[V0];if(!s&&i[fp]){var c=rl(i[fp]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),G(this,"providerId",s),G(this,"isNewUser",c)}function Yn(i){pp.call(this,i),i=Oo(i.rawUserInfo||"{}"),G(this,"profile",np(i||{}))}ee(Yn,pp);function j0(i){if(Yn.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}ee(j0,Yn);function U0(i){if(Yn.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");G(this,"username",this.profile&&this.profile.login||null)}ee(U0,Yn);function B0(i){if(Yn.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}ee(B0,Yn);function q0(i){if(Yn.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");G(this,"username",i.screenName||null)}ee(q0,Yn);function z0(i){var s=Yt(i),c=bn(s,"link"),d=bn(Yt(c),"link");return s=bn(s,"deep_link_id"),bn(Yt(s),"link")||s||d||c||i}function ol(i,s){if(!i&&!s)throw new I("internal-error","Internal assert: no raw session string available");if(i&&s)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=s||null,this.type=this.a?Aa:sl}var Aa="enroll",sl="signin";ol.prototype.Ha=function(){return this.a?$(this.a):$(this.b)},ol.prototype.w=function(){return this.type==Aa?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ko(){}ko.prototype.ka=function(){},ko.prototype.b=function(){},ko.prototype.c=function(){},ko.prototype.w=function(){};function xo(i,s){return i.then(function(c){if(c[Mn]){var d=rl(c[Mn]);if(!d||s!=d.i)throw new I("user-mismatch");return c}throw new I("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ua+"user-not-found"?new I("user-mismatch"):c})}function Ei(i,s){if(s)this.a=s;else throw new I("internal-error","failed to construct a credential");G(this,"providerId",i),G(this,"signInMethod",i)}Ei.prototype.ka=function(i){return Vp(i,gp(this))},Ei.prototype.b=function(i,s){var c=gp(this);return c.idToken=s,jp(i,c)},Ei.prototype.c=function(i,s){return xo(Up(i,gp(this)),s)};function gp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Ei.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function zk(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Ei(i.providerId,i.pendingToken)}catch{}return null}function hr(i,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&G(this,"idToken",s.idToken),s.accessToken&&G(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&G(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)G(this,"accessToken",s.oauthToken),G(this,"secret",s.oauthTokenSecret);else throw new I("internal-error","failed to construct a credential");G(this,"providerId",i),G(this,"signInMethod",c)}hr.prototype.ka=function(i){return Vp(i,mp(this))},hr.prototype.b=function(i,s){var c=mp(this);return c.idToken=s,jp(i,c)},hr.prototype.c=function(i,s){var c=mp(this);return xo(Up(i,c),s)};function mp(i){var s={};return i.idToken&&(s.id_token=i.idToken),i.accessToken&&(s.access_token=i.accessToken),i.secret&&(s.oauth_token_secret=i.secret),s.providerId=i.providerId,i.nonce&&!i.a&&(s.nonce=i.nonce),s={postBody:n0(s).toString(),requestUri:"http://localhost"},i.a&&(delete s.postBody,s.pendingToken=i.a),s}hr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function Hk(i){if(i&&i.providerId&&i.signInMethod){var s={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new hr(i.providerId,s,i.signInMethod)}catch{}}return null}function Ci(i,s){this.Qc=s||[],Vt(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(dp(i)||{}).Ja||null,this.pb=null}Ci.prototype.Ka=function(i){return this.Jb=Rr(i),this};function H0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');Ci.call(this,i,[])}ee(H0,Ci);function on(i){Ci.call(this,i,il),this.a=[]}ee(on,Ci),on.prototype.Ca=function(i){return cr(this.a,i)||this.a.push(i),this},on.prototype.Rb=function(){return di(this.a)},on.prototype.credential=function(i,s){var c;if(A(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new hr(this.providerId,c,this.providerId)};function Ii(){on.call(this,"facebook.com")}ee(Ii,on),G(Ii,"PROVIDER_ID","facebook.com"),G(Ii,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function G0(i){if(!i)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=i;return A(i)&&(s=i.accessToken),new Ii().credential({accessToken:s})}function Si(){on.call(this,"github.com")}ee(Si,on),G(Si,"PROVIDER_ID","github.com"),G(Si,"GITHUB_SIGN_IN_METHOD","github.com");function W0(i){if(!i)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=i;return A(i)&&(s=i.accessToken),new Si().credential({accessToken:s})}function Ai(){on.call(this,"google.com"),this.Ca("profile")}ee(Ai,on),G(Ai,"PROVIDER_ID","google.com"),G(Ai,"GOOGLE_SIGN_IN_METHOD","google.com");function K0(i,s){var c=i;return A(i)&&(c=i.idToken,s=i.accessToken),new Ai().credential({idToken:c,accessToken:s})}function No(){Ci.call(this,"twitter.com",L0)}ee(No,Ci),G(No,"PROVIDER_ID","twitter.com"),G(No,"TWITTER_SIGN_IN_METHOD","twitter.com");function $0(i,s){var c=i;if(A(c)||(c={oauthToken:i,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new hr("twitter.com",c,"twitter.com")}function Mr(i,s,c){this.a=i,this.f=s,G(this,"providerId","password"),G(this,"signInMethod",c===En.EMAIL_LINK_SIGN_IN_METHOD?En.EMAIL_LINK_SIGN_IN_METHOD:En.EMAIL_PASSWORD_SIGN_IN_METHOD)}Mr.prototype.ka=function(i){return this.signInMethod==En.EMAIL_LINK_SIGN_IN_METHOD?de(i,Rx,{email:this.a,oobCode:this.f}):de(i,Eb,{email:this.a,password:this.f})},Mr.prototype.b=function(i,s){return this.signInMethod==En.EMAIL_LINK_SIGN_IN_METHOD?de(i,Ox,{idToken:s,email:this.a,oobCode:this.f}):de(i,bb,{idToken:s,email:this.a,password:this.f})},Mr.prototype.c=function(i,s){return xo(this.ka(i),s)},Mr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Gk(i){return i&&i.email&&i.password?new Mr(i.email,i.password,i.signInMethod):null}function En(){Vt(this,{providerId:"password",isOAuthProvider:!1})}function Y0(i,s){if(s=vp(s),!s)throw new I("argument-error","Invalid email link!");return new Mr(i,s.code,En.EMAIL_LINK_SIGN_IN_METHOD)}function vp(i){return i=z0(i),(i=D0(i))&&i.operation===Jc?i:null}Vt(En,{PROVIDER_ID:"password"}),Vt(En,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vt(En,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Pr(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new I("internal-error");this.a=i,G(this,"providerId","phone"),this.fa="phone",G(this,"signInMethod","phone")}Pr.prototype.ka=function(i){return i.gb(Da(this))},Pr.prototype.b=function(i,s){var c=Da(this);return c.idToken=s,de(i,Xx,c)},Pr.prototype.c=function(i,s){var c=Da(this);return c.operation="REAUTH",i=de(i,Qx,c),xo(i,s)},Pr.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function Wk(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var s={};return Ve(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(s[c]=i[c])}),new Pr(s)}return null}function Da(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function dr(i){try{this.a=i||Z.auth()}catch{throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vt(this,{providerId:"phone",isOAuthProvider:!1})}dr.prototype.gb=function(i,s){var c=this.a.a;return $(s.verify()).then(function(d){if(typeof d!="string")throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var f=A(i)?i.session:null,m=A(i)?i.phoneNumber:i,v;return f&&f.type==Aa?v=f.Ha().then(function(w){return wx(c,{idToken:w,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:d}})}):f&&f.type==sl?v=f.Ha().then(function(w){return bx(c,{mfaPendingCredential:w,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):v=_x(c,{phoneNumber:m,recaptchaToken:d}),v.then(function(w){return typeof s.reset=="function"&&s.reset(),w},function(w){throw typeof s.reset=="function"&&s.reset(),w});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function X0(i,s){if(!i)throw new I("missing-verification-id");if(!s)throw new I("missing-verification-code");return new Pr({fb:i,eb:s})}Vt(dr,{PROVIDER_ID:"phone"}),Vt(dr,{PHONE_SIGN_IN_METHOD:"phone"});function yp(i){if(i.temporaryProof&&i.phoneNumber)return new Pr({La:i.temporaryProof,ea:i.phoneNumber});var s=i&&i.providerId;if(!s||s==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,f=i&&i.nonce,m=i&&i.oauthIdToken,v=i&&i.pendingToken;try{switch(s){case"google.com":return K0(m,c);case"facebook.com":return G0(c);case"github.com":return W0(c);case"twitter.com":return $0(c,d);default:return c||d||m||v?v?s.indexOf("saml.")==0?new Ei(s,v):new hr(s,{pendingToken:v,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},s):new on(s).credential({idToken:m,accessToken:c,rawNonce:f}):null}}catch{return null}}function _p(i){if(!i.isOAuthProvider)throw new I("invalid-oauth-provider")}function xn(i,s,c,d,f,m,v){if(this.c=i,this.b=s||null,this.g=c||null,this.f=d||null,this.i=m||null,this.h=v||null,this.a=f||null,this.g||this.a){if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}else throw new I("invalid-auth-event")}xn.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},xn.prototype.T=function(){return this.h},xn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Q0(i){return i=i||{},i.type?new xn(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Q_(i.error),i.postBody,i.tenantId):null}function Kk(){this.b=null,this.a=[]}var wp=null;function $k(i){var s=wp;s.a.push(i),s.b||(s.b=function(c){for(var d=0;d<s.a.length;d++)s.a[d](c)},i=Me("universalLinks.subscribe",h),typeof i=="function"&&i(null,s.b))}function bp(i){var s="unauthorized-domain",c=void 0,d=Yt(i);i=d.a,d=d.c,d=="chrome-extension"?c=_w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=_w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):s="operation-not-supported-in-this-environment",I.call(this,s,c)}ee(bp,I);function Ta(i,s,c){I.call(this,i,c),i=s||{},i.Kb&&G(this,"email",i.Kb),i.ea&&G(this,"phoneNumber",i.ea),i.credential&&G(this,"credential",i.credential),i.$b&&G(this,"tenantId",i.$b)}ee(Ta,I),Ta.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Wt(i,s),i},Ta.prototype.toJSON=function(){return this.w()};function al(i){if(i.code){var s=i.code||"";s.indexOf(ua)==0&&(s=s.substring(ua.length));var c={credential:yp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new I(s,i.message||void 0);return new Ta(s,c,i.message)}return null}function Ra(){}Ra.prototype.c=null;function Z0(i){return i.c||(i.c=i.b())}var Ep;function ul(){}ee(ul,Ra),ul.prototype.a=function(){var i=J0(this);return i?new ActiveXObject(i):new XMLHttpRequest},ul.prototype.b=function(){var i={};return J0(this)&&(i[0]=!0,i[1]=!0),i};function J0(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var d=s[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Ep=new ul;function cl(){}ee(cl,Ra),cl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new eb;throw Error("Unsupported browser")},cl.prototype.b=function(){return{}};function eb(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.qc,this),this.a.onerror=L(this.Tb,this),this.a.onprogress=L(this.rc,this),this.a.ontimeout=L(this.vc,this)}t=eb.prototype,t.open=function(i,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,s)},t.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Cp(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Cp(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Cp(this,1)};function Cp(i,s){i.readyState=s,i.onreadystatechange&&i.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Ip(i,s,c){this.reset(i,s,c,void 0,void 0)}Ip.prototype.a=null;var Yk=0;Ip.prototype.reset=function(i,s,c,d,f){typeof f=="number"||Yk++,d||aa(),delete this.a};function Sp(i){this.f=i,this.b=this.c=this.a=null}function Oa(i,s){this.name=i,this.value=s}Oa.prototype.toString=function(){return this.name};var tb=new Oa("SEVERE",1e3),Ap=new Oa("WARNING",900),Xk=new Oa("CONFIG",700),Qk=new Oa("FINE",500);function nb(i){return i.c?i.c:i.a?nb(i.a):(_o("Root logger has no level set."),null)}Sp.prototype.log=function(i,s,c){if(i.value>=nb(this).value)for(C(s)&&(s=s()),i=new Ip(i,String(s),this.f),c&&(i.a=c),c=this;c;)c=c.a};var Dp={},ll=null;function Tp(i){ll||(ll=new Sp(""),Dp[""]=ll,ll.c=Xk);var s;if(!(s=Dp[i])){s=new Sp(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=Tp(i.substr(0,c)),c.b||(c.b={}),c.b[d]=s,s.a=c,Dp[i]=s}return s}function Cn(i,s){i&&i.log(Qk,s,void 0)}function hl(i){this.f=i}ee(hl,Ra),hl.prototype.a=function(){return new dl(this.f)},hl.prototype.b=function(i){return function(){return i}}({});function dl(i){Ft.call(this),this.u=i,this.h=void 0,this.readyState=Rp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Tp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}ee(dl,Ft);var Rp=0;t=dl.prototype,t.open=function(i,s){if(this.readyState!=Rp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=s,this.readyState=1,xa(this)},t.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(s.body=i),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ka(this)),this.readyState=Rp},t.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,xa(this)),this.a&&(this.readyState=3,xa(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof h.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,rb(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function rb(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}t.pc=function(i){if(this.a){var s=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});s&&(this.response=this.responseText+=s),i.done?ka(this):xa(this),this.readyState==3&&rb(this)}},t.tc=function(i){this.a&&(this.response=this.responseText=i,ka(this))},t.sc=function(i){this.a&&(this.response=i,ka(this))},t.Va=function(i){var s=this.i;s&&s.log(Ap,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&ka(this)};function ka(i){i.readyState=4,i.g=null,i.c=null,i.m=null,xa(i)}t.setRequestHeader=function(i,s){this.l.append(i,s)},t.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Ap,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Ap,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=s.next();return i.join(`\r
`)};function xa(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Na(i){Ft.call(this),this.headers=new So,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ib,this.u=this.S=!1}ee(Na,Ft);var ib="";Na.prototype.b=Tp("goog.net.XhrIo");var Zk=/^https?$/i,Jk=["POST","PUT"];function ex(i,s,c,d,f){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+s);c=c?c.toUpperCase():"GET",i.l=s,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Ep.a(),i.C=i.D?Z0(i.D):Z0(Ep),i.a.onreadystatechange=L(i.Wb,i);try{Cn(i.b,fr(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(s),!0),i.N=!1}catch(v){Cn(i.b,fr(i,"Error opening Xhr: "+v.message)),ob(i,v);return}s=d||"";var m=new So(i.headers);f&&ok(f,function(v,w){m.set(w,v)}),f=CO(m.Y()),d=h.FormData&&s instanceof h.FormData,!cr(Jk,c)||f||d||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(v,w){this.a.setRequestHeader(w,v)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{ub(i),0<i.g&&(i.u=tx(i.a),Cn(i.b,fr(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=L(i.Ma,i)):i.s=qf(i.Ma,i.g,i)),Cn(i.b,fr(i,"Sending request")),i.i=!0,i.a.send(s),i.i=!1}catch(v){Cn(i.b,fr(i,"Send error: "+v.message)),ob(i,v)}}function tx(i){return On&&Cw(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function nx(i){return i.toLowerCase()=="content-type"}t=Na.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Cn(this.b,fr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function ob(i,s){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=s,sb(i),fl(i)}function sb(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Cn(this.b,fr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fl(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fl(this,!0)),Na.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ab(this):this.Jc())},t.Jc=function(){ab(this)};function ab(i){if(i.c&&typeof l<"u"){if(i.C[1]&&Ma(i)==4&&pl(i)==2)Cn(i.b,fr(i,"Local request error detected and ignored"));else if(i.i&&Ma(i)==4)qf(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),Ma(i)==4){Cn(i.b,fr(i,"Request complete")),i.c=!1;try{var s=pl(i);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var f;if(f=s===0){var m=String(i.l).match(e0)[1]||null;if(!m&&h.self&&h.self.location){var v=h.self.location.protocol;m=v.substr(0,v.length-1)}f=!Zk.test(m?m.toLowerCase():"")}d=f}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var w=2<Ma(i)?i.a.statusText:""}catch(T){Cn(i.b,"Can not get status: "+T.message),w=""}i.h=w+" ["+pl(i)+"]",sb(i)}}finally{fl(i)}}}}function fl(i,s){if(i.a){ub(i);var c=i.a,d=i.C[0]?_:null;i.a=null,i.C=null,s||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){(i=i.b)&&i.log(tb,"Problem encountered resetting onreadystatechange: "+f.message,void 0)}}}function ub(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(h.clearTimeout(i.s),i.s=null)}function Ma(i){return i.a?i.a.readyState:0}function pl(i){try{return 2<Ma(i)?i.a.status:-1}catch{return-1}}function rx(i){try{return i.a?i.a.responseText:""}catch(s){return Cn(i.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ib:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(tb,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return Cn(this.b,"Can not get response: "+s.message),null}};function fr(i,s){return s+" ["+i.P+" "+i.l+" "+pl(i)+"]"}function Di(i){var s=sx;this.g=[],this.u=s,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Di.prototype.cancel=function(i){if(this.a)this.c instanceof Di&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,i?s.cancel(i):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new La(this),gl(this),Pa(this,!1,i))}},Di.prototype.m=function(i,s){this.i=!1,Pa(this,i,s)};function Pa(i,s,c){i.a=!0,i.c=c,i.f=!s,lb(i)}function gl(i){if(i.a){if(!i.v)throw new ml(i);i.v=!1}}function ix(i,s){Op(i,null,s,void 0)}function Op(i,s,c,d){i.g.push([s,c,d]),i.a&&lb(i)}Di.prototype.then=function(i,s,c){var d,f,m=new ce(function(v,w){d=v,f=w});return Op(this,d,function(v){v instanceof La?m.cancel():f(v)}),m.then(i,s,c)},Di.prototype.$goog_Thenable=!0;function cb(i){return EO(i.g,function(s){return C(s[1])})}function lb(i){if(i.h&&i.a&&cb(i)){var s=i.h,c=vl[s];c&&(h.clearTimeout(c.a),delete vl[s]),i.h=0}i.b&&(i.b.l--,delete i.b),s=i.c;for(var d=c=!1;i.g.length&&!i.i;){var f=i.g.shift(),m=f[0],v=f[1];if(f=f[2],m=i.f?v:m)try{var w=m.call(f||i.s,s);w!==void 0&&(i.f=i.f&&(w==s||w instanceof Error),i.c=s=w),(Z_(s)||typeof h.Promise=="function"&&s instanceof h.Promise)&&(d=!0,i.i=!0)}catch(T){s=T,i.f=!0,cb(i)||(c=!0)}}i.c=s,d&&(w=L(i.m,i,!0),d=L(i.m,i,!1),s instanceof Di?(Op(s,w,d),s.C=!0):s.then(w,d)),c&&(s=new hb(s),vl[s.a]=s,i.h=s.a)}function ml(){nn.call(this)}ee(ml,nn),ml.prototype.message="Deferred has already fired",ml.prototype.name="AlreadyCalledError";function La(){nn.call(this)}ee(La,nn),La.prototype.message="Deferred was canceled",La.prototype.name="CanceledError";function hb(i){this.a=h.setTimeout(L(this.c,this),0),this.b=i}hb.prototype.c=function(){throw delete vl[this.a],this.b};var vl={};function kp(i){var s={},c=s.document||document,d=hw(i).toString(),f=qc(document,"SCRIPT"),m={Xb:f,Ma:void 0},v=new Di(m),w=null,T=s.timeout!=null?s.timeout:5e3;return 0<T&&(w=window.setTimeout(function(){yl(f,!0);var k=new xp(ux,"Timeout reached for loading script "+d);gl(v),Pa(v,!1,k)},T),m.Ma=w),f.onload=f.onreadystatechange=function(){f.readyState&&f.readyState!="loaded"&&f.readyState!="complete"||(yl(f,s.xd||!1,w),gl(v),Pa(v,!0,null))},f.onerror=function(){yl(f,!0,w);var k=new xp(ax,"Error while loading script "+d);gl(v),Pa(v,!1,k)},m=s.attributes||{},Wt(m,{type:"text/javascript",charset:"UTF-8"}),Sw(f,m),FO(f,i),ox(c).appendChild(f),v}function ox(i){var s;return(s=(i||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:i.documentElement}function sx(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&yl(i,!0,this.Ma)}}function yl(i,s,c){c!=null&&h.clearTimeout(c),i.onload=_,i.onerror=_,i.onreadystatechange=_,s&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var ax=0,ux=1;function xp(i,s){var c="Jsloader error (code #"+i+")";s&&(c+=": "+s),nn.call(this,c),this.code=i}ee(xp,nn);function _l(i){this.f=i}ee(_l,Ra),_l.prototype.a=function(){return new this.f},_l.prototype.b=function(){return{}};function Nn(i,s,c){if(this.c=i,i=s||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||cx,this.g=Rr(i.secureTokenHeaders||lx),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||hx,this.a=Rr(i.firebaseHeaders||dx),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Kn()=="Node",c=h.XMLHttpRequest||c&&Z.INTERNAL.node&&Z.INTERNAL.node.XMLHttpRequest,!c&&!kn())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,kn()?this.f=new hl(self):d0()?this.f=new _l(c):this.f=new cl,this.b=null}var Np,Mn="idToken",cx=new Nr(3e4,6e4),lx={"Content-Type":"application/x-www-form-urlencoded"},hx=new Nr(3e4,6e4),dx={"Content-Type":"application/json"};function db(i,s){s?i.a["X-Firebase-Locale"]=s:delete i.a["X-Firebase-Locale"]}function wl(i,s){s&&(i.l=Mp("https://securetoken.googleapis.com/v1/token",s),i.h=Mp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),i.i=Mp("https://identitytoolkit.googleapis.com/v2/",s))}function Mp(i,s){return i=Yt(i),s=Yt(s.url),i.f=i.a+i.f,ga(i,s.c),i.a=s.a,ma(i,s.g),i.toString()}function fb(i,s){s?(i.a["X-Client-Version"]=s,i.g["X-Client-Version"]=s):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Nn.prototype.T=function(){return this.b};function pb(i,s,c,d,f,m,v){gk()||kn()?i=L(i.u,i):(Np||(Np=new ce(function(w,T){px(w,T)})),i=L(i.s,i)),i(s,c,d,f,m,v)}Nn.prototype.u=function(i,s,c,d,f,m){if(kn()&&(typeof h.fetch>"u"||typeof h.Headers>"u"||typeof h.Request>"u"))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var v=new Na(this.f);if(m){v.g=Math.max(0,m);var w=setTimeout(function(){v.dispatchEvent("timeout")},m)}Qw(v,"complete",function(){w&&clearTimeout(w);var T=null;try{T=JSON.parse(rx(this))||null}catch{T=null}s&&s(T)}),Bf(v,"ready",function(){w&&clearTimeout(w),zw(this)}),Bf(v,"timeout",function(){w&&clearTimeout(w),zw(this),s&&s(null)}),ex(v,i,c,d,f)};var fx=new Gn(Vc,"https://apis.google.com/js/client.js?onload=%{onload}"),gb="__fcb"+Math.floor(1e6*Math.random()).toString();function px(i,s){if(((window.gapi||{}).client||{}).request)i();else{h[gb]=function(){((window.gapi||{}).client||{}).request?i():s(Error("CORS_UNSUPPORTED"))};var c=Ef(fx,{onload:gb});ix(kp(c),function(){s(Error("CORS_UNSUPPORTED"))})}}Nn.prototype.s=function(i,s,c,d,f){var m=this;Np.then(function(){window.gapi.client.setApiKey(m.c);var v=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:f,authType:"none",callback:function(w){window.gapi.auth.setToken(v),s&&s(w)}})}).o(function(v){s&&s({error:{message:v&&v.message||"CORS_UNSUPPORTED"}})})};function gx(i,s){return new ce(function(c,d){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?pb(i,i.l+"?key="+encodeURIComponent(i.c),function(f){f?f.error?d(qp(f)):f.access_token&&f.refresh_token?c(f):d(new I("internal-error")):d(new I("network-request-failed"))},"POST",n0(s).toString(),i.g,i.m.get()):d(new I("internal-error"))})}function mb(i,s,c,d,f,m,v){var w=Yt(s+c);Ge(w,"key",i.c),v&&Ge(w,"cb",Date.now().toString());var T=d=="GET";if(T)for(var k in f)f.hasOwnProperty(k)&&Ge(w,k,f[k]);return new ce(function(ne,Ee){pb(i,w.toString(),function(me){me?me.error?Ee(qp(me,m||{})):ne(me):Ee(new I("network-request-failed"))},d,T?void 0:o0(g0(f)),i.a,i.v.get())})}function Ti(i){if(i=i.email,typeof i!="string"||!yk.test(i))throw new I("invalid-email")}function vb(i){"email"in i&&Ti(i)}function mx(i,s){return de(i,Ax,{identifier:s,continueUri:Zc()?_a():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function vx(i){return de(i,Vx,{}).then(function(s){return s.authorizedDomains||[]})}function Xt(i){if(!i[Mn])throw i.mfaPendingCredential?new I("multi-factor-auth-required",null,Rr(i)):new I("internal-error")}function Pp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new I("internal-error")}else{if(!i.sessionInfo)throw new I("missing-verification-id");if(!i.code)throw new I("missing-verification-code")}}Nn.prototype.Ab=function(){return de(this,qx,{})},Nn.prototype.Cb=function(i,s){return de(this,wb,{idToken:i,email:s})},Nn.prototype.Db=function(i,s){return de(this,bb,{idToken:i,password:s})};var yx={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Nn.prototype,t.Eb=function(i,s){var c={idToken:i},d=[];return sw(yx,function(f,m){var v=s[m];v===null?d.push(f):m in s&&(c[m]=v)}),d.length&&(c.deleteAttribute=d),de(this,wb,c)},t.wb=function(i,s){return i={requestType:"PASSWORD_RESET",email:i},Wt(i,s),de(this,Fx,i)},t.xb=function(i,s){return i={requestType:"EMAIL_SIGNIN",email:i},Wt(i,s),de(this,Mx,i)},t.vb=function(i,s){return i={requestType:"VERIFY_EMAIL",idToken:i},Wt(i,s),de(this,Px,i)},t.Fb=function(i,s,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:s},Wt(i,c),de(this,Lx,i)};function _x(i,s){return de(i,Bx,s)}t.gb=function(i){return de(this,Yx,i)};function wx(i,s){return de(i,zx,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function yb(i){if(!i.phoneVerificationInfo)throw new I("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new I("missing-verification-code")}function bx(i,s){return de(i,Hx,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Ex(i,s,c){return de(i,Tx,{idToken:s,deleteProvider:c})}function Lp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new I("internal-error")}function Fp(i,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(i.sessionId?s.nonce=i.sessionId:i.postBody&&(i=new yi(i.postBody),Gf(i,"nonce")&&(s.nonce=i.get("nonce")))),s}function _b(i){var s=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",s=al(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",s=al(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",s=al(i)):i.errorMessage&&(s=Cb(i.errorMessage)),s)throw s;Xt(i)}function Vp(i,s){return s.returnIdpCredential=!0,de(i,Gx,s)}function jp(i,s){return s.returnIdpCredential=!0,de(i,Kx,s)}function Up(i,s){return s.returnIdpCredential=!0,s.autoCreate=!1,de(i,Wx,s)}function Bp(i){if(!i.oobCode)throw new I("invalid-action-code")}t.ob=function(i,s){return de(this,Ux,{oobCode:i,newPassword:s})},t.Sa=function(i){return de(this,Ix,{oobCode:i})},t.kb=function(i){return de(this,Cx,{oobCode:i})};var Cx={endpoint:"setAccountInfo",A:Bp,Z:"email",B:!0},Ix={endpoint:"resetPassword",A:Bp,G:function(i){var s=i.requestType;if(!s||!i.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new I("internal-error")},B:!0},Sx={endpoint:"signupNewUser",A:function(i){if(Ti(i),!i.password)throw new I("weak-password")},G:Xt,V:!0,B:!0},Ax={endpoint:"createAuthUri",B:!0},Dx={endpoint:"deleteAccount",O:["idToken"]},Tx={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new I("internal-error")}},Rx={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ti,G:Xt,V:!0,B:!0},Ox={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ti,G:Xt,V:!0},kx={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:yb,G:Xt,B:!0,Na:!0},xx={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:yb,G:Xt,B:!0,Na:!0},Nx={endpoint:"getAccountInfo"},Mx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new I("internal-error");Ti(i)},Z:"email",B:!0},Px={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new I("internal-error")},Z:"email",B:!0},Lx={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new I("internal-error")},Z:"email",B:!0},Fx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new I("internal-error");Ti(i)},Z:"email",B:!0},Vx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},jx={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new I("internal-error")}},Ux={endpoint:"resetPassword",A:Bp,Z:"email",B:!0},Bx={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},wb={endpoint:"setAccountInfo",O:["idToken"],A:vb,V:!0},bb={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(vb(i),!i.password)throw new I("weak-password")},G:Xt,V:!0},qx={endpoint:"signupNewUser",G:Xt,V:!0,B:!0},zx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new I("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Hx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Gx={endpoint:"verifyAssertion",A:Lp,Za:Fp,G:_b,V:!0,B:!0},Wx={endpoint:"verifyAssertion",A:Lp,Za:Fp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new I("user-not-found");if(i.errorMessage)throw Cb(i.errorMessage);Xt(i)},V:!0,B:!0},Kx={endpoint:"verifyAssertion",A:function(i){if(Lp(i),!i.idToken)throw new I("internal-error")},Za:Fp,G:_b,V:!0},$x={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new I("invalid-custom-token")},G:Xt,V:!0,B:!0},Eb={endpoint:"verifyPassword",A:function(i){if(Ti(i),!i.password)throw new I("wrong-password")},G:Xt,V:!0,B:!0},Yx={endpoint:"verifyPhoneNumber",A:Pp,G:Xt,B:!0},Xx={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new I("internal-error");Pp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",al(i);Xt(i)}},Qx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Pp,G:Xt,B:!0},Zx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Mn]^!!i.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function de(i,s,c){if(!Sk(c,s.O))return Ne(new I("internal-error"));var d=!!s.Na,f=s.Vb||"POST",m;return $(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?mb(i,i.i,s.endpoint,f,c,s.Ib,s.mb||!1):mb(i,i.h,s.endpoint,f,c,s.Ib,s.mb||!1)}).then(function(v){return m=v,s.Za?s.Za(c,m):m}).then(s.G).then(function(){if(!s.Z)return m;if(!(s.Z in m))throw new I("internal-error");return m[s.Z]})}function Cb(i){return qp({error:{errors:[{message:i}],code:400,message:i}})}function qp(i,s){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new I(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Wt(d,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var f in d)if(c.indexOf(f)===0)return new I(d[f],s);return!s&&i&&(s=ba(i)),new I("internal-error",s)}function Jx(i){this.b=i,this.a=null,this.sb=e1(this)}function e1(i){return s1().then(function(){return new ce(function(s,c){Me("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function f(){clearTimeout(m),s()}i.a=d,i.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){c(Error("Network Error"))},o1.get());d.ping(f).then(f,function(){c(Error("Network Error"))})})})})}function t1(i,s){return i.sb.then(function(){return new ce(function(c){i.a.send(s.type,s,c,Me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function n1(i,s){i.sb.then(function(){i.a.register("authEvent",s,Me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var r1=new Gn(Vc,"https://apis.google.com/js/api.js?onload=%{onload}"),i1=new Nr(3e4,6e4),o1=new Nr(5e3,15e3),bl=null;function s1(){return bl||(bl=new ce(function(i,s){function c(){v0(),Me("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){v0(),s(Error("Network Error"))},timeout:i1.get()})}if(Me("gapi.iframes.Iframe"))i();else if(Me("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();h[d]=function(){Me("gapi.load")?c():s(Error("Network Error"))},d=Ef(r1,{onload:d}),$(kp(d)).o(function(){s(Error("Network Error"))})}}).o(function(i){throw bl=null,i}))}function Ib(i,s,c,d){this.l=i,this.h=s,this.i=c,this.g=d,this.f=null,this.g?(i=Yt(this.g.url),i=Xc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Xc("https",this.l,null,"/__/auth/iframe"),this.a=i,Ge(this.a,"apiKey",this.h),Ge(this.a,"appName",this.i),this.b=null,this.c=[]}Ib.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):Wn(this.a.b,"v"),this.b?Ge(this.a,"eid",this.b):Wn(this.a.b,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):Wn(this.a.b,"fw"),this.a.toString()};function zp(i,s,c,d,f,m){this.u=i,this.s=s,this.c=c,this.m=d,this.v=m,this.i=this.g=this.l=null,this.a=f,this.h=this.f=null}zp.prototype.zb=function(i){return this.h=i,this},zp.prototype.toString=function(){if(this.v){var i=Yt(this.v.url);i=Xc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Xc("https",this.u,null,"/__/auth/handler");if(Ge(i,"apiKey",this.s),Ge(i,"appName",this.c),Ge(i,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Z.app(this.c).auth().la()}catch{c=null}s.pb=c,Ge(i,"providerId",this.a.providerId),c=this.a,s=g0(c.Jb);for(var d in s)s[d]=s[d].toString();d=c.Qc,s=Rr(s);for(var f=0;f<d.length;f++){var m=d[f];m in s&&delete s[m]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),fi(s)||Ge(i,"customParameters",ba(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ge(i,"scopes",c.join(","))),this.l?Ge(i,"redirectUrl",this.l):Wn(i.b,"redirectUrl"),this.g?Ge(i,"eventId",this.g):Wn(i.b,"eventId"),this.i?Ge(i,"v",this.i):Wn(i.b,"v"),this.b)for(var v in this.b)this.b.hasOwnProperty(v)&&!bn(i,v)&&Ge(i,v,this.b[v]);return this.h?Ge(i,"tid",this.h):Wn(i.b,"tid"),this.f?Ge(i,"eid",this.f):Wn(i.b,"eid"),v=Hp(this.c),v.length&&Ge(i,"fw",v.join(",")),i.toString()};function Hp(i){try{return Z.app(i).auth().Ga()}catch{return[]}}function Sb(i,s,c,d,f,m){this.s=i,this.g=s,this.b=c,this.f=m,this.c=d||null,this.i=f||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Ab(i){var s=_a();return vx(i).then(function(c){e:{var d=Yt(s),f=d.c;d=d.a;for(var m=0;m<c.length;m++){var v=c[m],w=d,T=f;if(v.indexOf("chrome-extension://")==0?w=Yt(v).a==w&&T=="chrome-extension":T!="http"&&T!="https"?w=!1:vk.test(v)?w=w==v:(v=v.split(".").join("\\."),w=new RegExp("^(.+\\."+v+"|"+v+")$","i").test(w)),w){c=!0;break e}}c=!1}if(!c)throw new bp(_a())})}function Db(i){return i.m||(i.m=Qc().then(function(){if(!i.u){var s=i.c,c=i.i,d=Hp(i.b),f=new Ib(i.s,i.g,i.b,i.f);f.f=s,f.b=c,f.c=di(d||[]),i.u=f.toString()}i.v=new Jx(i.u),a1(i)})),i.m}t=Sb.prototype,t.Pb=function(i,s,c){var d=new I("popup-closed-by-user"),f=new I("web-storage-unsupported"),m=this,v=!1;return this.ma().then(function(){u1(m).then(function(w){w||(i&&_i(i),s(f),v=!0)})}).o(function(){}).then(function(){if(!v)return mk(i)}).then(function(){if(!v)return Io(c).then(function(){s(d)})})},t.Yb=function(){var i=gt();return!wa(i)&&!m0(i)},t.Ub=function(){return!1},t.Nb=function(i,s,c,d,f,m,v,w){if(!i)return Ne(new I("popup-blocked"));if(v&&!wa())return this.ma().o(function(k){_i(i),f(k)}),d(),$();this.a||(this.a=Ab(Tb(this)));var T=this;return this.a.then(function(){var k=T.ma().o(function(ne){throw _i(i),f(ne),ne});return d(),k}).then(function(){if(_p(c),!v){var k=Fa(T.s,T.g,T.b,s,c,null,m,T.c,void 0,T.i,w,T.f);u0(k,i)}}).o(function(k){throw k.code=="auth/network-request-failed"&&(T.a=null),k})};function Tb(i){return i.l||(i.C=i.c?To(i.c,Hp(i.b)):null,i.l=new Nn(i.g,ca(i.i),i.C),i.f&&wl(i.l,i.f)),i.l}t.Ob=function(i,s,c,d){this.a||(this.a=Ab(Tb(this)));var f=this;return this.a.then(function(){_p(s);var m=Fa(f.s,f.g,f.b,i,s,_a(),c,f.c,void 0,f.i,d,f.f);u0(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(f.a=null),m})},t.ma=function(){var i=this;return Db(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new I("network-request-failed")})},t.ac=function(){return!0};function Fa(i,s,c,d,f,m,v,w,T,k,ne,Ee){return i=new zp(i,s,c,d,f,Ee),i.l=m,i.g=v,i.i=w,i.b=Rr(T||null),i.f=k,i.zb(ne).toString()}function a1(i){if(!i.v)throw Error("IfcHandler must be initialized!");n1(i.v,function(s){var c={};if(s&&s.authEvent){var d=!1;for(s=Q0(s.authEvent),c=0;c<i.h.length;c++)d=i.h[c](s)||d;return c={},c.status=d?"ACK":"ERROR",$(c)}return c.status="ERROR",$(c)})}function u1(i){var s={type:"webStorageSupport"};return Db(i).then(function(){return t1(i.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(i){this.h.push(i)},t.Ta=function(i){Rn(this.h,function(s){return s==i})};function Rb(i){if(this.a=i||Z.INTERNAL.reactNative&&Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Rb.prototype,t.get=function(i){return $(this.a.getItem(i)).then(function(s){return s&&Oo(s)})},t.set=function(i,s){return $(this.a.setItem(i,ba(s)))},t.U=function(i){return $(this.a.removeItem(i))},t.ca=function(){},t.ia=function(){};function Ob(i){this.b=i,this.a={},this.f=L(this.c,this)}var kb=[];function c1(){var i=kn()?self:null;if(Ve(kb,function(c){c.b==i&&(s=c)}),!s){var s=new Ob(i);kb.push(s)}return s}Ob.prototype.c=function(i){var s=i.data.eventType,c=i.data.eventId,d=this.a[s];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var f=[];Ve(d,function(m){f.push($().then(function(){return m(i.origin,i.data.data)}))}),Nw(f).then(function(m){var v=[];Ve(m,function(w){v.push({fulfilled:w.Qb,value:w.value,reason:w.reason?w.reason.message:void 0})}),Ve(v,function(w){for(var T in w)typeof w[T]>"u"&&delete w[T]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:v})})}};function xb(i,s,c){fi(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[s]>"u"&&(i.a[s]=[]),i.a[s].push(c)}function Nb(i){this.a=i}Nb.prototype.postMessage=function(i,s){this.a.postMessage(i,s)};function Mb(i){this.c=i,this.b=!1,this.a=[]}function Pb(i,s,c,d){var f,m=c||{},v,w,T,k=null;if(i.b)return Ne(Error("connection_unavailable"));var ne=d?800:50,Ee=typeof MessageChannel<"u"?new MessageChannel:null;return new ce(function(me,ut){Ee?(f=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ee.port1.start(),w=setTimeout(function(){ut(Error("unsupported_event"))},ne),v=function(pr){pr.data.eventId===f&&(pr.data.status==="ack"?(clearTimeout(w),T=setTimeout(function(){ut(Error("timeout"))},3e3)):pr.data.status==="done"?(clearTimeout(T),typeof pr.data.response<"u"?me(pr.data.response):ut(Error("unknown_error"))):(clearTimeout(w),clearTimeout(T),ut(Error("invalid_response"))))},k={messageChannel:Ee,onMessage:v},i.a.push(k),Ee.port1.addEventListener("message",v),i.c.postMessage({eventType:s,eventId:f,data:m},[Ee.port2])):ut(Error("connection_unavailable"))}).then(function(me){return Gp(i,k),me}).o(function(me){throw Gp(i,k),me})}function Gp(i,s){if(s){var c=s.messageChannel,d=s.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),Rn(i.a,function(f){return f==s})}}Mb.prototype.close=function(){for(;0<this.a.length;)Gp(this,this.a[0]);this.b=!0};function Lb(){if(!$p())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=h.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;kn()&&self?(this.v=c1(),xb(this.v,"keyChanged",function(s,c){return jb(i).then(function(d){return 0<d.length&&Ve(i.a,function(f){f(d)}),{keyProcessed:cr(d,c.key)}})}),xb(this.v,"ping",function(){return $(["keyChanged"])})):Ck().then(function(s){(i.h=s)&&(i.g=new Mb(new Nb(s)),Pb(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&cr(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Wp;function l1(i){return new ce(function(s,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){s()},d.onerror=function(f){c(Error(f.target.error))}})}function Fb(i){return new ce(function(s,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(f){try{f.preventDefault()}catch{}c(Error(f.target.error))},d.onupgradeneeded=function(f){f=f.target.result;try{f.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){c(m)}},d.onsuccess=function(f){f=f.target.result,f.objectStoreNames.contains("firebaseLocalStorage")?s(f):l1(i).then(function(){return Fb(i)}).then(function(m){s(m)}).o(function(m){c(m)})}})}function Kp(i){return i.i||(i.i=Fb(i)),i.i}function El(i,s){function c(f,m){Kp(i).then(s).then(f).o(function(v){if(3<++d)m(v);else return Kp(i).then(function(w){return w.close(),i.i=void 0,c(f,m)}).o(function(w){m(w)})})}var d=0;return new ce(c)}function $p(){try{return!!h.indexedDB}catch{return!1}}function Va(i){return i.objectStore("firebaseLocalStorage")}function ja(i,s){return i.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Mo(i){return new ce(function(s,c){i.onsuccess=function(d){d&&d.target?s(d.target.result):s()},i.onerror=function(d){c(d.target.error)}})}t=Lb.prototype,t.set=function(i,s){var c=this,d=!1;return El(this,function(f){return f=Va(ja(f,!0)),Mo(f.get(i))}).then(function(f){return El(c,function(m){if(m=Va(ja(m,!0)),f)return f.value=s,Mo(m.put(f));c.b++,d=!0;var v={};return v.fbase_key=i,v.value=s,Mo(m.add(v))})}).then(function(){return c.c[i]=s,Vb(c,i)}).oa(function(){d&&c.b--})};function Vb(i,s){return i.g&&i.h&&Ek()===i.h?Pb(i.g,"keyChanged",{key:s},i.s).then(function(){}).o(function(){}):$()}t.get=function(i){return El(this,function(s){return Mo(Va(ja(s,!1)).get(i))}).then(function(s){return s&&s.value})},t.U=function(i){var s=this,c=!1;return El(this,function(d){return c=!0,s.b++,Mo(Va(ja(d,!0)).delete(i))}).then(function(){return delete s.c[i],Vb(s,i)}).oa(function(){c&&s.b--})};function jb(i){return Kp(i).then(function(s){var c=Va(ja(s,!1));return c.getAll?Mo(c.getAll()):new ce(function(d,f){var m=[],v=c.openCursor();v.onsuccess=function(w){(w=w.target.result)?(m.push(w.value),w.continue()):d(m)},v.onerror=function(w){f(w.target.error)}})}).then(function(s){var c={},d=[];if(i.b==0){for(d=0;d<s.length;d++)c[s[d].fbase_key]=s[d].value;d=c0(i.c,c),i.c=c}return d})}t.ca=function(i){this.a.length==0&&h1(this),this.a.push(i)},t.ia=function(i){Rn(this.a,function(s){return s==i}),this.a.length==0&&Ub(this)};function h1(i){function s(){i.f=setTimeout(function(){i.l=jb(i).then(function(c){0<c.length&&Ve(i.a,function(d){d(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Ub(i),s()}function Ub(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function Bb(i){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=$().then(function(){if($p()){var d=bi(),f="__sak"+d;return Wp||(Wp=new Lb),c=Wp,c.set(f,d).then(function(){return c.get(f)}).then(function(m){if(m!==d)throw Error("indexedDB not supported!");return c.U(f)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(d){return s.type=d.type,d.ca(function(f){Ve(s.a,function(m){m(f)})}),d})}t=Bb.prototype,t.get=function(i){return this.b.then(function(s){return s.get(i)})},t.set=function(i,s){return this.b.then(function(c){return c.set(i,s)})},t.U=function(i){return this.b.then(function(s){return s.U(i)})},t.ca=function(i){this.a.push(i)},t.ia=function(i){Rn(this.a,function(s){return s==i})};function Ua(){this.a={},this.type="inMemory"}t=Ua.prototype,t.get=function(i){return $(this.a[i])},t.set=function(i,s){return this.a[i]=s,$()},t.U=function(i){return delete this.a[i],$()},t.ca=function(){},t.ia=function(){};function Cl(){if(!d1())throw Kn()=="Node"?new I("internal-error","The LocalStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=qb()||Z.INTERNAL.node.localStorage,this.type="localStorage"}function qb(){try{var i=h.localStorage,s=bi();return i&&(i.setItem(s,"1"),i.removeItem(s)),i}catch{return null}}function d1(){var i=Kn()=="Node";if(i=qb()||i&&Z.INTERNAL.node&&Z.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}t=Cl.prototype,t.get=function(i){var s=this;return $().then(function(){var c=s.a.getItem(i);return Oo(c)})},t.set=function(i,s){var c=this;return $().then(function(){var d=ba(s);d===null?c.U(i):c.a.setItem(i,d)})},t.U=function(i){var s=this;return $().then(function(){s.a.removeItem(i)})},t.ca=function(i){h.window&&wn(h.window,"storage",i)},t.ia=function(i){h.window&&rn(h.window,"storage",i)};function Yp(){this.type="nullStorage"}t=Yp.prototype,t.get=function(){return $(null)},t.set=function(){return $()},t.U=function(){return $()},t.ca=function(){},t.ia=function(){};function Xp(){if(!f1())throw Kn()=="Node"?new I("internal-error","The SessionStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=zb()||Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zb(){try{var i=h.sessionStorage,s=bi();return i&&(i.setItem(s,"1"),i.removeItem(s)),i}catch{return null}}function f1(){var i=Kn()=="Node";if(i=zb()||i&&Z.INTERNAL.node&&Z.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}t=Xp.prototype,t.get=function(i){var s=this;return $().then(function(){var c=s.a.getItem(i);return Oo(c)})},t.set=function(i,s){var c=this;return $().then(function(){var d=ba(s);d===null?c.U(i):c.a.setItem(i,d)})},t.U=function(i){var s=this;return $().then(function(){s.a.removeItem(i)})},t.ca=function(){},t.ia=function(){};function p1(){var i={};i.Browser=g1,i.Node=m1,i.ReactNative=v1,i.Worker=y1,this.a=i[Kn()]}var Qp,g1={F:Cl,cb:Xp},m1={F:Cl,cb:Xp},v1={F:Rb,cb:Yp},y1={F:Cl,cb:Yp},Po={rd:"local",NONE:"none",td:"session"};function _1(i){var s=new I("invalid-persistence-type"),c=new I("unsupported-persistence-type");e:{for(d in Po)if(Po[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw s;switch(Kn()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!$p()&&i!=="none")throw c;break;default:if(!Qf()&&i!=="none")throw c}}function Hb(){var i=!!(!m0(gt())&&Yf()),s=wa(),c=Qf();this.m=i,this.h=s,this.l=c,this.a={},Qp||(Qp=new p1),i=Qp;try{this.g=!Kf()&&y0()||!h.indexedDB?new i.a.F:new Bb(kn()?new Ua:new i.a.F)}catch{this.g=new Ua,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Ua}this.v=new Ua,this.f=L(this.Zb,this),this.b={}}var Zp;function Ba(){return Zp||(Zp=new Hb),Zp}function Ri(i,s){switch(s){case"session":return i.i;case"none":return i.v;default:return i.g}}function Lo(i,s){return"firebase:"+i.name+(s?":"+s:"")}function w1(i,s,c){var d=Lo(s,c),f=Ri(i,s.F);return i.get(s,c).then(function(m){var v=null;try{v=Oo(h.localStorage.getItem(d))}catch{}if(v&&!m)return h.localStorage.removeItem(d),i.set(s,v,c);v&&m&&f.type!="localStorage"&&h.localStorage.removeItem(d)})}t=Hb.prototype,t.get=function(i,s){return Ri(this,i.F).get(Lo(i,s))};function Fo(i,s,c){return c=Lo(s,c),s.F=="local"&&(i.b[c]=null),Ri(i,s.F).U(c)}t.set=function(i,s,c){var d=Lo(i,c),f=this,m=Ri(this,i.F);return m.set(d,s).then(function(){return m.get(d)}).then(function(v){i.F=="local"&&(f.b[d]=v)})},t.addListener=function(i,s,c){i=Lo(i,s),this.l&&(this.b[i]=h.localStorage.getItem(i)),fi(this.a)&&(Ri(this,"local").ca(this.f),this.h||(Kf()||!y0())&&h.indexedDB||!this.l||b1(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},t.removeListener=function(i,s,c){i=Lo(i,s),this.a[i]&&(Rn(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),fi(this.a)&&(Ri(this,"local").ia(this.f),Jp(this))};function b1(i){Jp(i),i.c=setInterval(function(){for(var s in i.a){var c=h.localStorage.getItem(s),d=i.b[s];c!=d&&(i.b[s]=c,c=new mi({type:"storage",key:s,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Jp(i){i.c&&(clearInterval(i.c),i.c=null)}t.Zb=function(i){if(i&&i.g){var s=i.a.key;if(s==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var f=h.localStorage.getItem(c);f!==d&&(this.b[c]=f,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof i.a.a<"u"?Ri(this,"local").ia(this.f):Jp(this),this.m){if(c=h.localStorage.getItem(s),d=i.a.newValue,d!==c)d!==null?h.localStorage.setItem(s,d):h.localStorage.removeItem(s);else if(this.b[s]===d&&typeof i.a.a>"u")return}var m=this;c=function(){(typeof i.a.a<"u"||m.b[s]!==h.localStorage.getItem(s))&&(m.b[s]=h.localStorage.getItem(s),m.nb(s))},On&&Or&&Or==10&&h.localStorage.getItem(s)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else Ve(i,L(this.nb,this))},t.nb=function(i){this.a[i]&&Ve(this.a[i],function(s){s()})};function E1(i){this.a=i,this.b=Ba()}var eg={name:"authEvent",F:"local"};function C1(i){return i.b.get(eg,i.a).then(function(s){return Q0(s)})}function I1(){this.a=Ba()}function S1(){this.b=-1}function Il(i,s){this.b=Gb,this.f=h.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=s,this.l=h.Int32Array?new Int32Array(64):Array(64),Sl===void 0&&(h.Int32Array?Sl=new Int32Array($b):Sl=$b),this.reset()}var Sl;ee(Il,S1);for(var Gb=64,A1=Gb-1,Wb=[],tg=0;tg<A1;tg++)Wb[tg]=0;var Kb=_f(128,Wb);Il.prototype.reset=function(){this.g=this.c=0,this.a=h.Int32Array?new Int32Array(this.h):di(this.h)};function ng(i){for(var s=i.f,c=i.l,d=0,f=0;f<s.length;)c[d++]=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],f=4*d;for(s=16;64>s;s++){f=c[s-15]|0,d=c[s-2]|0;var m=(c[s-16]|0)+((f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3)|0,v=(c[s-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[s]=m+v|0}d=i.a[0]|0,f=i.a[1]|0;var w=i.a[2]|0,T=i.a[3]|0,k=i.a[4]|0,ne=i.a[5]|0,Ee=i.a[6]|0;for(m=i.a[7]|0,s=0;64>s;s++){var me=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&f^d&w^f&w)|0;v=k&ne^~k&Ee,m=m+((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))|0,v=v+(Sl[s]|0)|0,v=m+(v+(c[s]|0)|0)|0,m=Ee,Ee=ne,ne=k,k=T+v|0,T=w,w=f,f=d,d=v+me|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+f|0,i.a[2]=i.a[2]+w|0,i.a[3]=i.a[3]+T|0,i.a[4]=i.a[4]+k|0,i.a[5]=i.a[5]+ne|0,i.a[6]=i.a[6]+Ee|0,i.a[7]=i.a[7]+m|0}function rg(i,s,c){c===void 0&&(c=s.length);var d=0,f=i.c;if(typeof s=="string")for(;d<c;)i.f[f++]=s.charCodeAt(d++),f==i.b&&(ng(i),f=0);else if(E(s))for(;d<c;){var m=s[d++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");i.f[f++]=m,f==i.b&&(ng(i),f=0)}else throw Error("message must be string or array");i.c=f,i.g+=c}var $b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yb(){Il.call(this,8,D1)}ee(Yb,Il);var D1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Xb(i,s,c,d,f,m){this.v=i,this.i=s,this.l=c,this.m=d||null,this.u=f||null,this.s=m,this.h=s+":"+c,this.C=new I1,this.g=new E1(this.h),this.f=null,this.b=[],this.a=this.c=null}function Al(i){return new I("invalid-cordova-configuration",i)}t=Xb.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=_k().then(function(){if(typeof Me("universalLinks.subscribe",h)!="function")throw Al("cordova-universal-links-plugin-fix is not installed");if(typeof Me("BuildInfo.packageName",h)>"u")throw Al("cordova-plugin-buildinfo is not installed");if(typeof Me("cordova.plugins.browsertab.openUrl",h)!="function")throw Al("cordova-plugin-browsertab is not installed");if(typeof Me("cordova.InAppBrowser.open",h)!="function")throw Al("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})};function T1(){for(var i=20,s=[];0<i;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return s.join("")}function R1(i){var s=new Yb;rg(s,i),i=[];var c=8*s.g;56>s.c?rg(s,Kb,56-s.c):rg(s,Kb,s.b-(s.c-56));for(var d=63;56<=d;d--)s.f[d]=c&255,c/=256;for(ng(s),d=c=0;d<s.i;d++)for(var f=24;0<=f;f-=8)i[c++]=s.a[d]>>f&255;return jk(i)}t.Pb=function(i,s){return s(new I("operation-not-supported-in-this-environment")),$()},t.Nb=function(){return Ne(new I("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(i,s,c,d){if(this.c)return Ne(new I("redirect-operation-pending"));var f=this,m=h.document,v=null,w=null,T=null,k=null;return this.c=$().then(function(){return _p(s),Zb(f)}).then(function(){return O1(f,i,s,c,d)}).then(function(){return new ce(function(ne,Ee){w=function(){var me=Me("cordova.plugins.browsertab.close",h);return ne(),typeof me=="function"&&me(),f.a&&typeof f.a.close=="function"&&(f.a.close(),f.a=null),!1},f.Ea(w),T=function(){v||(v=Io(2e3).then(function(){Ee(new I("redirect-cancelled-by-user"))}))},k=function(){Zf()&&T()},m.addEventListener("resume",T,!1),gt().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",k,!1)}).o(function(ne){return ig(f).then(function(){throw ne})})}).oa(function(){T&&m.removeEventListener("resume",T,!1),k&&m.removeEventListener("visibilitychange",k,!1),v&&v.cancel(),w&&f.Ta(w),f.c=null})};function O1(i,s,c,d,f){var m=T1(),v=new xn(s,d,null,m,new I("no-auth-event"),null,f),w=Me("BuildInfo.packageName",h);if(typeof w!="string")throw new I("invalid-cordova-configuration");var T=Me("BuildInfo.displayName",h),k={};if(gt().toLowerCase().match(/iphone|ipad|ipod/))k.ibi=w;else if(gt().toLowerCase().match(/android/))k.apn=w;else return Ne(new I("operation-not-supported-in-this-environment"));T&&(k.appDisplayName=T),m=R1(m),k.sessionId=m;var ne=Fa(i.v,i.i,i.l,s,c,null,d,i.m,k,i.u,f,i.s);return i.ma().then(function(){var Ee=i.h;return i.C.a.set(eg,v.w(),Ee)}).then(function(){var Ee=Me("cordova.plugins.browsertab.isAvailable",h);if(typeof Ee!="function")throw new I("invalid-cordova-configuration");var me=null;Ee(function(ut){if(ut){if(me=Me("cordova.plugins.browsertab.openUrl",h),typeof me!="function")throw new I("invalid-cordova-configuration");me(ne)}else{if(me=Me("cordova.InAppBrowser.open",h),typeof me!="function")throw new I("invalid-cordova-configuration");ut=gt(),i.a=me(ne,ut.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ut.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Qb(i,s){for(var c=0;c<i.b.length;c++)try{i.b[c](s)}catch{}}function Zb(i){return i.f||(i.f=i.ma().then(function(){return new ce(function(s){function c(d){return s(d),i.Ta(c),!1}i.Ea(c),k1(i)})})),i.f}function ig(i){var s=null;return C1(i.g).then(function(c){return s=c,c=i.g,Fo(c.b,eg,c.a)}).then(function(){return s})}function k1(i){function s(v){d=!0,f&&f.cancel(),ig(i).then(function(w){var T=c;if(w&&v&&v.url){var k=null;T=z0(v.url),T.indexOf("/__/auth/callback")!=-1&&(k=Yt(T),k=Oo(bn(k,"firebaseError")||null),k=(k=typeof k=="object"?Q_(k):null)?new xn(w.c,w.b,null,null,k,null,w.T()):new xn(w.c,w.b,T,w.f,null,null,w.T())),T=k||c}Qb(i,T)})}var c=new xn("unknown",null,null,null,new I("no-auth-event")),d=!1,f=Io(500).then(function(){return ig(i).then(function(){d||Qb(i,c)})}),m=h.handleOpenURL;h.handleOpenURL=function(v){if(v.toLowerCase().indexOf(Me("BuildInfo.packageName",h).toLowerCase()+"://")==0&&s({url:v}),typeof m=="function")try{m(v)}catch(w){console.error(w)}},wp||(wp=new Kk),$k(s)}t.Ea=function(i){this.b.push(i),Zb(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new xn("unknown",null,null,null,new I("no-auth-event")),i(s))})},t.Ta=function(i){Rn(this.b,function(s){return s==i})};function x1(i){this.a=i,this.b=Ba()}var og={name:"pendingRedirect",F:"session"};function N1(i){return i.b.set(og,"pending",i.a)}function sg(i){return Fo(i.b,og,i.a)}function M1(i){return i.b.get(og,i.a).then(function(s){return s=="pending"})}function Dl(i,s,c,d){this.i={},this.u=0,this.D=i,this.v=s,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=L(this.s,this),this.b=new Rl,this.C=new uE,this.g=new x1(oE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Jb(this.D,this.v,this.m,la,this.J)}function Jb(i,s,c,d,f){var m=Z.SDK_VERSION||null;return $f()?new Xb(i,s,c,m,d,f):new Sb(i,s,c,m,d,f)}Dl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Jb(this.D,this.v,this.m,null,this.J),this.i={}};function eE(i){i.f||(i.f=!0,i.a.Ea(i.l));var s=i.a;return i.a.ma().o(function(c){throw i.a==s&&i.reset(),c})}function tE(i){i.a.Yb()&&eE(i).o(function(s){var c=new xn("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));ug(s)&&i.s(c)}),i.a.Ub()||sE(i.b)}function Tl(i,s){cr(i.h,s)||i.h.push(s),i.f||M1(i.g).then(function(c){c?sg(i.g).then(function(){eE(i).o(function(d){var f=new xn("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));ug(d)&&i.s(f)})}):tE(i)}).o(function(){tE(i)})}function ag(i,s){Rn(i.h,function(c){return c==s})}Dl.prototype.s=function(i){if(!i)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(s=this.c[i.c])&&(s.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),s=!0;break}}return sE(this.b),s};var P1=new Nr(2e3,1e4),L1=new Nr(3e4,6e4);Dl.prototype.ra=function(){return this.b.ra()};function nE(i,s,c,d,f,m,v){return i.a.Nb(s,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},f,m,v)}function ug(i){return!!(i&&i.code=="auth/cordova-not-ready")}function rE(i,s,c,d,f){var m;return N1(i.g).then(function(){return i.a.Ob(s,c,d,f).o(function(v){if(ug(v))throw new I("operation-not-supported-in-this-environment");return m=v,sg(i.g).then(function(){throw m})}).then(function(){return i.a.ac()?new ce(function(){}):sg(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function iE(i,s,c,d,f){return i.a.Pb(d,function(m){s.na(c,null,m,f)},P1.get())}var cg={};function oE(i,s,c){return i=i+":"+s,c&&(i=i+":"+c.url),i}function lg(i,s,c,d){var f=oE(s,c,d);return cg[f]||(cg[f]=new Dl(i,s,c,d)),cg[f]}function Rl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Rl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rl.prototype.h=function(i,s){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,f=i.a&&i.a.code=="auth/web-storage-unsupported",m=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!f&&!m),c!="unknown"||f||m?i.a?(Oi(this,!0,null,i.a),$()):s.Fa(c,d)?F1(this,i,s):Ne(new I("invalid-auth-event")):(Oi(this,!1,null,null),$())}else Ne(new I("invalid-auth-event"))};function sE(i){i.g||(i.g=!0,Oi(i,!1,null,null))}function Ol(i){i.g&&!i.i&&Oi(i,!1,null,null)}function F1(i,s,c){c=c.Fa(s.c,s.b);var d=s.g,f=s.f,m=s.i,v=s.T(),w=!!s.c.match(/Redirect$/);c(d,f,v,m).then(function(T){Oi(i,w,T,null)}).o(function(T){Oi(i,w,null,T)})}function V1(i,s){if(i.b=function(){return Ne(s)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](s)}function aE(i,s){if(i.b=function(){return $(s)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](s)}function Oi(i,s,c,d){s?d?V1(i,d):aE(i,c):aE(i,{user:null}),i.f=[],i.c=[]}Rl.prototype.ra=function(){var i=this;return new ce(function(s,c){i.b?i.b().then(s,c):(i.f.push(s),i.c.push(c),j1(i))})};function j1(i){var s=new I("timeout");i.a&&i.a.cancel(),i.a=Io(L1.get()).then(function(){i.b||(i.g=!0,Oi(i,!0,null,s))})}function uE(){}uE.prototype.h=function(i,s){if(i){var c=i.c,d=i.b;i.a?(s.na(i.c,null,i.a,i.b),$()):s.Fa(c,d)?U1(i,s):Ne(new I("invalid-auth-event"))}else Ne(new I("invalid-auth-event"))};function U1(i,s){var c=i.b,d=i.c;s.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(f){s.na(d,f,null,c)}).o(function(f){s.na(d,null,f,c)})}function cE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function hg(i,s){this.a=s,G(this,"verificationId",i)}hg.prototype.confirm=function(i){return i=X0(this.verificationId,i),this.a(i)};function dg(i,s,c,d){return new dr(i).gb(s,c).then(function(f){return new hg(f,d)})}function B1(i){var s=P0(i);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vt(this,{token:i,expirationTime:Ea(1e3*s.exp),authTime:Ea(1e3*s.auth_time),issuedAtTime:Ea(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function fg(i,s,c){var d=s&&s[hE];if(!d)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Rr(s),this.g=c,this.c=new ol(null,d),this.b=[];var f=this;Ve(s[lE]||[],function(m){(m=ip(m))&&f.b.push(m)}),G(this,"auth",this.a),G(this,"session",this.c),G(this,"hints",this.b)}var lE="mfaInfo",hE="mfaPendingCredential";fg.prototype.Rc=function(i){var s=this;return i.tb(this.a.a,this.c).then(function(c){var d=Rr(s.f);return delete d[lE],delete d[hE],Wt(d,c),s.g(d)})};function pg(i,s,c,d){I.call(this,"multi-factor-auth-required",d,s),this.b=new fg(i,s,c),G(this,"resolver",this.b)}ee(pg,I);function dE(i,s,c){if(i&&A(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new pg(s,i.serverResponse,c,i.message)}catch{}return null}function fE(){}fE.prototype.tb=function(i,s,c){return s.type==Aa?q1(this,i,s,c):z1(this,i,s)};function q1(i,s,c,d){return c.Ha().then(function(f){return f={idToken:f},typeof d<"u"&&(f.displayName=d),Wt(f,{phoneVerificationInfo:Da(i.a)}),de(s,kx,f)})}function z1(i,s,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Wt(d,{phoneVerificationInfo:Da(i.a)}),de(s,xx,d)})}function gg(i){G(this,"factorId",i.fa),this.a=i}ee(gg,fE);function pE(i){if(gg.call(this,i),this.a.fa!=dr.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}ee(pE,gg);function Vo(i,s){$t.call(this,i);for(var c in s)this[c]=s[c]}ee(Vo,$t);function mg(i,s){this.a=i,this.b=[],this.c=L(this.yc,this),wn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&Ve(s.multiFactor.enrolledFactors,function(d){var f=null,m={};if(d){d.uid&&(m[sp]=d.uid),d.displayName&&(m[w0]=d.displayName),d.enrollmentTime&&(m[op]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(m[ap]=d.phoneNumber);try{f=new Ca(m)}catch{}d=f}else d=null;d&&c.push(d)}),kl(this,c)}function H1(i){var s=[];return Ve(i.mfaInfo||[],function(c){(c=ip(c))&&s.push(c)}),s}t=mg.prototype,t.yc=function(i){kl(this,H1(i.hd))};function kl(i,s){i.b=s,G(i,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(i){return new ol(i,null)})},t.fc=function(i,s){var c=this,d=this.a.a;return this.Sb().then(function(f){return i.tb(d,f,s)}).then(function(f){return Xn(c.a,f),c.a.reload()})},t.bd=function(i){var s=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(f){return de(d,Zx,{idToken:f,mfaEnrollmentId:c})}).then(function(f){var m=bO(s.b,function(v){return v.uid!=c});return kl(s,m),Xn(s.a,f),s.a.reload().o(function(v){if(v.code!="auth/user-token-expired")throw v})})},t.w=function(){return{multiFactor:{enrolledFactors:Lc(this.b,function(i){return i.w()})}}};function vg(i,s,c){if(this.h=i,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}vg.prototype.start=function(){this.a=this.c,yg(this,!0)};function G1(i,s){return s?(i.a=i.c,i.g()):(s=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),s)}function yg(i,s){i.stop(),i.b=Io(G1(i,s)).then(function(){return bk()}).then(function(){return i.h()}).then(function(){yg(i,!0)}).o(function(c){i.i(c)&&yg(i,!1)})}vg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function _g(i){this.f=i,this.b=this.a=null,this.c=Date.now()}_g.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function gE(i,s){typeof s>"u"&&(i.b?(s=i.b,s=s.a-s.g):s=0),i.c=Date.now()+1e3*s}function mE(i,s){i.b=rl(s[Mn]||""),i.a=s.refreshToken,s=s.expiresIn,gE(i,typeof s<"u"?Number(s):void 0)}function W1(i,s){i.b=s.b,i.a=s.a,i.c=s.c}function K1(i,s){return gx(i.f,s).then(function(c){return i.b=rl(c.access_token),i.a=c.refresh_token,gE(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}_g.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Ne(new I("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?K1(this,{grant_type:"refresh_token",refresh_token:this.a}):$(null):$({accessToken:this.b.toString(),refreshToken:this.a})};function xl(i,s){this.a=i||null,this.b=s||null,Vt(this,{lastSignInTime:Ea(s||null),creationTime:Ea(i||null)})}function $1(i){return new xl(i.a,i.b)}xl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Y1(i,s,c,d,f,m){Vt(this,{uid:i,displayName:d||null,photoURL:f||null,email:c||null,phoneNumber:m||null,providerId:s})}function sn(i,s,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=Z.SDK_VERSION?To(Z.SDK_VERSION):null;this.a=new Nn(this.l,ca(la),d),(this.u=i.emulatorConfig||null)&&wl(this.a,this.u),this.h=new _g(this.a),Ag(this,s[Mn]),mE(this.h,s),G(this,"refreshToken",this.h.a),yE(this,c||{}),Ft.call(this),this.P=!1,this.s&&wi()&&(this.b=lg(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=X1(this),this.ba=L(this.ib,this);var f=this;this.za=null,this.Pa=function(m){f.xa(m.h)},this.qa=null,this.Ba=function(m){wg(f,m.c)},this.$=null,this.aa=[],this.Oa=function(m){qa(f,m.f)},this.ja=null,this.S=new mg(this,c),G(this,"multiFactor",this.S)}ee(sn,Ft),sn.prototype.xa=function(i){this.za=i,db(this.a,i)};function wg(i,s){i.u=s,wl(i.a,s),i.b&&(s=i.b,i.b=lg(i.s,i.l,i.m,i.u),i.P&&(ag(s,i),Tl(i.b,i)))}sn.prototype.la=function(){return this.za};function bg(i,s){i.qa&&rn(i.qa,"languageCodeChanged",i.Pa),(i.qa=s)&&wn(s,"languageCodeChanged",i.Pa)}function Eg(i,s){i.$&&rn(i.$,"emulatorConfigChanged",i.Ba),(i.$=s)&&wn(s,"emulatorConfigChanged",i.Ba)}function qa(i,s){i.aa=s,fb(i.a,Z.SDK_VERSION?To(Z.SDK_VERSION,i.aa):null)}sn.prototype.Ga=function(){return di(this.aa)};function Cg(i,s){i.ja&&rn(i.ja,"frameworkChanged",i.Oa),(i.ja=s)&&wn(s,"frameworkChanged",i.Oa)}sn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Ig(i){try{return Z.app(i.m).auth()}catch{throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function X1(i){return new vg(function(){return i.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=i.h.c-Date.now()-3e5;return 0<s?s:0})}function vE(i){i.J||i.D.b||(i.D.start(),rn(i,"tokenChanged",i.ba),wn(i,"tokenChanged",i.ba))}function Sg(i){rn(i,"tokenChanged",i.ba),i.D.stop()}function Ag(i,s){i.Aa=s,G(i,"_lat",s)}function Q1(i,s){Rn(i.W,function(c){return c==s})}function ki(i){for(var s=[],c=0;c<i.W.length;c++)s.push(i.W[c](i));return Nw(s).then(function(){return i})}function za(i){i.b&&!i.P&&(i.P=!0,Tl(i.b,i))}function yE(i,s){Vt(i,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new xl(s.createdAt,s.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}G(sn.prototype,"providerId","firebase");function _E(){}function Dg(i){return $().then(function(){if(i.J)throw new I("app-deleted")})}function Tg(i){return Lc(i.providerData,function(s){return s.providerId})}function Rg(i,s){s&&(wE(i,s.providerId),i.providerData.push(s))}function wE(i,s){Rn(i.providerData,function(c){return c.providerId==s})}function Lr(i,s,c){(s!="uid"||c)&&i.hasOwnProperty(s)&&G(i,s,c)}function Nl(i,s){i!=s&&(Vt(i,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?G(i,"metadata",$1(s.metadata)):G(i,"metadata",new xl),Ve(s.providerData,function(c){Rg(i,c)}),W1(i.h,s.h),G(i,"refreshToken",i.h.a),kl(i.S,s.S.b))}t=sn.prototype,t.reload=function(){var i=this;return ot(this,Dg(this).then(function(){return Og(i).then(function(){return ki(i)}).then(_E)}))};function Og(i){return i.I().then(function(s){var c=i.isAnonymous;return Z1(i,s).then(function(){return c||Lr(i,"isAnonymous",!1),s})})}t.oc=function(i){return this.I(i).then(function(s){return new B1(s)})},t.I=function(i){var s=this;return ot(this,Dg(this).then(function(){return s.h.getToken(i)}).then(function(c){if(!c)throw new I("internal-error");return c.accessToken!=s.Aa&&(Ag(s,c.accessToken),s.dispatchEvent(new Vo("tokenChanged"))),Lr(s,"refreshToken",c.refreshToken),c.accessToken}))};function Xn(i,s){s[Mn]&&i.Aa!=s[Mn]&&(mE(i.h,s),i.dispatchEvent(new Vo("tokenChanged")),Ag(i,s[Mn]),Lr(i,"refreshToken",i.h.a))}function Z1(i,s){return de(i.a,Nx,{idToken:s}).then(L(i.Kc,i))}t.Kc=function(i){if(i=i.users,!i||!i.length)throw new I("internal-error");i=i[0],yE(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var s=J1(i),c=0;c<s.length;c++)Rg(this,s[c]);Lr(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Vo("userReloaded",{hd:i}))};function J1(i){return(i=i.providerUserInfo)&&i.length?Lc(i,function(s){return new Y1(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(i){return Jf("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},t.ub=function(i){var s=this,c=null;return ot(this,i.c(this.a,this.uid).then(function(d){return Xn(s,d),c=Ha(s,d,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Ml(i,s){return Og(i).then(function(){if(cr(Tg(i),s))return ki(i).then(function(){throw new I("provider-already-linked")})})}t.Cc=function(i){return Jf("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},t.rb=function(i){var s=this,c=null;return ot(this,Ml(this,i.providerId).then(function(){return s.I()}).then(function(d){return i.b(s.a,d)}).then(function(d){return c=Ha(s,d,"link"),bE(s,d)}).then(function(){return c}))},t.Dc=function(i,s){var c=this;return ot(this,Ml(this,"phone").then(function(){return dg(Ig(c),i,s,L(c.rb,c))}))},t.Mc=function(i,s){var c=this;return ot(this,$().then(function(){return dg(Ig(c),i,s,L(c.ub,c))}),!0)};function Ha(i,s,c){var d=yp(s);return s=F0(s),$n({user:i,credential:d,additionalUserInfo:s,operationType:c})}function bE(i,s){return Xn(i,s),i.reload().then(function(){return i})}t.Cb=function(i){var s=this;return ot(this,this.I().then(function(c){return s.a.Cb(c,i)}).then(function(c){return Xn(s,c),s.reload()}))},t.ed=function(i){var s=this;return ot(this,this.I().then(function(c){return i.b(s.a,c)}).then(function(c){return Xn(s,c),s.reload()}))},t.Db=function(i){var s=this;return ot(this,this.I().then(function(c){return s.a.Db(c,i)}).then(function(c){return Xn(s,c),s.reload()}))},t.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Dg(this);var s=this;return ot(this,this.I().then(function(c){return s.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Xn(s,c),Lr(s,"displayName",c.displayName||null),Lr(s,"photoURL",c.photoUrl||null),Ve(s.providerData,function(d){d.providerId==="password"&&(G(d,"displayName",s.displayName),G(d,"photoURL",s.photoURL))}),ki(s)}).then(_E))},t.cd=function(i){var s=this;return ot(this,Og(this).then(function(c){return cr(Tg(s),i)?Ex(s.a,c,[i]).then(function(d){var f={};return Ve(d.providerUserInfo||[],function(m){f[m.providerId]=!0}),Ve(Tg(s),function(m){f[m]||wE(s,m)}),f[dr.PROVIDER_ID]||G(s,"phoneNumber",null),ki(s)}):ki(s).then(function(){throw new I("no-such-provider")})}))},t.delete=function(){var i=this;return ot(this,this.I().then(function(s){return de(i.a,Dx,{idToken:s})}).then(function(){i.dispatchEvent(new Vo("userDeleted"))})).then(function(){for(var s=0;s<i.N.length;s++)i.N[s].cancel("app-deleted");bg(i,null),Eg(i,null),Cg(i,null),i.N=[],i.J=!0,Sg(i),G(i,"refreshToken",null),i.b&&ag(i.b,i)})},t.Gb=function(i,s){return!!(i=="linkViaPopup"&&(this.g||null)==s&&this.f||i=="reauthViaPopup"&&(this.g||null)==s&&this.f||i=="linkViaRedirect"&&(this.ga||null)==s||i=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(i,s,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(i,s){return i=="linkViaPopup"&&s==(this.g||null)?L(this.Lb,this):i=="reauthViaPopup"&&s==(this.g||null)?L(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==s?L(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==s?L(this.Mb,this):null},t.Ec=function(i){var s=this;return EE(this,"linkViaPopup",i,function(){return Ml(s,i.providerId).then(function(){return ki(s)})},!1)},t.Nc=function(i){return EE(this,"reauthViaPopup",i,function(){return $()},!0)};function EE(i,s,c,d,f){if(!wi())return Ne(new I("operation-not-supported-in-this-environment"));if(i.i&&!f)return Ne(i.i);var m=dp(c.providerId),v=bi(i.uid+":::"),w=null;(!wa()||Yf())&&i.s&&c.isOAuthProvider&&(w=Fa(i.s,i.l,i.m,s,c,null,v,Z.SDK_VERSION||null,null,null,i.tenantId,i.u));var T=h0(w,m&&m.va,m&&m.ua);return d=d().then(function(){if(IE(i),!f)return i.I().then(function(){})}).then(function(){return nE(i.b,T,s,c,v,!!w,i.tenantId)}).then(function(){return new ce(function(k,ne){i.na(s,null,new I("cancelled-popup-request"),i.g||null),i.f=k,i.C=ne,i.g=v,i.c=iE(i.b,i,s,T,v)})}).then(function(k){return T&&_i(T),k?$n(k):null}).o(function(k){throw T&&_i(T),k}),ot(i,d,f)}t.Fc=function(i){var s=this;return CE(this,"linkViaRedirect",i,function(){return Ml(s,i.providerId)},!1)},t.Oc=function(i){return CE(this,"reauthViaRedirect",i,function(){return $()},!0)};function CE(i,s,c,d,f){if(!wi())return Ne(new I("operation-not-supported-in-this-environment"));if(i.i&&!f)return Ne(i.i);var m=null,v=bi(i.uid+":::");return d=d().then(function(){if(IE(i),!f)return i.I().then(function(){})}).then(function(){return i.ga=v,ki(i)}).then(function(w){return i.ha&&(w=i.ha,w=w.b.set(kg,i.w(),w.a)),w}).then(function(){return rE(i.b,s,c,v,i.tenantId)}).o(function(w){if(m=w,i.ha)return AE(i.ha);throw m}).then(function(){if(m)throw m}),ot(i,d,f)}function IE(i){if(!i.b||!i.P)throw i.b&&!i.P?new I("internal-error"):new I("auth-domain-config-required")}t.Lb=function(i,s,c,d){var f=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return c=this.I().then(function(v){return jp(f.a,{requestUri:i,postBody:d,sessionId:s,idToken:v})}).then(function(v){return m=Ha(f,v,"link"),bE(f,v)}).then(function(){return m}),ot(this,c)},t.Mb=function(i,s,c,d){var f=this;this.c&&(this.c.cancel(),this.c=null);var m=null,v=$().then(function(){return xo(Up(f.a,{requestUri:i,sessionId:s,postBody:d,tenantId:c}),f.uid)}).then(function(w){return m=Ha(f,w,"reauthenticate"),Xn(f,w),f.i=null,f.reload()}).then(function(){return m});return ot(this,v,!0)},t.vb=function(i){var s=this,c=null;return ot(this,this.I().then(function(d){return c=d,typeof i>"u"||fi(i)?{}:tl(new el(i))}).then(function(d){return s.a.vb(c,d)}).then(function(d){if(s.email!=d)return s.reload()}).then(function(){}))},t.Fb=function(i,s){var c=this,d=null;return ot(this,this.I().then(function(f){return d=f,typeof s>"u"||fi(s)?{}:tl(new el(s))}).then(function(f){return c.a.Fb(d,i,f)}).then(function(f){if(c.email!=f)return c.reload()}).then(function(){}))};function ot(i,s,c){var d=eN(i,s,c);return i.N.push(d),d.oa(function(){Fc(i.N,d)}),d.o(function(f){var m=null;throw f&&f.code==="auth/multi-factor-auth-required"&&(m=dE(f.w(),Ig(i),L(i.jc,i))),m||f})}t.jc=function(i){var s=null,c=this;return i=xo($(i),c.uid).then(function(d){return s=Ha(c,d,"reauthenticate"),Xn(c,d),c.i=null,c.reload()}).then(function(){return s}),ot(this,i,!0)};function eN(i,s,c){return i.i&&!c?(s.cancel(),Ne(i.i)):s.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Vo("userInvalidated")),i.i=d),d})}t.toJSON=function(){return this.w()},t.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Wt(i,this.metadata.w()),Ve(this.providerData,function(s){i.providerData.push(Ik(s))}),Wt(i,this.S.w()),i};function SE(i){if(!i.apiKey)return null;var s={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[Mn]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var f=new sn(s,c,i);return i.providerData&&Ve(i.providerData,function(m){m&&Rg(f,$n(m))}),i.redirectEventId&&(f.ga=i.redirectEventId),f}function tN(i,s,c,d){var f=new sn(i,s);return c&&(f.ha=c),d&&qa(f,d),f.reload().then(function(){return f})}function nN(i,s,c,d){var f=i.h,m={};return m[Mn]=f.b&&f.b.toString(),m.refreshToken=f.a,s=new sn(s||{apiKey:i.l,authDomain:i.s,appName:i.m},m),c&&(s.ha=c),d&&qa(s,d),Nl(s,i),s}function rN(i){this.a=i,this.b=Ba()}var kg={name:"redirectUser",F:"session"};function AE(i){return Fo(i.b,kg,i.a)}function iN(i,s){return i.b.get(kg,i.a).then(function(c){return c&&s&&(c.authDomain=s),SE(c||{})})}function xg(i){this.a=i,this.b=Ba(),this.c=null,this.f=oN(this),this.b.addListener(Qn("local"),this.a,L(this.g,this))}xg.prototype.g=function(){var i=this,s=Qn("local");jo(this,function(){return $().then(function(){return i.c&&i.c.F!="local"?i.b.get(s,i.a):null}).then(function(c){if(c)return Ng(i,"local").then(function(){i.c=s})})})};function Ng(i,s){var c=[],d;for(d in Po)Po[d]!==s&&c.push(Fo(i.b,Qn(Po[d]),i.a));return c.push(Fo(i.b,Mg,i.a)),$O(c)}function oN(i){var s=Qn("local"),c=Qn("session"),d=Qn("none");return w1(i.b,s,i.a).then(function(){return i.b.get(c,i.a)}).then(function(f){return f?c:i.b.get(d,i.a).then(function(m){return m?d:i.b.get(s,i.a).then(function(v){return v?s:i.b.get(Mg,i.a).then(function(w){return w?Qn(w):s})})})}).then(function(f){return i.c=f,Ng(i,f.F)}).o(function(){i.c||(i.c=s)})}var Mg={name:"persistence",F:"session"};function Qn(i){return{name:"authUser",F:i}}xg.prototype.yb=function(i){var s=null,c=this;return _1(i),jo(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return s=d,Ng(c,i)}).then(function(){if(c.c=Qn(i),s)return c.b.set(c.c,s,c.a)}):$()})};function sN(i){return jo(i,function(){return i.b.set(Mg,i.c.F,i.a)})}function DE(i,s){return jo(i,function(){return i.b.set(i.c,s.w(),i.a)})}function TE(i){return jo(i,function(){return Fo(i.b,i.c,i.a)})}function RE(i,s,c){return jo(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&s&&(d.authDomain=s),d&&c&&(d.emulatorConfig=c),SE(d||{})})})}function jo(i,s){return i.f=i.f.then(s,s),i.f}function Pn(i){if(this.l=!1,G(this,"settings",new cE),G(this,"app",i),Ae(this).options&&Ae(this).options.apiKey)i=Z.SDK_VERSION?To(Z.SDK_VERSION):null,this.a=new Nn(Ae(this).options&&Ae(this).options.apiKey,ca(la),i);else throw new I("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Z.INTERNAL.createSubscribe(L(this.zc,this)),this.W=void 0,this.ib=Z.INTERNAL.createSubscribe(L(this.Ac,this)),Uo(this,null),this.i=new xg(Ae(this).options.apiKey+":"+Ae(this).name),this.D=new rN(Ae(this).options.apiKey+":"+Ae(this).name),this.$=qe(this,dN(this)),this.h=qe(this,fN(this)),this.ba=!1,this.ja=L(this.Zc,this),this.Ba=L(this.da,this),this.qa=L(this.mc,this),this.za=L(this.wc,this),this.Aa=L(this.xc,this),this.b=null,cN(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Gc,this),this.u=0,Ft.call(this),uN(this),this.J=[],this.R=null}ee(Pn,Ft);function OE(i){$t.call(this,"languageCodeChanged"),this.h=i}ee(OE,$t);function kE(i){$t.call(this,"emulatorConfigChanged"),this.c=i}ee(kE,$t);function xE(i){$t.call(this,"frameworkChanged"),this.f=i}ee(xE,$t),t=Pn.prototype,t.yb=function(i){return i=this.i.yb(i),qe(this,i)},t.xa=function(i){this.aa===i||this.l||(this.aa=i,db(this.a,this.aa),this.dispatchEvent(new OE(this.la())))},t.la=function(){return this.aa},t.fd=function(){var i=h.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},t.gd=function(i,s){if(!this.R){if(!/^https?:\/\//.test(i))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,aN(s),this.R={url:i,ec:s},this.settings.jb=!0,wl(this.a,this.R),this.dispatchEvent(new kE(this.R))}};function aN(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),h.document&&!i&&Qc().then(function(){var s=h.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),h.document.body.appendChild(s)})}t.Gc=function(i){this.J.push(i),fb(this.a,Z.SDK_VERSION?To(Z.SDK_VERSION,this.J):null),this.dispatchEvent(new xE(this.J))},t.Ga=function(){return di(this.J)},t.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},t.T=function(){return this.S};function uN(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var s=Yt(this.R.url);s=$n({protocol:s.c,host:s.a,port:s.g,options:$n({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:Ae(this).options.apiKey,authDomain:Ae(this).options.authDomain,appName:Ae(this).name,currentUser:se(this)&&se(this).w()}};function Pg(i){return i.Oa||Ne(new I("auth-domain-config-required"))}function cN(i){var s=Ae(i).options.authDomain,c=Ae(i).options.apiKey;s&&wi()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=lg(s,c,Ae(i).name,i.R),Tl(i.b,i),se(i)&&za(se(i)),i.m){za(i.m);var d=i.m;d.xa(i.la()),bg(d,i),d=i.m,qa(d,i.J),Cg(d,i),d=i.m,wg(d,i.R),Eg(d,i),i.m=null}return i.b}}))}t.Gb=function(i,s){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(i,s,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(i,s){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==s&&this.f?L(this.ic,this):null},t.ic=function(i,s,c,d){var f=this,m={requestUri:i,postBody:d,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),f.$.then(function(){return xi(f,Vp(f.a,m))})},t.Xc=function(i){if(!wi())return Ne(new I("operation-not-supported-in-this-environment"));var s=this,c=dp(i.providerId),d=bi(),f=null;(!wa()||Yf())&&Ae(this).options.authDomain&&i.isOAuthProvider&&(f=Fa(Ae(this).options.authDomain,Ae(this).options.apiKey,Ae(this).name,"signInViaPopup",i,null,d,Z.SDK_VERSION||null,null,null,this.T(),this.R));var m=h0(f,c&&c.va,c&&c.ua);return c=Pg(this).then(function(v){return nE(v,m,"signInViaPopup",i,d,!!f,s.T())}).then(function(){return new ce(function(v,w){s.na("signInViaPopup",null,new I("cancelled-popup-request"),s.g),s.f=v,s.C=w,s.g=d,s.c=iE(s.b,s,"signInViaPopup",m,d)})}).then(function(v){return m&&_i(m),v?$n(v):null}).o(function(v){throw m&&_i(m),v}),qe(this,c)},t.Yc=function(i){if(!wi())return Ne(new I("operation-not-supported-in-this-environment"));var s=this,c=Pg(this).then(function(){return sN(s.i)}).then(function(){return rE(s.b,"signInViaRedirect",i,void 0,s.T())});return qe(this,c)};function NE(i){if(!wi())return Ne(new I("operation-not-supported-in-this-environment"));var s=Pg(i).then(function(){return i.b.ra()}).then(function(c){return c?$n(c):null});return qe(i,s)}t.ra=function(){var i=this;return NE(this).then(function(s){return i.b&&Ol(i.b.b),s}).o(function(s){throw i.b&&Ol(i.b.b),s})},t.dd=function(i){if(!i)return Ne(new I("null-user"));if(this.S!=i.tenantId)return Ne(new I("tenant-id-mismatch"));var s=this,c={};c.apiKey=Ae(this).options.apiKey,c.authDomain=Ae(this).options.authDomain,c.appName=Ae(this).name;var d=nN(i,c,s.D,s.Ga());return qe(this,this.h.then(function(){if(Ae(s).options.apiKey!=i.l)return d.reload()}).then(function(){return se(s)&&i.uid==se(s).uid?(Nl(se(s),i),s.da(i)):(Uo(s,d),za(d),s.da(d))}).then(function(){Ga(s)}))};function lN(i,s){var c={};return c.apiKey=Ae(i).options.apiKey,c.authDomain=Ae(i).options.authDomain,c.appName=Ae(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return tN(c,s,i.D,i.Ga())}).then(function(d){return se(i)&&d.uid==se(i).uid?(Nl(se(i),d),i.da(d)):(Uo(i,d),za(d),i.da(d))}).then(function(){Ga(i)})}function Uo(i,s){se(i)&&(Q1(se(i),i.Ba),rn(se(i),"tokenChanged",i.qa),rn(se(i),"userDeleted",i.za),rn(se(i),"userInvalidated",i.Aa),Sg(se(i))),s&&(s.W.push(i.Ba),wn(s,"tokenChanged",i.qa),wn(s,"userDeleted",i.za),wn(s,"userInvalidated",i.Aa),0<i.u&&vE(s)),G(i,"currentUser",s),s&&(s.xa(i.la()),bg(s,i),qa(s,i.J),Cg(s,i),wg(s,i.R),Eg(s,i))}t.Bb=function(){var i=this,s=this.h.then(function(){return i.b&&Ol(i.b.b),se(i)?(Uo(i,null),TE(i.i).then(function(){Ga(i)})):$()});return qe(this,s)};function hN(i){var s=iN(i.D,Ae(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),AE(i.D)});return qe(i,s)}function dN(i){var s=Ae(i).options.authDomain,c=hN(i).then(function(){return RE(i.i,s,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return DE(i.i,d).then(function(){return d})}).o(function(f){return f.code=="auth/network-request-failed"?d:TE(i.i)})):null}).then(function(d){Uo(i,d||null)});return qe(i,c)}function fN(i){return i.$.then(function(){return NE(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var s=i.i;s.b.addListener(Qn("local"),s.a,i.ja)}})}t.Zc=function(){var i=this;return RE(this.i,Ae(this).options.authDomain).then(function(s){if(!i.l){var c;if(c=se(i)&&s){c=se(i).uid;var d=s.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Nl(se(i),s),se(i).I();(se(i)||s)&&(Uo(i,s),s&&(za(s),s.ha=i.D),i.b&&Tl(i.b,i),Ga(i))}})},t.da=function(i){return DE(this.i,i)},t.mc=function(){Ga(this),this.da(se(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function xi(i,s){var c=null,d=null;return qe(i,s.then(function(f){return c=yp(f),d=F0(f),lN(i,f)},function(f){var m=null;throw f&&f.code==="auth/multi-factor-auth-required"&&(m=dE(f.w(),i,L(i.kc,i))),m||f}).then(function(){return $n({user:se(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}t.kc=function(i){var s=this;return this.h.then(function(){return xi(s,$(i))})},t.zc=function(i){var s=this;this.addAuthTokenListener(function(){i.next(se(s))})},t.Ac=function(i){var s=this;pN(this,function(){i.next(se(s))})},t.Ic=function(i,s,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(se(d)):typeof i.next=="function"&&i.next(se(d))}),this.Pa(i,s,c)},t.Hc=function(i,s,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(se(d)):typeof i.next=="function"&&i.next(se(d))}),this.ib(i,s,c)},t.nc=function(i){var s=this,c=this.h.then(function(){return se(s)?se(s).I(i).then(function(d){return{accessToken:d}}):null});return qe(this,c)},t.Tc=function(i){var s=this;return this.h.then(function(){return xi(s,de(s.a,$x,{token:i}))}).then(function(c){var d=c.user;return Lr(d,"isAnonymous",!1),s.da(d),c})},t.Uc=function(i,s){var c=this;return this.h.then(function(){return xi(c,de(c.a,Eb,{email:i,password:s}))})},t.dc=function(i,s){var c=this;return this.h.then(function(){return xi(c,de(c.a,Sx,{email:i,password:s}))})},t.ab=function(i){var s=this;return this.h.then(function(){return xi(s,i.ka(s.a))})},t.Sc=function(i){return Jf("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},t.Ab=function(){var i=this;return this.h.then(function(){var s=se(i);if(s&&s.isAnonymous){var c=$n({providerId:null,isNewUser:!1});return $n({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return xi(i,i.a.Ab()).then(function(d){var f=d.user;return Lr(f,"isAnonymous",!0),i.da(f),d})})};function Ae(i){return i.app}function se(i){return i.currentUser}t.getUid=function(){return se(this)&&se(this).uid||null};function Pl(i){return se(i)&&se(i)._lat||null}function Ga(i){if(i.ba){for(var s=0;s<i.s.length;s++)i.s[s]&&i.s[s](Pl(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),s=0;s<i.N.length;s++)i.N[s]&&i.N[s](Pl(i))}}t.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&se(this)&&vE(se(this))},t.Pc=function(i){var s=this;Ve(this.s,function(c){c==i&&s.u--}),0>this.u&&(this.u=0),this.u==0&&se(this)&&Sg(se(this)),this.removeAuthTokenListener(i)},t.addAuthTokenListener=function(i){var s=this;this.s.push(i),qe(this,this.h.then(function(){s.l||cr(s.s,i)&&i(Pl(s))}))},t.removeAuthTokenListener=function(i){Rn(this.s,function(s){return s==i})};function pN(i,s){i.N.push(s),qe(i,i.h.then(function(){!i.l&&cr(i.N,s)&&i.W!==i.getUid()&&(i.W=i.getUid(),s(Pl(i)))}))}t.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Qn("local"),i.a,this.ja)),this.b&&(ag(this.b,this),Ol(this.b.b)),Promise.resolve()};function qe(i,s){return i.P.push(s),s.oa(function(){Fc(i.P,s)}),s}t.hc=function(i){return qe(this,mx(this.a,i))},t.Bc=function(i){return!!vp(i)},t.xb=function(i,s){var c=this;return qe(this,$().then(function(){var d=new el(s);if(!d.c)throw new I("argument-error",lp+" must be true when sending sign in link to email");return tl(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},t.jd=function(i){return this.Sa(i).then(function(s){return s.data.email})},t.ob=function(i,s){return qe(this,this.a.ob(i,s).then(function(){}))},t.Sa=function(i){return qe(this,this.a.Sa(i).then(function(s){return new Ak(s)}))},t.kb=function(i){return qe(this,this.a.kb(i).then(function(){}))},t.wb=function(i,s){var c=this;return qe(this,$().then(function(){return typeof s>"u"||fi(s)?{}:tl(new el(s))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},t.Wc=function(i,s){return qe(this,dg(this,i,s,L(this.ab,this)))},t.Vc=function(i,s){var c=this;return qe(this,$().then(function(){var d=s||_a(),f=Y0(i,d);if(d=vp(d),!d)throw new I("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new I("tenant-id-mismatch");return c.ab(f)}))};function Wa(){}Wa.prototype.render=function(){},Wa.prototype.reset=function(){},Wa.prototype.getResponse=function(){},Wa.prototype.execute=function(){};function Bo(){this.a={},this.b=1e12}var Lg=null;Bo.prototype.render=function(i,s){return this.a[this.b.toString()]=new Ll(i,s),this.b++},Bo.prototype.reset=function(i){var s=Fg(this,i);i=ME(i),s&&i&&(s.delete(),delete this.a[i])},Bo.prototype.getResponse=function(i){return(i=Fg(this,i))?i.getResponse():null},Bo.prototype.execute=function(i){(i=Fg(this,i))&&i.execute()};function Fg(i,s){return(s=ME(s))&&i.a[s]||null}function ME(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Ll(i,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=da(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():wn(this.f,"click",this.i)}Ll.prototype.getResponse=function(){return Vg(this),this.b},Ll.prototype.execute=function(){Vg(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=wk();var s=i.c.callback,c=i.c["expired-callback"];if(s)try{s(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Ll.prototype.delete=function(){Vg(this),this.g=!0,clearTimeout(this.a),this.a=null,rn(this.f,"click",this.i)};function Vg(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function jg(){}G(jg,"FACTOR_ID","phone");function Ug(){}Ug.prototype.g=function(){return Lg||(Lg=new Bo),$(Lg)},Ug.prototype.c=function(){};var Bg=null;function qg(){this.b=h.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var gN=new Gn(Vc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mN=new Nr(3e4,6e4);qg.prototype.g=function(i){var s=this;return new ce(function(c,d){var f=setTimeout(function(){d(new I("network-request-failed"))},mN.get());if(!h.grecaptcha||i!==s.f&&!s.b){h[s.a]=function(){if(h.grecaptcha){s.f=i;var v=h.grecaptcha.render;h.grecaptcha.render=function(w,T){return w=v(w,T),s.b++,w},clearTimeout(f),c(h.grecaptcha)}else clearTimeout(f),d(new I("internal-error"));delete h[s.a]};var m=Ef(gN,{onload:s.a,hl:i||""});$(kp(m)).o(function(){clearTimeout(f),d(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(f),c(h.grecaptcha)})},qg.prototype.c=function(){this.b--};var zg=null;function Hg(i,s,c,d,f,m,v){if(G(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,v?(Bg||(Bg=new Ug),v=Bg):(zg||(zg=new qg),v=zg),this.m=v,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[FE])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[vN]==="invisible",!h.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!da(s)||!this.i&&da(s).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Nn(i,m||null,f||null),this.u=d||function(){return null};var w=this;this.l=[];var T=this.a[PE];this.a[PE]=function(ne){if(VE(w,ne),typeof T=="function")T(ne);else if(typeof T=="string"){var Ee=Me(T,h);typeof Ee=="function"&&Ee(ne)}};var k=this.a[LE];this.a[LE]=function(){if(VE(w,null),typeof k=="function")k();else if(typeof k=="string"){var ne=Me(k,h);typeof ne=="function"&&ne()}}}var PE="callback",LE="expired-callback",FE="sitekey",vN="size";function VE(i,s){for(var c=0;c<i.l.length;c++)try{i.l[c](s)}catch{}}function yN(i,s){Rn(i.l,function(c){return c==s})}function Gg(i,s){return i.h.push(s),s.oa(function(){Fc(i.h,s)}),s}t=Hg.prototype,t.Ia=function(){var i=this;return this.f?this.f:this.f=Gg(this,$().then(function(){if(Zc()&&!kn())return Qc();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(s){return i.g=s,de(i.s,jx,{})}).then(function(s){i.a[FE]=s.recaptchaSiteKey}).o(function(s){throw i.f=null,s}))},t.render=function(){Fl(this);var i=this;return Gg(this,this.Ia().then(function(){if(i.c===null){var s=i.v;if(!i.i){var c=da(s);s=HO("DIV"),c.appendChild(s)}i.c=i.g.render(s,i.a)}return i.c}))},t.verify=function(){Fl(this);var i=this;return Gg(this,this.render().then(function(s){return new ce(function(c){var d=i.g.getResponse(s);if(d)c(d);else{var f=function(m){m&&(yN(i,f),c(m))};i.l.push(f),i.i&&i.g.execute(i.c)}})}))},t.reset=function(){Fl(this),this.c!==null&&this.g.reset(this.c)};function Fl(i){if(i.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Fl(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=da(this.v);for(var s;s=i.firstChild;)i.removeChild(s)}};function Wg(i,s,c){var d=!1;try{this.b=c||Z.app()}catch{throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new I("invalid-api-key");var f=this,m=null;try{m=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=Z.SDK_VERSION?To(Z.SDK_VERSION,m):null,Hg.call(this,c,i,s,function(){try{var v=f.b.auth().la()}catch{v=null}return v},m,ca(la),d)}ee(Wg,Hg);function jE(i,s,c,d){e:{c=Array.prototype.slice.call(c);for(var f=0,m=!1,v=0;v<s.length;v++)if(s[v].optional)m=!0;else{if(m)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");f++}if(m=s.length,c.length<f||m<c.length)d="Expected "+(f==m?f==1?"1 argument":f+" arguments":f+"-"+m+" arguments")+" but got "+c.length+".";else{for(f=0;f<c.length;f++)if(m=s[f].optional&&c[f]===void 0,!s[f].M(c[f])&&!m){if(s=s[f],0>f||f>=UE.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");c=UE[f],d=(d?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}d=null}}if(d)throw new I("argument-error",i+" failed: "+d)}var UE="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function H(i,s){return{name:i||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Kg(i,s){return{name:i||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Ze(i,s){return{name:i||"",K:"a valid object",optional:!!s,M:A}}function qo(i,s){return{name:i||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Zn(i,s){return{name:i||"",K:"null",optional:!!s,M:function(c){return c===null}}}function _N(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function wN(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Pn)}}}function bN(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Z.app.App)}}}function Fr(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!i||s.providerId===i;return!(!s.ka||!c)}}}function BE(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function zo(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function $g(i,s){return A(i)&&typeof i.type=="string"&&i.type===s&&typeof i.Ha=="function"}function qE(i){return A(i)&&typeof i.uid=="string"}function Vl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function We(i,s,c,d){return{name:c||"",K:i.K+" or "+s.K,optional:!!d,M:function(f){return i.M(f)||s.M(f)}}}function je(i,s){for(var c in s){var d=s[c].name;i[d]=HE(d,i[c],s[c].j)}}function zE(i,s){for(var c in s){var d=s[c].name;d!==c&&Object.defineProperty(i,d,{get:xe(function(f){return this[f]},c),set:xe(function(f,m,v,w){jE(f,[v],[w],!0),this[m]=w},d,c,s[c].lb),enumerable:!0})}}function Ke(i,s,c,d){i[s]=HE(s,c,d)}function HE(i,s,c){function d(){var v=Array.prototype.slice.call(arguments);return jE(f,c,v),s.apply(this,v)}if(!c)return s;var f=EN(i),m;for(m in s)d[m]=s[m];for(m in s.prototype)d.prototype[m]=s.prototype[m];return d}function EN(i){return i=i.split("."),i[i.length-1]}je(Pn.prototype,{kb:{name:"applyActionCode",j:[H("code")]},Sa:{name:"checkActionCode",j:[H("code")]},ob:{name:"confirmPasswordReset",j:[H("code"),H("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[H("email"),H("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[H("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[H("emailLink")]},Hc:{name:"onAuthStateChanged",j:[We(Ze(),qo(),"nextOrObserver"),qo("opt_error",!0),qo("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[We(Ze(),qo(),"nextOrObserver"),qo("opt_error",!0),qo("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[H("email"),We(Ze("opt_actionCodeSettings",!0),Zn(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[H("email"),Ze("actionCodeSettings")]},yb:{name:"setPersistence",j:[H("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fr()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Fr()]},Tc:{name:"signInWithCustomToken",j:[H("token")]},Uc:{name:"signInWithEmailAndPassword",j:[H("email"),H("password")]},Vc:{name:"signInWithEmailLink",j:[H("email"),H("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[H("phoneNumber"),Vl()]},Xc:{name:"signInWithPopup",j:[zo()]},Yc:{name:"signInWithRedirect",j:[zo()]},dd:{name:"updateCurrentUser",j:[We(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(s){return!!(s&&s instanceof sn)}}}(),Zn(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[H(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[H("url"),Ze("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[H("code")]}}),zE(Pn.prototype,{lc:{name:"languageCode",lb:We(H(),Zn(),"languageCode")},ti:{name:"tenantId",lb:We(H(),Zn(),"tenantId")}}),Pn.Persistence=Po,Pn.Persistence.LOCAL="local",Pn.Persistence.SESSION="session",Pn.Persistence.NONE="none",je(sn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fr()]},rb:{name:"linkWithCredential",j:[Fr()]},Dc:{name:"linkWithPhoneNumber",j:[H("phoneNumber"),Vl()]},Ec:{name:"linkWithPopup",j:[zo()]},Fc:{name:"linkWithRedirect",j:[zo()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fr()]},ub:{name:"reauthenticateWithCredential",j:[Fr()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[H("phoneNumber"),Vl()]},Nc:{name:"reauthenticateWithPopup",j:[zo()]},Oc:{name:"reauthenticateWithRedirect",j:[zo()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[We(Ze("opt_actionCodeSettings",!0),Zn(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[H(null,!0)]},cd:{name:"unlink",j:[H("provider")]},Cb:{name:"updateEmail",j:[H("email")]},Db:{name:"updatePassword",j:[H("password")]},ed:{name:"updatePhoneNumber",j:[Fr("phone")]},Eb:{name:"updateProfile",j:[Ze("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[H("email"),We(Ze("opt_actionCodeSettings",!0),Zn(null,!0),"opt_actionCodeSettings",!0)]}}),je(Bo.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),je(Wa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),je(ce.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),zE(cE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Kg("appVerificationDisabledForTesting")}}),je(hg.prototype,{confirm:{name:"confirm",j:[H("verificationCode")]}}),Ke(ko,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var s,c=[Hk,Gk,Wk,zk],d=0;d<c.length;d++)if(s=c[d](i))return s;return null},[We(H(),Ze(),"json")]),Ke(En,"credential",function(i,s){return new Mr(i,s)},[H("email"),H("password")]),je(Mr.prototype,{w:{name:"toJSON",j:[H(null,!0)]}}),je(Ii.prototype,{Ca:{name:"addScope",j:[H("scope")]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),Ke(Ii,"credential",G0,[We(H(),Ze(),"token")]),Ke(En,"credentialWithLink",Y0,[H("email"),H("emailLink")]),je(Si.prototype,{Ca:{name:"addScope",j:[H("scope")]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),Ke(Si,"credential",W0,[We(H(),Ze(),"token")]),je(Ai.prototype,{Ca:{name:"addScope",j:[H("scope")]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),Ke(Ai,"credential",K0,[We(H(),We(Ze(),Zn()),"idToken"),We(H(),Zn(),"accessToken",!0)]),je(No.prototype,{Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),Ke(No,"credential",$0,[We(H(),Ze(),"token"),H("secret",!0)]),je(on.prototype,{Ca:{name:"addScope",j:[H("scope")]},credential:{name:"credential",j:[We(H(),We(Ze(),Zn()),"optionsOrIdToken"),We(H(),Zn(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),je(hr.prototype,{w:{name:"toJSON",j:[H(null,!0)]}}),je(Ei.prototype,{w:{name:"toJSON",j:[H(null,!0)]}}),Ke(dr,"credential",X0,[H("verificationId"),H("verificationCode")]),je(dr.prototype,{gb:{name:"verifyPhoneNumber",j:[We(H(),function(i,s){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?$g(c.session,Aa)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?$g(c.session,sl)&&qE(c.multiFactorHint):c.session&&c.multiFactorUid?$g(c.session,sl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Vl()]}}),je(Pr.prototype,{w:{name:"toJSON",j:[H(null,!0)]}}),je(I.prototype,{toJSON:{name:"toJSON",j:[H(null,!0)]}}),je(Ta.prototype,{toJSON:{name:"toJSON",j:[H(null,!0)]}}),je(bp.prototype,{toJSON:{name:"toJSON",j:[H(null,!0)]}}),je(pg.prototype,{toJSON:{name:"toJSON",j:[H(null,!0)]}}),je(fg.prototype,{Rc:{name:"resolveSignIn",j:[BE()]}}),je(mg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[BE(),H("displayName",!0)]},bd:{name:"unenroll",j:[We({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:qE},H(),"multiFactorInfoIdentifier")]}}),je(Wg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ke(cp,"parseLink",D0,[H("link")]),Ke(jg,"assertion",function(i){return new pE(i)},[Fr("phone")]),function(){if(typeof Z<"u"&&Z.INTERNAL&&Z.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:up,VERIFY_AND_CHANGE_EMAIL:Ia,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Pn,AuthCredential:ko,Error:I};Ke(i,"EmailAuthProvider",En,[]),Ke(i,"FacebookAuthProvider",Ii,[]),Ke(i,"GithubAuthProvider",Si,[]),Ke(i,"GoogleAuthProvider",Ai,[]),Ke(i,"TwitterAuthProvider",No,[]),Ke(i,"OAuthProvider",on,[H("providerId")]),Ke(i,"SAMLAuthProvider",H0,[H("providerId")]),Ke(i,"PhoneAuthProvider",dr,[wN()]),Ke(i,"RecaptchaVerifier",Wg,[We(H(),_N(),"recaptchaContainer"),Ze("recaptchaParameters",!0),bN()]),Ke(i,"ActionCodeURL",cp,[]),Ke(i,"PhoneMultiFactorGenerator",jg,[]),Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new Pn(s)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:L(s.getUid,s),getToken:L(s.nc,s),addAuthTokenListener:L(s.cc,s),removeAuthTokenListener:L(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Z.registerVersion("@firebase/auth","0.16.8"),Z.INTERNAL.extendNamespace({User:sn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var lF={};var vS=Ln(()=>{"use strict";mS()});function hF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function RS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fh(){}function Kv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $u(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fF(t){return Object.prototype.hasOwnProperty.call(t,Vv)&&t[Vv]||(t[Vv]=++pF)}function gF(t,e,n){return t.call.apply(t.bind,arguments)}function mF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=gF:Et=mF,Et.apply(null,arguments)}function kh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,o,a){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return e.prototype[o].apply(r,u)}}function Yr(){this.s=this.s,this.o=this.o}function _F(t){e:{for(var e=lV,n=t.length,r=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function yS(t){return Array.prototype.concat.apply([],arguments)}function sy(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vh(t){return/^[\s\xa0]*$/.test(t)}function Ut(t,e){return t.indexOf(e)!=-1}function jv(t,e){return t<e?-1:t>e?1:0}function ay(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xS(t){var e={};for(var n in t)e[n]=t[n];return e}function NS(t,e){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(var a=0;a<wS.length;a++)n=wS[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function uy(t){return uy[" "](t),t}function wF(t){var e=CF;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}function LS(){var t=re.document;return t?t.documentMode:void 0}function IF(){return wF(function(){for(var t=0,e=_S(String(jh)).split("."),n=_S("9").split("."),r=Math.max(e.length,n.length),o=0;t==0&&o<r;o++){var a=e[o]||"",u=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a[0].length==0&&u[0].length==0)break;t=jv(a[1].length==0?0:parseInt(a[1],10),u[1].length==0?0:parseInt(u[1],10))||jv(a[2].length==0,u[2].length==0)||jv(a[2],u[2]),a=a[3],u=u[3]}while(t==0)}return 0<=t})}function kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function zu(t,e){if(kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PS){e:{try{uy(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zu.Z.h.call(this)}}function RF(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=o,this.key=++TF,this.ca=this.fa=!1}function Wh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Kh(t){this.src=t,this.g={},this.h=0}function Xv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=OS(r,e),a;(a=0<=o)&&Array.prototype.splice.call(r,o,1),a&&(Wh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qv(t,e,n,r){for(var o=0;o<t.length;++o){var a=t[o];if(!a.ca&&a.listener==e&&a.capture==!!n&&a.ia==r)return o}return-1}function FS(t,e,n,r,o){if(r&&r.once)return jS(t,e,n,r,o);if(Array.isArray(e)){for(var a=0;a<e.length;a++)FS(t,e[a],n,r,o);return null}return n=dy(n),t&&t[Yu]?t.N(e,n,$u(r)?!!r.capture:!!r,o):VS(t,e,n,!1,r,o)}function VS(t,e,n,r,o,a){if(!e)throw Error("Invalid event type");var u=$u(o)?!!o.capture:!!o,l=hy(t);if(l||(t[cy]=l=new Kh(t)),n=l.add(e,n,r,u,a),n.proxy)return n;if(r=OF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)AF||(o=u),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(BS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OF(){function t(n){return e.call(t.src,t.listener,n)}var e=kF;return t}function jS(t,e,n,r,o){if(Array.isArray(e)){for(var a=0;a<e.length;a++)jS(t,e[a],n,r,o);return null}return n=dy(n),t&&t[Yu]?t.O(e,n,$u(r)?!!r.capture:!!r,o):VS(t,e,n,!0,r,o)}function US(t,e,n,r,o){if(Array.isArray(e))for(var a=0;a<e.length;a++)US(t,e[a],n,r,o);else r=$u(r)?!!r.capture:!!r,n=dy(n),t&&t[Yu]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=Qv(a,n,r,o),-1<n&&(Wh(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=hy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qv(e,n,r,o)),(n=-1<t?e[t]:null)&&ly(n))}function ly(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Yu])Xv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hy(e))?(Xv(n,t),n.h==0&&(n.src=null,e[cy]=null)):Wh(t)}}}function BS(t){return t in zv?zv[t]:zv[t]="on"+t}function kF(t,e){if(t.ca)t=!0;else{e=new zu(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&ly(t),t=n.call(r,e)}return t}function hy(t){return t=t[cy],t instanceof Kh?t:null}function dy(t){return typeof t=="function"?t:(t[Hv]||(t[Hv]=function(e){return t.handleEvent(e)}),t[Hv])}function ft(){Yr.call(this),this.i=new Kh(this),this.P=this,this.I=null}function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new kt(e,t);else if(e instanceof kt)e.target=e.target||t;else{var o=e;e=new kt(r,t),NS(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var u=e.g=n[a];o=Ph(u,r,!0,e)&&o}if(u=e.g=t,o=Ph(u,r,!0,e)&&o,o=Ph(u,r,!1,e)&&o,n)for(a=0;a<n.length;a++)u=e.g=n[a],o=Ph(u,r,!1,e)&&o}function Ph(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==n){var l=u.listener,h=u.ia||u.src;u.fa&&Xv(t.i,u),o=l.call(h,r)!==!1&&o}}return o&&!r.defaultPrevented}function xF(){var t=zS,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}function PF(t){re.setTimeout(function(){throw t},0)}function py(t,e){Zv||LF(),Jv||(Zv(),Jv=!0),zS.add(t,e)}function LF(){var t=re.Promise.resolve(void 0);Zv=function(){t.then(FF)}}function FF(){for(var t;t=xF();){try{t.h.call(t.g)}catch(n){PF(n)}var e=qS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jv=!1}function $h(t,e){ft.call(this),this.h=t||1,this.g=e||re,this.j=Et(this.kb,this),this.l=Date.now()}function gy(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function my(t,e,n){if(typeof t=="function")n&&(t=Et(t,n));else if(t&&typeof t.handleEvent=="function")t=Et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function HS(t){t.g=my(function(){t.g=null,t.i&&(t.i=!1,HS(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}function Hu(t){Yr.call(this),this.h=t,this.g={}}function GS(t,e,n,r){Array.isArray(n)||(n&&(bS[0]=n.toString()),n=bS);for(var o=0;o<n.length;o++){var a=FS(e,n[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function WS(t){ay(t.g,function(e,n){this.g.hasOwnProperty(n)&&ly(e)},t),t.g={}}function Yh(){this.g=!0}function jF(t,e,n,r,o,a){t.info(function(){if(t.g)if(a)for(var u="",l=a.split("&"),h=0;h<l.length;h++){var p=l[h].split("=");if(1<p.length){var g=p[0];p=p[1];var y=g.split("_");u=2<=y.length&&y[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+u})}function UF(t,e,n,r,o,a,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+a+" "+u})}function ws(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qF(t,n)+(r?" "+r:"")})}function BF(t,e){t.info(function(){return"TIMEOUT: "+e})}function qF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return fy(n)}catch{return e}}function Xh(){return ES=ES||new ft}function KS(t){kt.call(this,Ji.Ma,t)}function Gu(t){var e=Xh();Ct(e,new KS(e,t))}function $S(t,e){kt.call(this,Ji.STAT_EVENT,t),this.stat=e}function qt(t){var e=Xh();Ct(e,new $S(e,t))}function YS(t,e){kt.call(this,Ji.Na,t),this.size=e}function Xu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}function vy(){}function CS(t){return t.h||(t.h=t.i())}function QS(){}function yy(){kt.call(this,"d")}function _y(){kt.call(this,"c")}function Zh(){}function Zu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Hu(this),this.P=zF,t=$v?125:void 0,this.W=new $h(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ZS}function ZS(){this.i=null,this.g="",this.h=!1}function ny(t,e,n){t.K=1,t.v=ed(Ir(e)),t.s=n,t.U=!0,JS(t,null)}function JS(t,e){t.F=Date.now(),Ju(t),t.A=Ir(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),sA(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ZS,t.g=AA(t.l,n?e:null,!t.s),0<t.O&&(t.L=new VF(Et(t.Ia,t,t.g),t.O)),GS(t.V,t.g,"readystatechange",t.gb),e=t.H?xS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Gu(1),jF(t.j,t.u,t.A,t.m,t.X,t.s)}function eA(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function tA(t,e,n){for(var r=!0,o;!t.I&&t.C<n.length;)if(o=HF(t,n),o==Uh){e==4&&(t.o=4,qt(14),r=!1),ws(t.j,t.m,null,"[Incomplete Response]");break}else if(o==ty){t.o=4,qt(15),ws(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ws(t.j,t.m,o,null),ry(t,o);eA(t)&&o!=Uh&&o!=ty&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ty(e),e.L=!0,qt(11))):(ws(t.j,t.m,n,"[Invalid Chunked Response]"),Yi(t),Bu(t))}function HF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Uh:(n=Number(e.substring(n,r)),isNaN(n)?ty:(r+=1,r+n>e.length?Uh:(e=e.substr(r,n),t.C=r+n,e)))}function Ju(t){t.Y=Date.now()+t.P,nA(t,t.P)}function nA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Xu(Et(t.eb,t),e)}function Jh(t){t.B&&(re.clearTimeout(t.B),t.B=null)}function Bu(t){t.l.G==0||t.I||EA(t.l,t)}function Yi(t){Jh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,gy(t.W),WS(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ry(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||iy(n.i,t))){if(n.I=t.N,!t.J&&iy(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Hh(n),rd(n);else break e;Dy(n),qt(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Xu(Et(n.ab,n),6e3));if(1>=cA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Xi(n,11)}else if((t.J||n.g==t)&&Hh(n),!Vh(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var a=o[e];if(n.U=a[0],a=a[1],n.G==2)if(a[0]=="c"){n.J=a[1],n.la=a[2];var u=a[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=a[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var h=a[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=t.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var y=r.i;!y.g&&(Ut(g,"spdy")||Ut(g,"quic")||Ut(g,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(Ey(y,y.h),y.h=null))}if(r.D){var _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Fe(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var b=t;if(r.oa=SA(r,r.H?r.la:null,r.W),b.J){lA(r.i,b);var E=b,C=r.K;C&&E.setTimeout(C),E.B&&(Jh(E),Ju(E)),r.g=b}else wA(r);0<n.l.length&&id(n)}else a[0]!="stop"&&a[0]!="close"||Xi(n,7);else n.G==3&&(a[0]=="stop"||a[0]=="close"?a[0]=="stop"?Xi(n,7):Ay(n):a[0]!="noop"&&n.j&&n.j.wa(a),n.A=0)}}Gu(4)}catch{}}function GF(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Kv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function wy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Kv(t)||typeof t=="string")kS(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Kv(t)||typeof t=="string"){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,t)n[r++]=o;r=GF(t),o=r.length;for(var a=0;a<o;a++)e.call(void 0,r[a],n&&n[a],t)}}function Es(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Es)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function by(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Qi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)r=t.g[e],Qi(o,r)||(t.g[n++]=r,o[r]=1),e++;t.g.length=n}}function Qi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function WF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var a=t[n].substring(0,r);o=t[n].substring(r+1)}else a=t[n];e(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Zi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Zi){this.g=e!==void 0?e:t.g,Bh(this,t.j),this.s=t.s,qh(this,t.i),zh(this,t.m),this.l=t.l,e=t.h;var n=new Wu;n.i=e.i,e.g&&(n.g=new Es(e.g),n.h=e.h),IS(this,n),this.o=t.o}else t&&(n=String(t).match(rA))?(this.g=!!e,Bh(this,n[1]||"",!0),this.s=qu(n[2]||""),qh(this,n[3]||"",!0),zh(this,n[4]),this.l=qu(n[5]||"",!0),IS(this,n[6]||"",!0),this.o=qu(n[7]||"")):(this.g=!!e,this.h=new Wu(null,this.g))}function Ir(t){return new Zi(t)}function Bh(t,e,n){t.j=n?qu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qh(t,e,n){t.i=n?qu(e,!0):e}function zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function IS(t,e,n){e instanceof Wu?(t.h=e,eV(t.h,t.g)):(n||(e=Uu(e,ZF)),t.h=new Wu(e,t.g))}function Fe(t,e,n){t.h.set(e,n)}function ed(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function KF(t){return t instanceof Zi?Ir(t):new Zi(t,void 0)}function $F(t,e,n,r){var o=new Zi(null,void 0);return t&&Bh(o,t),e&&qh(o,e),n&&zh(o,n),r&&(o.l=r),o}function qu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}function Wu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xr(t){t.g||(t.g=new Es,t.h=0,t.i&&WF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function iA(t,e){Xr(t),e=Cs(t,e),Qi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Qi(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&by(t)))}function oA(t,e){return Xr(t),e=Cs(t,e),Qi(t.g.h,e)}function sA(t,e,n){iA(t,e),0<n.length&&(t.i=null,t.g.set(Cs(t,e),sy(n)),t.h+=n.length)}function Cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eV(t,e){e&&!t.j&&(Xr(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(iA(this,r),sA(this,o,n))},t)),t.j=e}function aA(t){this.l=t||nV,re.PerformanceNavigationTiming?(t=re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(re.g&&re.g.Ea&&re.g.Ea()&&re.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cA(t){return t.h?1:t.g?t.g.size:0}function iy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ey(t,e){t.g?t.g.add(e):t.h=e}function lA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function hA(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var o=RS(t.g.values()),a=o.next();!a.done;a=o.next()){var u=a.value;r=r.concat(u.D)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return sy(t.i)}function Cy(){}function rV(){this.g=new Cy}function iV(t,e,n){var r=n||"";try{wy(t,function(o,a){var u=o;$u(o)&&(u=fy(o)),e.push(r+a+"="+encodeURIComponent(u))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function oV(t,e){var n=new Yh;if(re.Image){var r=new Image;r.onload=kh(Lh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(Lh,n,r,"TestLoadImage: error",!1,e),r.onabort=kh(Lh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(Lh,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Lh(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function ec(t){this.l=t.$b||null,this.j=t.ib||!1}function td(t,e){ft.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function dA(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function tc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ku(t)}function Ku(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Je(t){ft.call(this),this.headers=new Es,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fA,this.K=this.L=!1}function cV(t){return bs&&IF()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function lV(t){return t.toLowerCase()=="content-type"}function AS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pA(t),nd(t)}function pA(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}function gA(t){if(t.h&&typeof oy<"u"&&(!t.C[1]||Cr(t)!=4||t.ba()!=2)){if(t.v&&Cr(t)==4)my(t.Fa,0,t);else if(Ct(t,"readystatechange"),Cr(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=e===0){var a=String(t.H).match(rA)[1]||null;if(!a&&re.self&&re.self.location){var u=re.self.location.protocol;a=u.substr(0,u.length-1)}o=!aV.test(a?a.toLowerCase():"")}r=o}if(r)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var l=2<Cr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",pA(t)}}finally{nd(t)}}}}function nd(t,e){if(t.g){mA(t);var n=t.g,r=t.C[0]?Fh:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function mA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function Cr(t){return t.g?t.g.readyState:0}function DS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case fA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hV(t){var e="";return ay(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Sy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Fe(t,e,n))}function ju(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vA(t){this.za=0,this.l=[],this.h=new Yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ju("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ju("baseRetryDelayMs",5e3,t),this.$a=ju("retryDelaySeedMs",1e4,t),this.Ya=ju("forwardChannelMaxRetries",2,t),this.ra=ju("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new aA(t&&t.concurrentRequestLimit),this.Ca=new rV,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}function Ay(t){if(yA(t),t.G==3){var e=t.V++,n=Ir(t.F);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),nc(t,n),e=new Zu(t,t.h,e,void 0),e.K=2,e.v=ed(Ir(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&(new Image().src=e.v,n=!0),n||(e.g=AA(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ju(e)}IA(t)}function rd(t){t.g&&(Ty(t),t.g.cancel(),t.g=null)}function yA(t){rd(t),t.u&&(re.clearTimeout(t.u),t.u=null),Hh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&re.clearTimeout(t.m),t.m=null)}function Gv(t,e){t.l.push(new tV(t.Za++,e)),t.G==3&&id(t)}function id(t){uA(t.i)||t.m||(t.m=!0,py(t.Ha,t),t.C=0)}function dV(t,e){return cA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Xu(Et(t.Ha,t,e),CA(t,t.C)),t.C++,!0)}function TS(t,e){var n;e?n=e.m:n=t.V++;var r=Ir(t.F);Fe(r,"SID",t.J),Fe(r,"RID",n),Fe(r,"AID",t.U),nc(t,r),t.o&&t.s&&Sy(r,t.o,t.s),n=new Zu(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=_A(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ey(t.i,n),ny(n,r,e)}function nc(t,e){t.j&&wy({},function(n,r){Fe(e,r,n)})}function _A(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Et(t.j.Oa,t.j,t):null;e:for(var o=t.l,a=-1;;){var u=["count="+n];a==-1?0<n?(a=o[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);for(var l=!0,h=0;h<n;h++){var p=o[h].h,g=o[h].g;if(p-=a,0>p)a=Math.max(0,o[h].h-100),l=!1;else try{iV(g,u,"req"+p+"_")}catch{r&&r(g)}}if(l){r=u.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function wA(t){t.g||t.u||(t.Y=1,py(t.Ga,t),t.A=0)}function Dy(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Xu(Et(t.Ga,t),CA(t,t.A)),t.A++,!0)}function Ty(t){t.B!=null&&(re.clearTimeout(t.B),t.B=null)}function bA(t){t.g=new Zu(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Ir(t.oa);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.N?"0":"1"),Fe(e,"AID",t.U),nc(t,e),Fe(e,"TYPE","xmlhttp"),t.o&&t.s&&Sy(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ed(Ir(e)),n.s=null,n.U=!0,JS(n,t)}function Hh(t){t.v!=null&&(re.clearTimeout(t.v),t.v=null)}function EA(t,e){var n=null;if(t.g==e){Hh(t),Ty(t),t.g=null;var r=2}else if(iy(t.i,e))n=e.D,lA(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;r=Xh(),Ct(r,new YS(r,n,e,o)),id(t)}else wA(t);else if(o=e.o,o==3||o==0&&0<t.I||!(r==1&&dV(t,e)||r==2&&Dy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Xi(t,5);break;case 4:Xi(t,10);break;case 3:Xi(t,6);break;default:Xi(t,2)}}}function CA(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Xi(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Et(t.jb,t);n||(n=new Zi("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||Bh(n,"https"),ed(n)),oV(n.toString(),r)}else qt(2);t.G=0,t.j&&t.j.va(e),IA(t),yA(t)}function IA(t){t.G=0,t.I=-1,t.j&&((hA(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,sy(t.l),t.l.length=0),t.j.ua())}function SA(t,e,n){var r=KF(n);if(r.i!="")e&&qh(r,e+"."+r.i),zh(r,r.m);else{var o=re.location;r=$F(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&ay(t.aa,function(a,u){Fe(r,u,a)}),e=t.D,n=t.sa,e&&n&&Fe(r,e,n),Fe(r,"VER",t.ma),nc(t,r),r}function AA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Je(new ec({ib:!0})):new Je(t.qa),e.L=t.H,e}function DA(){}function Gh(){if(bs&&!(10<=Number(SF)))throw Error("Environmental error: no available transport.")}function fn(t,e){ft.call(this),this.g=new vA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Is(this)}function TA(t){yy.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}function RA(){_y.call(this),this.status=1}function Is(t){this.g=t}var Wv,dF,z,oy,re,Vv,pF,vF,yF,OS,kS,_S,Bt,Uv,Bv,wS,bF,bs,MS,$v,PS,EF,jh,xh,Nh,Mh,CF,Yv,qv,SF,AF,DF,Yu,TF,cy,zv,Hv,fy,NF,qS,MF,Zv,Jv,zS,VF,bS,Ji,ES,Qh,XS,Qu,ey,zF,ty,Uh,rA,SS,XF,QF,ZF,JF,tV,nV,Iy,sV,fA,aV,uV,OA,kA,od,xA,NA,Ry,MA,rc,PA,Oy=Ln(()=>{"use strict";Wv=function(t,e){return Wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Wv(t,e)};dF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oy=oy||{},re=dF||self;Vv="closure_uid_"+(1e9*Math.random()>>>0),pF=0;vF=0,yF={};Yr.prototype.s=!1;Yr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),vF!=0)){var t=fF(this);delete yF[t]}};Yr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};OS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},kS=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=typeof t=="string"?t.split(""):t,a=0;a<r;a++)a in o&&e.call(n,o[a],a,t)};_S=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};e:{if(Uv=re.navigator,Uv&&(Bv=Uv.userAgent,Bv)){Bt=Bv;break e}Bt=""}wS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");uy[" "]=Fh;bF=Ut(Bt,"Opera"),bs=Ut(Bt,"Trident")||Ut(Bt,"MSIE"),MS=Ut(Bt,"Edge"),$v=MS||bs,PS=Ut(Bt,"Gecko")&&!(Ut(Bt.toLowerCase(),"webkit")&&!Ut(Bt,"Edge"))&&!(Ut(Bt,"Trident")||Ut(Bt,"MSIE"))&&!Ut(Bt,"Edge"),EF=Ut(Bt.toLowerCase(),"webkit")&&!Ut(Bt,"Edge");e:{if(xh="",Nh=function(){var t=Bt;if(PS)return/rv:([^\);]+)(\)|;)/.exec(t);if(MS)return/Edge\/([\d\.]+)/.exec(t);if(bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(EF)return/WebKit\/(\S+)/.exec(t);if(bF)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Nh&&(xh=Nh?Nh[1]:""),bs&&(Mh=LS(),Mh!=null&&Mh>parseFloat(xh))){jh=String(Mh);break e}jh=xh}CF={};re.document&&bs?(qv=LS(),Yv=qv||parseInt(jh,10)||void 0):Yv=void 0;SF=Yv,AF=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",Fh,e),re.removeEventListener("test",Fh,e)}catch{}return t}();kt.prototype.h=function(){this.defaultPrevented=!0};It(zu,kt);DF={2:"touch",3:"pen",4:"mouse"};zu.prototype.h=function(){zu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};Yu="closure_listenable_"+(1e6*Math.random()|0),TF=0;Kh.prototype.add=function(t,e,n,r,o){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var u=Qv(t,e,r,o);return-1<u?(e=t[u],n||(e.fa=!1)):(e=new RF(e,this.src,a,!!r,o),e.fa=n,t.push(e)),e};cy="closure_lm_"+(1e6*Math.random()|0),zv={};Hv="__closure_events_fn_"+(1e9*Math.random()>>>0);It(ft,Yr);ft.prototype[Yu]=!0;ft.prototype.removeEventListener=function(t,e,n,r){US(this,t,e,n,r)};ft.prototype.M=function(){if(ft.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wh(n[r]);delete t.g[e],t.h--}}this.I=null};ft.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};fy=re.JSON.stringify;NF=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=qS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),qS=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new MF},function(t){return t.reset()}),MF=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();Jv=!1,zS=new NF;It($h,ft);z=$h.prototype;z.da=!1;z.S=null;z.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ct(this,"tick"),this.da&&(gy(this),this.start()))}};z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};z.M=function(){$h.Z.M.call(this),gy(this),delete this.g};VF=function(t){hF(e,t);function e(n,r){var o=t.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:HS(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Yr);It(Hu,Yr);bS=[];Hu.prototype.M=function(){Hu.Z.M.call(this),WS(this)};Hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};Yh.prototype.Aa=function(){this.g=!1};Yh.prototype.info=function(){};Ji={},ES=null;Ji.Ma="serverreachability";It(KS,kt);Ji.STAT_EVENT="statevent";It($S,kt);Ji.Na="timingevent";It(YS,kt);Qh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},XS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};vy.prototype.h=null;Qu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};It(yy,kt);It(_y,kt);It(Zh,vy);Zh.prototype.g=function(){return new XMLHttpRequest};Zh.prototype.i=function(){return{}};ey=new Zh;zF=45e3,ty={},Uh={};z=Zu.prototype;z.setTimeout=function(t){this.P=t};z.gb=function(t){t=t.target;var e=this.L;e&&Cr(t)==3?e.l():this.Ia(t)};z.Ia=function(t){try{if(t==this.g)e:{var e=Cr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||$v||this.g&&(this.h.h||this.g.ga()||DS(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?Gu(3):Gu(2)),Jh(this);var o=this.g.ba();this.N=o;t:if(eA(this)){var a=DS(this.g);t="";var u=a.length,l=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),Bu(this);var h="";break t}this.h.i=new re.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,t+=this.h.i.decode(a[n],{stream:l&&n==u-1});a.splice(0,u),this.h.g+=t,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=o==200,UF(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vh(p)){var y=p;break t}}y=null}if(o=y)ws(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ry(this,o);else{this.i=!1,this.o=3,qt(12),Yi(this),Bu(this);break e}}this.U?(tA(this,e,h),$v&&this.i&&e==3&&(GS(this.V,this.W,"tick",this.fb),this.W.start())):(ws(this.j,this.m,h,null),ry(this,h)),e==4&&Yi(this),this.i&&!this.I&&(e==4?EA(this.l,this):(this.i=!1,Ju(this)))}else o==400&&0<h.indexOf("Unknown SID")?(this.o=3,qt(12)):(this.o=0,qt(13)),Yi(this),Bu(this)}}}catch{}finally{}};z.fb=function(){if(this.g){var t=Cr(this.g),e=this.g.ga();this.C<e.length&&(Jh(this),tA(this,t,e),this.i&&t!=4&&Ju(this))}};z.cancel=function(){this.I=!0,Yi(this)};z.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(BF(this.j,this.A),this.K!=2&&(Gu(3),qt(17)),Yi(this),this.o=2,Bu(this)):nA(this,this.Y-t)};z=Es.prototype;z.R=function(){by(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};z.T=function(){return by(this),this.g.concat()};z.get=function(t,e){return Qi(this.h,t)?this.h[t]:e};z.set=function(t,e){Qi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};z.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],a=this.get(o);t.call(e,a,o,this)}};rA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Zi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uu(e,SS,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uu(e,SS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Uu(n,n.charAt(0)=="/"?QF:XF,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uu(n,JF)),t.join("")};SS=/[#\/\?@]/g,XF=/[#\?:]/g,QF=/[#\?]/g,ZF=/[#\?@]/g,JF=/#/g;z=Wu.prototype;z.add=function(t,e){Xr(this),this.i=null,t=Cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};z.forEach=function(t,e){Xr(this),this.g.forEach(function(n,r){kS(n,function(o){t.call(e,o,r,this)},this)},this)};z.T=function(){Xr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var o=t[r],a=0;a<o.length;a++)n.push(e[r]);return n};z.R=function(t){Xr(this);var e=[];if(typeof t=="string")oA(this,t)&&(e=yS(e,this.g.get(Cs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=yS(e,t[n])}return e};z.set=function(t,e){return Xr(this),this.i=null,t=Cs(this,t),oA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=o;r[a]!==""&&(u+="="+encodeURIComponent(String(r[a]))),t.push(u)}}return this.i=t.join("&")};tV=function(){function t(e,n){this.h=e,this.g=n}return t}();nV=10;aA.prototype.cancel=function(){var t,e;if(this.i=hA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=RS(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};Cy.prototype.stringify=function(t){return re.JSON.stringify(t,void 0)};Cy.prototype.parse=function(t){return re.JSON.parse(t,void 0)};It(ec,vy);ec.prototype.g=function(){return new td(this.l,this.j)};ec.prototype.i=function(t){return function(){return t}}({});It(td,ft);Iy=0;z=td.prototype;z.open=function(t,e){if(this.readyState!=Iy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ku(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=Iy};z.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ku(this)),this.g&&(this.readyState=3,Ku(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dA(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};z.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tc(this):Ku(this),this.readyState==3&&dA(this)}};z.Ua=function(t){this.g&&(this.response=this.responseText=t,tc(this))};z.Ta=function(t){this.g&&(this.response=t,tc(this))};z.ha=function(){this.g&&tc(this)};z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};Object.defineProperty(td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});sV=re.JSON.parse;It(Je,ft);fA="",aV=/^https?$/i,uV=["POST","PUT"];z=Je.prototype;z.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ey.g(),this.C=this.u?CS(this.u):CS(ey),this.g.onreadystatechange=Et(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){AS(this,a);return}t=n||"";var o=new Es(this.headers);r&&wy(r,function(a,u){o.set(u,a)}),r=_F(o.T()),n=re.FormData&&t instanceof re.FormData,!(0<=OS(uV,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mA(this),0<this.B&&((this.K=cV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.pa,this)):this.A=my(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){AS(this,a)}};z.pa=function(){typeof oy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))};z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),nd(this))};z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),Je.Z.M.call(this)};z.Fa=function(){this.s||(this.F||this.v||this.l?gA(this):this.cb())};z.cb=function(){gA(this)};z.ba=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}};z.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sV(e)}};z.Da=function(){return this.m};z.La=function(){return typeof this.j=="string"?this.j:String(this.j)};z=vA.prototype;z.ma=8;z.G=1;z.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};z.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Zu(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=xS(n),NS(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var a=this.l[o];if("__data__"in a.g&&(a=a.g.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(r+=a,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=_A(this,e,r),o=Ir(this.F),Fe(o,"RID",t),Fe(o,"CVER",22),this.D&&Fe(o,"X-HTTP-Session-Id",this.D),nc(this,o),this.o&&n&&Sy(o,this.o,n),Ey(this.i,e),this.Ra&&Fe(o,"TYPE","init"),this.ja?(Fe(o,"$req",r),Fe(o,"SID","null"),e.$=!0,ny(e,o,null)):ny(e,o,r),this.G=2}}else this.G==3&&(t?TS(this,t):this.l.length==0||uA(this.i)||TS(this))};z.Ga=function(){if(this.u=null,bA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Xu(Et(this.bb,this),t)}};z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qt(10),rd(this),bA(this))};z.ab=function(){this.v!=null&&(this.v=null,rd(this),Dy(this),qt(19))};z.jb=function(t){t?(this.h.info("Successfully pinged google.com"),qt(2)):(this.h.info("Failed to ping google.com"),qt(1))};z=DA.prototype;z.xa=function(){};z.wa=function(){};z.va=function(){};z.ua=function(){};z.Oa=function(){};Gh.prototype.g=function(t,e){return new fn(t,e)};It(fn,ft);fn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),py(Et(t.hb,t,e))),qt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=SA(t,null,t.W),id(t)};fn.prototype.close=function(){Ay(this.g)};fn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Gv(this.g,e)}else this.v?(e={},e.__data__=fy(t),Gv(this.g,e)):Gv(this.g,t)};fn.prototype.M=function(){this.g.j=null,delete this.j,Ay(this.g),delete this.g,fn.Z.M.call(this)};It(TA,yy);It(RA,_y);It(Is,DA);Is.prototype.xa=function(){Ct(this.g,"a")};Is.prototype.wa=function(t){Ct(this.g,new TA(t))};Is.prototype.va=function(t){Ct(this.g,new RA(t))};Is.prototype.ua=function(){Ct(this.g,"b")};Gh.prototype.createWebChannel=Gh.prototype.g;fn.prototype.send=fn.prototype.u;fn.prototype.open=fn.prototype.m;fn.prototype.close=fn.prototype.close;Qh.NO_ERROR=0;Qh.TIMEOUT=8;Qh.HTTP_ERROR=6;XS.COMPLETE="complete";QS.EventType=Qu;Qu.OPEN="a";Qu.CLOSE="b";Qu.ERROR="c";Qu.MESSAGE="d";ft.prototype.listen=ft.prototype.N;Je.prototype.listenOnce=Je.prototype.O;Je.prototype.getLastError=Je.prototype.La;Je.prototype.getLastErrorCode=Je.prototype.Da;Je.prototype.getStatus=Je.prototype.ba;Je.prototype.getResponseJson=Je.prototype.Qa;Je.prototype.getResponseText=Je.prototype.ga;Je.prototype.send=Je.prototype.ea;OA=function(){return new Gh},kA=function(){return Xh()},od=Qh,xA=XS,NA=Ji,Ry={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},MA=ec,rc=QS,PA=Je});function Py(){return qn.logLevel}function P(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qn.logLevel<=ve.DEBUG){var r=e.map(Yy);qn.debug.apply(qn,Pe(["Firestore (8.10.1): "+t],r))}}function nt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qn.logLevel<=ve.ERROR){var r=e.map(Yy);qn.error.apply(qn,Pe(["Firestore (8.10.1): "+t],r))}}function md(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qn.logLevel<=ve.WARN){var r=e.map(Yy);qn.warn.apply(qn,Pe(["Firestore (8.10.1): "+t],r))}}function Yy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}function W(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw nt(e),new Error(e)}function J(t,e){t||W()}function j(t,e){return t}function fV(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function fe(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every(function(r,o){return n(r,e[o])})}function GD(t){return t+"\0"}function LA(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WD(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ai(t){if(J(!!t),typeof t=="string"){var e=0,n=gV.exec(t);if(J(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ns(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}function Xy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $D(t){var e=t.mapValue.fields.__previous_value__;return Xy(e)?$D(e):e}function cc(t){var e=ai(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}function lo(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function YD(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:10:W()}function ur(t,e){var n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var a=ai(r.timestampValue),u=ai(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Ns(r.bytesValue).isEqual(Ns(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return tt(r.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return tt(r.integerValue)===tt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var a=tt(r.doubleValue),u=tt(o.doubleValue);return a===u?vd(a)===vd(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:return function(r,o){var a=r.mapValue.fields||{},u=o.mapValue.fields||{};if(LA(a)!==LA(u))return!1;for(var l in a)if(a.hasOwnProperty(l)&&(u[l]===void 0||!ur(a[l],u[l])))return!1;return!0}(t,e);default:return W()}}function lc(t,e){return(t.values||[]).find(function(n){return ur(n,e)})!==void 0}function Ms(t,e){var n=oo(t),r=oo(e);if(n!==r)return fe(n,r);switch(n){case 0:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,a){var u=tt(o.integerValue||o.doubleValue),l=tt(a.integerValue||a.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return FA(t.timestampValue,e.timestampValue);case 4:return FA(cc(t),cc(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(o,a){var u=Ns(o),l=Ns(a);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){for(var u=o.split("/"),l=a.split("/"),h=0;h<u.length&&h<l.length;h++){var p=fe(u[h],l[h]);if(p!==0)return p}return fe(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){var u=fe(tt(o.latitude),tt(a.latitude));return u!==0?u:fe(tt(o.longitude),tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){for(var u=o.values||[],l=a.values||[],h=0;h<u.length&&h<l.length;++h){var p=Ms(u[h],l[h]);if(p)return p}return fe(u.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){var u=o.fields||{},l=Object.keys(u),h=a.fields||{},p=Object.keys(h);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var y=fe(l[g],p[g]);if(y!==0)return y;var _=Ms(u[l[g]],h[p[g]]);if(_!==0)return _}return fe(l.length,p.length)}(t.mapValue,e.mapValue);default:throw W()}}function FA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);var n=ai(t),r=ai(e),o=fe(n.seconds,r.seconds);return o!==0?o:fe(n.nanos,r.nanos)}function Qy(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var o=ai(r);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ns(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,K.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var o="[",a=!0,u=0,l=r.values||[];u<l.length;u++)a?a=!1:o+=",",o+=Ly(l[u]);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var o="{",a=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var h=l[u];a?a=!1:o+=",",o+=h+":"+Ly(r.fields[h])}return o+"}"}(t.mapValue):W();var e,n}function yd(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Fy(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function jA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return co(t.mapValue.fields,function(o,a){return e.mapValue.fields[o]=sc(a)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=sc(t.arrayValue.values[r]);return n}return Object.assign({},t)}function XD(t){var e=[];return co(t.fields,function(n,r){var o=new Hn([n]);if(ld(r)){var a=XD(r.mapValue).fields;if(a.length===0)e.push(o);else for(var u=0,l=a;u<l.length;u++){var h=l[u];e.push(o.child(h))}}else e.push(o)}),new xs(e)}function UA(t,e,n,r,o,a,u){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),a===void 0&&(a=null),u===void 0&&(u=null),new mV(t,e,n,r,o,a,u)}function _c(t){var e=j(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+Qy(o.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),lo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wd(e.startAt)),e.endAt&&(n+="|ub:",n+=wd(e.endAt)),e.h=n}return e.h}function xd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!IV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(o=t.filters[r],a=e.filters[r],o.op!==a.op||!o.field.isEqual(a.field)||!ur(o.value,a.value))return!1;var o,a;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qA(t.startAt,e.startAt)&&qA(t.endAt,e.endAt)}function _d(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function QD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return K.fromName(r.referenceValue)})}function wd(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Qy(e)}).join(",")}function IV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function BA(t,e,n){for(var r=0,o=0;o<t.position.length;o++){var a=e[o],u=t.position[o];if(r=a.field.isKeyField()?K.comparator(K.fromName(u.referenceValue),n.key):Ms(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function qA(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}function ZD(t,e,n,r,o,a,u,l){return new Tr(t,e,n,r,o,a,u,l)}function Xs(t){return new Tr(t)}function hd(t){return!lo(t.limit)&&t.limitType==="F"}function bd(t){return!lo(t.limit)&&t.limitType==="L"}function Jy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function e_(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function t_(t){return t.collectionGroup!==null}function Ps(t){var e=j(t);if(e.p===null){e.p=[];var n=e_(e),r=Jy(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new Os(n)),e.p.push(new Os(Hn.keyField(),"asc"));else{for(var o=!1,a=0,u=e.explicitOrderBy;a<u.length;a++){var l=u[a];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Os(Hn.keyField(),h))}}}return e.p}function Tn(t){var e=j(t);if(!e.T)if(e.limitType==="F")e.T=UA(e.path,e.collectionGroup,Ps(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,o=Ps(e);r<o.length;r++){var a=o[r],u=a.dir==="desc"?"asc":"desc";n.push(new Os(a.field,u))}var l=e.endAt?new hc(e.endAt.position,!e.endAt.before):null,h=e.startAt?new hc(e.startAt.position,!e.startAt.before):null;e.T=UA(e.path,e.collectionGroup,n,e.filters,e.limit,l,h)}return e.T}function JD(t,e,n){return new Tr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wc(t,e){return xd(Tn(t),Tn(e))&&t.limitType===e.limitType}function eT(t){return _c(Tn(t))+"|lt:"+t.limitType}function Vy(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+Qy(o.value);var o}).join(", ")+"]"),lo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+wd(e.startAt)),e.endAt&&(n+=", endAt: "+wd(e.endAt)),"Target("+n+")"}(Tn(t))+"; limitType="+t.limitType+")"}function bc(t,e){return e.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):K.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(var o=0,a=n.explicitOrderBy;o<a.length;o++){var u=a[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var o=0,a=n.filters;o<a.length;o++)if(!a[o].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!BA(n.startAt,Ps(n),r))&&(!n.endAt||!BA(n.endAt,Ps(n),r))}(t,e)}function tT(t){return function(e,n){for(var r=!1,o=0,a=Ps(t);o<a.length;o++){var u=a[o],l=SV(u,e,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function SV(t,e,n){var r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,a,u){var l=a.data.field(o),h=u.data.field(o);return l!==null&&h!==null?Ms(l,h):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}function nT(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function rT(t){return{integerValue:""+t}}function iT(t,e){return YD(e)?rT(e):nT(t,e)}function AV(t,e,n){return t instanceof Ls?function(r,o){var a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof so?sT(t,e):t instanceof ao?aT(t,e):function(r,o){var a=oT(r,o),u=zA(a)+zA(r.A);return Fy(a)&&Fy(r.A)?rT(u):nT(r.R,u)}(t,e)}function DV(t,e,n){return t instanceof so?sT(t,e):t instanceof ao?aT(t,e):n}function oT(t,e){return t instanceof Fs?Fy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}function sT(t,e){for(var n=uT(e),r=function(u){n.some(function(l){return ur(l,u)})||n.push(u)},o=0,a=t.elements;o<a.length;o++)r(a[o]);return{arrayValue:{values:n}}}function aT(t,e){for(var n=uT(e),r=function(u){n=n.filter(function(l){return!ur(l,u)})},o=0,a=t.elements;o<a.length;o++)r(a[o]);return{arrayValue:{values:n}}}function zA(t){return tt(t.integerValue||t.doubleValue)}function uT(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}function RV(t,e,n){t instanceof Cc?function(r,o,a){var u=r.value.clone(),l=WA(r.fieldTransforms,o,a.transformResults);u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(r,o,a){if(dd(r.precondition,o)){var u=WA(r.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(cT(r)),l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(a.version)}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function jy(t,e,n){t instanceof Cc?function(r,o,a){if(dd(r.precondition,o)){var u=r.value.clone(),l=KA(r.fieldTransforms,a,o);u.setAll(l),o.convertToFoundDocument(GA(o),u).setHasLocalMutations()}}(t,e,n):t instanceof ci?function(r,o,a){if(dd(r.precondition,o)){var u=KA(r.fieldTransforms,a,o),l=o.data;l.setAll(cT(r)),l.setAll(u),o.convertToFoundDocument(GA(o),l).setHasLocalMutations()}}(t,e,n):function(r,o){dd(r.precondition,o)&&o.convertToNoDocument(ue.min())}(t,e)}function OV(t,e){for(var n=null,r=0,o=t.fieldTransforms;r<o.length;r++){var a=o[r],u=e.data.field(a.field),l=oT(a.transform,u||null);l!=null&&(n==null&&(n=mn.empty()),n.set(a.field,l))}return n||null}function HA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ks(n,r,function(o,a){return function(u,l){return u.field.isEqual(l.field)&&function(h,p){return h instanceof so&&p instanceof so||h instanceof ao&&p instanceof ao?ks(h.elements,p.elements,ur):h instanceof Fs&&p instanceof Fs?ur(h.A,p.A):h instanceof Ls&&p instanceof Ls}(u.transform,l.transform)}(o,a)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function GA(t){return t.isFoundDocument()?t.version:ue.min()}function cT(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function WA(t,e,n){var r=new Map;J(t.length===n.length);for(var o=0;o<n.length;o++){var a=t[o],u=a.transform,l=e.data.field(a.field);r.set(a.field,DV(u,l,n[o]))}return r}function KA(t,e,n){for(var r=new Map,o=0,a=t;o<a.length;o++){var u=a[o],l=u.transform,h=n.data.field(u.field);r.set(u.field,AV(l,h,e))}return r}function lT(t){switch(t){case S.OK:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return W()}}function hT(t){if(t===void 0)return nt("GRPC error has no .code"),S.UNKNOWN;switch(t){case et.OK:return S.OK;case et.CANCELLED:return S.CANCELLED;case et.UNKNOWN:return S.UNKNOWN;case et.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case et.INTERNAL:return S.INTERNAL;case et.UNAVAILABLE:return S.UNAVAILABLE;case et.UNAUTHENTICATED:return S.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case et.NOT_FOUND:return S.NOT_FOUND;case et.ALREADY_EXISTS:return S.ALREADY_EXISTS;case et.PERMISSION_DENIED:return S.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case et.ABORTED:return S.ABORTED;case et.OUT_OF_RANGE:return S.OUT_OF_RANGE;case et.UNIMPLEMENTED:return S.UNIMPLEMENTED;case et.DATA_LOSS:return S.DATA_LOSS;default:return W()}}function Dn(){return xV}function Uy(){return NV}function dT(){return MV}function Se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=PV,r=0,o=t;r<o.length;r++){var a=o[r];n=n.add(a)}return n}function Pd(){return LV}function XA(){return new Lt(K.comparator)}function QA(){return new Lt(K.comparator)}function dc(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(t,e){return t.I?e.toBase64():e.toUint8Array()}function BV(t,e){return dc(t,e.toTimestamp())}function At(t){return J(!!t),ue.fromTimestamp(function(e){var n=ai(e);return new Ht(n.seconds,n.nanos)}(t))}function o_(t,e){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mT(t){var e=ye.fromString(t);return J(IT(e)),e}function fc(t,e){return o_(t.databaseId,e.path)}function sr(t,e){var n=mT(e);if(n.get(1)!==t.databaseId.projectId)throw new x(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(yT(n))}function By(t,e){return o_(t.databaseId,e)}function vT(t){var e=mT(t);return e.length===4?ye.emptyPath():yT(e)}function pc(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yT(t){return J(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZA(t,e,n){return{name:fc(t,e),fields:n.value.mapValue.fields}}function _T(t,e,n){var r=sr(t,e.name),o=At(e.updateTime),a=new mn({mapValue:{fields:e.fields}}),u=Tt.newFoundDocument(r,o,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Ed(t,e){var n;if(e instanceof Cc)n={update:ZA(t,e.key,e.value)};else if(e instanceof Ic)n={delete:fc(t,e.key)};else if(e instanceof ci)n={update:ZA(t,e.key,e.data),updateMask:WV(e.fieldMask)};else{if(!(e instanceof n_))return W();n={verify:fc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(o,a){var u=a.transform;if(u instanceof Ls)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof so)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ao)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fs)return{fieldPath:a.field.canonicalString(),increment:u.A};throw W()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:BV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W()}(t,e.precondition)),n}function JA(t,e){var n=e.currentDocument?function(p){return p.updateTime!==void 0?Mt.updateTime(At(p.updateTime)):p.exists!==void 0?Mt.exists(p.exists):Mt.none()}(e.currentDocument):Mt.none(),r=e.updateTransforms?e.updateTransforms.map(function(p){return function(g,y){var _=null;if("setToServerValue"in y)J(y.setToServerValue==="REQUEST_TIME"),_=new Ls;else if("appendMissingElements"in y){var b=y.appendMissingElements.values||[];_=new so(b)}else if("removeAllFromArray"in y){var E=y.removeAllFromArray.values||[];_=new ao(E)}else"increment"in y?_=new Fs(g,y.increment):W();var C=Hn.fromServerFormat(y.fieldPath);return new Ec(C,_)}(t,p)}):[];if(e.update){e.update.name;var o=sr(t,e.update.name),a=new mn({mapValue:{fields:e.update.fields}});if(e.updateMask){var u=function(p){var g=p.fieldPaths||[];return new xs(g.map(function(y){return Hn.fromServerFormat(y)}))}(e.updateMask);return new ci(o,a,u,n,r)}return new Cc(o,a,n,r)}if(e.delete){var l=sr(t,e.delete);return new Ic(l,n)}if(e.verify){var h=sr(t,e.verify);return new n_(h,n)}return W()}function wT(t,e){return{documents:[By(t,e.path)]}}function bT(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=By(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=By(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var h=l.map(function(p){return function(g){if(g.op==="=="){if(jA(g.value))return{unaryFilter:{field:Ss(g.field),op:"IS_NAN"}};if(VA(g.value))return{unaryFilter:{field:Ss(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(jA(g.value))return{unaryFilter:{field:Ss(g.field),op:"IS_NOT_NAN"}};if(VA(g.value))return{unaryFilter:{field:Ss(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(g.field),op:zV(g.op),value:g.value}}}(p)});return h.length===1?h[0]:{compositeFilter:{op:"AND",filters:h}}}}(e.filters);o&&(n.structuredQuery.where=o);var a=function(l){if(l.length!==0)return l.map(function(h){return function(p){return{field:Ss(p.field),direction:qV(p.dir)}}(h)})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);var u=function(l,h){return l.I||lo(h)?h:{value:h}}(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=eD(e.startAt)),e.endAt&&(n.structuredQuery.endAt=eD(e.endAt)),n}function ET(t){var e=vT(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){J(r===1);var a=n.from[0];a.allDescendants?o=a.collectionId:e=e.child(a.collectionId)}var u=[];n.where&&(u=CT(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(y){return function(_){return new Os(Rs(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(y)}));var h=null;n.limit&&(h=function(y){var _;return lo(_=typeof y=="object"?y.value:y)?null:_}(n.limit));var p=null;n.startAt&&(p=tD(n.startAt));var g=null;return n.endAt&&(g=tD(n.endAt)),ZD(e,o,l,u,h,"F",p,g)}function CT(t){return t?t.unaryFilter!==void 0?[GV(t)]:t.fieldFilter!==void 0?[HV(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return CT(e)}).reduce(function(e,n){return e.concat(n)}):W():[]}function eD(t){return{before:t.before,values:t.position}}function tD(t){var e=!!t.before,n=t.values||[];return new hc(n,e)}function qV(t){return VV[t]}function zV(t){return jV[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function Rs(t){return Hn.fromServerFormat(t.fieldPath)}function HV(t){return yn.create(Rs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return W()}}(t.fieldFilter.op),t.fieldFilter.value)}function GV(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Rs(t.unaryFilter.field);return yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Rs(t.unaryFilter.field);return yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Rs(t.unaryFilter.field);return yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Rs(t.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return W()}}function WV(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function IT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function zn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=nD(e)),e=KV(t.get(n),e);return nD(e)}function KV(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var a=t.charAt(o);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function nD(t){return t+""}function Sr(t){var e=t.length;if(J(e>=2),e===2)return J(t.charAt(0)===""&&t.charAt(1)===""),ye.emptyPath();for(var n=e-2,r=[],o="",a=0;a<e;){var u=t.indexOf("",a);switch((u<0||u>n)&&W(),t.charAt(u+1)){case"":var l=t.substring(a,u),h=void 0;o.length===0?h=l:(h=o+=l,o=""),r.push(h);break;case"":o+=t.substring(a,u),o+="\0";break;case"":o+=t.substring(a,u+1);break;default:W()}a=u+2}return new ye(r)}function ho(t){return t.name==="IndexedDbTransactionError"}function eo(t){return new M(function(e,n){t.onsuccess=function(r){var o=r.target.result;e(o)},t.onerror=function(r){var o=s_(r.target.error);n(o)}})}function s_(t){var e=Us._t(Kr());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new x("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rD||(rD=!0,setTimeout(function(){throw r},0)),r}}return t}function en(t,e){var n=j(t);return Us.It(n.Mt,e)}function qy(t,e){if(e.document)return _T(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=K.fromSegments(e.noDocument.path),r=qs(e.noDocument.readTime),o=Tt.newNoDocument(n,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var a=K.fromSegments(e.unknownDocument.path);return r=qs(e.unknownDocument.version),Tt.newUnknownDocument(a,r)}return W()}function oD(t,e,n){var r=u_(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a=function(y,_){return{name:fc(y,_.key),fields:_.data.value.mapValue.fields,updateTime:dc(y,_.version.toTimestamp())}}(t.Lt,e),u=e.hasCommittedMutations;return new He(null,null,a,u,r,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),h=Bs(e.version);return u=e.hasCommittedMutations,new He(null,new YV(l,h),null,u,r,o)}if(e.isUnknownDocument()){var p=e.key.path.toArray(),g=Bs(e.version);return new He(new XV(p,g),null,null,!0,r,o)}return W()}function u_(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function RT(t){var e=new Ht(t[0],t[1]);return ue.fromTimestamp(e)}function Bs(t){var e=t.toTimestamp();return new $V(e.seconds,e.nanoseconds)}function qs(t){var e=new Ht(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)}function Ds(t,e){for(var n=(e.baseMutations||[]).map(function(h){return JA(t.Lt,h)}),r=0;r<e.mutations.length-1;++r){var o=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var a=e.mutations[r+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var u=e.mutations.map(function(h){return JA(t.Lt,h)}),l=Ht.fromMillis(e.localWriteTimeMs);return new a_(e.batchId,l,n,u)}function oc(t){var e,n,r=qs(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?qs(t.lastLimboFreeSnapshotVersion):ue.min();return t.query.documents!==void 0?(J((n=t.query).documents.length===1),e=Tn(Xs(vT(n.documents[0])))):e=function(a){return Tn(ET(a))}(t.query),new Ld(e,t.targetId,0,t.lastListenSequenceNumber,r,o,Gt.fromBase64String(t.resumeToken))}function OT(t,e){var n,r=Bs(e.snapshotVersion),o=Bs(e.lastLimboFreeSnapshotVersion);n=_d(e.target)?wT(t.Lt,e.target):bT(t.Lt,e.target);var a=e.resumeToken.toBase64();return new Jt(e.targetId,_c(e.target),r,a,e.sequenceNumber,o,n)}function c_(t){var e=ET({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?JD(e,e.limit,"L"):e}function sD(t){return en(t,Vs.store)}function aD(t){return en(t,js.store)}function uD(t){return en(t,ro.store)}function kT(t,e,n){var r=t.store(ke.store),o=t.store(xt.store),a=[],u=IDBKeyRange.only(n.batchId),l=0,h=r.$t({range:u},function(E,C,A){return l++,A.delete()});a.push(h.next(function(){J(l===1)}));for(var p=[],g=0,y=n.mutations;g<y.length;g++){var _=y[g],b=xt.key(e,_.key.path,n.batchId);a.push(o.delete(b)),p.push(_.key)}return M.waitFor(a).next(function(){return p})}function Cd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw W();e=t.noDocument}return JSON.stringify(e).length}function xT(t,e,n){var r=xt.prefixForPath(e,n.path),o=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return Ts(t).$t({range:a,Ft:!0},function(l,h,p){var g=l[0],y=l[1];l[2],g===e&&y===o&&(u=!0),p.done()}).next(function(){return u})}function Qr(t){return en(t,ke.store)}function Ts(t){return en(t,xt.store)}function NT(t){return en(t,ii.store)}function As(t){return en(t,Jt.store)}function lD(t){return en(t,gn.store)}function ti(t){return en(t,Dt.store)}function fo(t){return O(this,void 0,void 0,function(){return R(this,function(e){if(t.code!==S.FAILED_PRECONDITION||t.message!==ST)throw t;return P("LocalStore","Unexpectedly lost primary lease"),[2]})})}function hD(t,e){var n=t[0],r=t[1],o=e[0],a=e[1],u=fe(n,o);return u===0?fe(r,a):u}function ad(t,e){return ti(t).put(function(n,r){return new Dt(0,zn(n.path),r)}(e,t.currentSequenceNumber))}function dD(t){return en(t,or.store)}function Jr(t){return en(t,He.store)}function ud(t){return t.path.toArray()}function fD(t){t.createObjectStore(Dt.store,{keyPath:Dt.keyPath}).createIndex(Dt.documentTargetsIndex,Dt.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jt.store,{keyPath:Jt.keyPath}).createIndex(Jt.queryTargetsIndexName,Jt.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gn.store)}function ic(t){return en(t,pn.store)}function cd(t){return en(t,Ar.store)}function h_(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function FT(t,e,n,r){return new mj(t,e,n,r)}function VT(t,e){return O(this,void 0,void 0,function(){var n,r,o,a;return R(this,function(u){switch(u.label){case 0:return n=j(t),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var h;return n._n.getAllMutationBatches(l).next(function(p){return h=p,r=n.persistence.getMutationQueue(e),o=new PT(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var g=[],y=[],_=Se(),b=0,E=h;b<E.length;b++){var C=E[b];g.push(C.batchId);for(var A=0,N=C.mutations;A<N.length;A++){var q=N[A];_=_.add(q.key)}}for(var B=0,oe=p;B<oe.length;B++){var he=oe[B];y.push(he.batchId);for(var L=0,xe=he.mutations;L<xe.length;L++){var aa=xe[L];_=_.add(aa.key)}}return o.pn(l,_).next(function(ee){return{Ln:ee,removedBatchIds:g,addedBatchIds:y}})})})];case 1:return a=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),a)]}})})}function vj(t,e){var n=j(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=e.batch.keys(),a=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,h,p){var g=h.batch,y=g.keys(),_=M.resolve();return y.forEach(function(b){_=_.next(function(){return p.getEntry(l,b)}).next(function(E){var C=h.docVersions.get(b);J(C!==null),E.version.compareTo(C)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&p.addEntry(E,h.commitVersion))})}),_.next(function(){return u._n.removeMutationBatch(l,g)})}(n,r,e,a).next(function(){return a.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function jT(t){var e=j(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function yj(t,e){var n=j(t),r=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(a){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,y){var _=o.get(y);if(_){l.push(n.qe.removeMatchingKeys(a,g.removedDocuments,y).next(function(){return n.qe.addMatchingKeys(a,g.addedDocuments,y)}));var b=g.resumeToken;if(b.approximateByteSize()>0){var E=_.withResumeToken(b,r).withSequenceNumber(a.currentSequenceNumber);o=o.insert(y,E),function(C,A,N){return J(A.resumeToken.approximateByteSize()>0),C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,E,g)&&l.push(n.qe.updateTargetData(a,E))}}});var h=Dn();if(e.documentUpdates.forEach(function(g,y){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),l.push(UT(a,u,e.documentUpdates,r,void 0).next(function(g){h=g})),!r.isEqual(ue.min())){var p=n.qe.getLastRemoteSnapshotVersion(a).next(function(g){return n.qe.setTargetsMetadata(a,a.currentSequenceNumber,r)});l.push(p)}return M.waitFor(l).next(function(){return u.apply(a)}).next(function(){return n.Mn.En(a,h)}).next(function(){return h})}).then(function(a){return n.kn=o,a})}function UT(t,e,n,r,o){var a=Se();return n.forEach(function(u){return a=a.add(u)}),e.getEntries(t,a).next(function(u){var l=Dn();return n.forEach(function(h,p){var g=u.get(h),y=o?.get(h)||r;p.isNoDocument()&&p.version.isEqual(ue.min())?(e.removeEntry(h,y),l=l.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p,y),l=l.insert(h,p)):P("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),l})}function _j(t,e){var n=j(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function zs(t,e){var n=j(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,e).next(function(a){return a?(o=a,M.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new Ld(e,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Hs(t,e,n){return O(this,void 0,void 0,function(){var r,o,a,u;return R(this,function(l){switch(l.label){case 0:r=j(t),o=r.kn.get(e),a=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,function(h){return r.persistence.referenceDelegate.removeTarget(h,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ho(u=l.sent()))throw u;return P("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(o.target),[2]}})})}function Sd(t,e,n){var r=j(t),o=ue.min(),a=Se();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,h,p){var g=j(l),y=g.Fn.get(p);return y!==void 0?M.resolve(g.kn.get(y)):g.qe.getTargetData(h,p)}(r,u,Tn(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(h){a=h})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,e,n?o:ue.min(),n?a:Se())}).next(function(l){return{documents:l,Bn:a}})})}function BT(t,e){var n=j(t),r=j(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(a){return r.lt(a,e).next(function(u){return u?u.target:null})})}function qT(t){var e=j(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,a){var u=j(r),l=Dn(),h=u_(a),p=Jr(o),g=IDBKeyRange.lowerBound(h,!0);return p.$t({index:He.readTimeIndex,range:g},function(y,_){var b=qy(u.R,_);l=l.insert(b.key,b),h=_.readTime}).next(function(){return{wn:l,readTime:RT(h)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,o=n.readTime;return e.$n=o,r})}function wj(t){return O(this,void 0,void 0,function(){var e;return R(this,function(n){return[2,(e=j(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var a=Jr(o),u=ue.min();return a.$t({index:He.readTimeIndex,reverse:!0},function(l,h,p){h.readTime&&(u=RT(h.readTime)),p.done()}).next(function(){return u})}(r)}).then(function(r){e.$n=r})]})})}function bj(t,e,n,r){return O(this,void 0,void 0,function(){var o,a,u,l,h,p,g,y,_,b;return R(this,function(E){switch(E.label){case 0:for(o=j(t),a=Se(),u=Dn(),l=dT(),h=0,p=n;h<p.length;h++)g=p[h],y=e.qn(g.metadata.name),g.document&&(a=a.add(y)),u=u.insert(y,e.Un(g)),l=l.insert(y,e.Kn(g.metadata.readTime));return _=o.On.newChangeBuffer({trackRemovals:!0}),[4,zs(o,function(C){return Tn(Xs(ye.fromString("__bundle__/docs/"+C)))}(r))];case 1:return b=E.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(C){return UT(C,_,u,ue.min(),l).next(function(A){return _.apply(C),A}).next(function(A){return o.qe.removeMatchingKeysForTargetId(C,b.targetId).next(function(){return o.qe.addMatchingKeys(C,a,b.targetId)}).next(function(){return o.Mn.En(C,A)}).next(function(){return A})})})]}})})}function Ej(t,e,n){return n===void 0&&(n=Se()),O(this,void 0,void 0,function(){var r,o;return R(this,function(a){switch(a.label){case 0:return[4,zs(t,Tn(c_(e.bundledQuery)))];case 1:return r=a.sent(),[2,(o=j(t)).persistence.runTransaction("Save named query","readwrite",function(u){var l=At(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.Ke.saveNamedQuery(u,e);var h=r.withResumeToken(Gt.EMPTY_BYTE_STRING,l);return o.kn=o.kn.insert(h.targetId,h),o.qe.updateTargetData(u,h).next(function(){return o.qe.removeMatchingKeysForTargetId(u,r.targetId)}).next(function(){return o.qe.addMatchingKeys(u,n,r.targetId)}).next(function(){return o.Ke.saveNamedQuery(u,e)})})]}})})}function pD(t,e){return"firestore_clients_"+t+"_"+e}function gD(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function xy(t,e){return"firestore_targets_"+t+"_"+e}function HT(){return typeof window<"u"?window:null}function pd(){return typeof document<"u"?document:null}function Fd(t){return new UV(t,!0)}function Sc(t){return O(this,void 0,void 0,function(){var e,n;return R(this,function(r){switch(r.label){case 0:if(!li(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Zs(t){return O(this,void 0,void 0,function(){var e,n;return R(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Vd(t,e){var n=j(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),m_(n)?g_(n):ea(n).er()&&p_(n,e))}function gc(t,e){var n=j(t),r=ea(n);n.$r.delete(e),r.er()&&WT(n,e),n.$r.size===0&&(r.er()?r.ir():li(n)&&n.Br.set("Unknown"))}function p_(t,e){t.qr.U(e.targetId),ea(t).mr(e)}function WT(t,e){t.qr.U(e),ea(t).yr(e)}function g_(t){t.qr=new FV({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ea(t).start(),t.Br.Sr()}function m_(t){return li(t)&&!ea(t).tr()&&t.$r.size>0}function li(t){return j(t).Or.size===0}function KT(t){t.qr=void 0}function Bj(t){return O(this,void 0,void 0,function(){return R(this,function(e){return t.$r.forEach(function(n,r){p_(t,n)}),[2]})})}function qj(t,e){return O(this,void 0,void 0,function(){return R(this,function(n){return KT(t),m_(t)?(t.Br.Nr(e),g_(t)):t.Br.set("Unknown"),[2]})})}function zj(t,e,n){return O(this,void 0,void 0,function(){var r,o,a;return R(this,function(u){switch(u.label){case 0:if(t.Br.set("Online"),!(e instanceof pT&&e.state===2&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,h){return O(this,void 0,void 0,function(){var p,g,y,_;return R(this,function(b){switch(b.label){case 0:p=h.cause,g=0,y=h.targetIds,b.label=1;case 1:return g<y.length?(_=y[g],l.$r.has(_)?[4,l.remoteSyncer.rejectListen(_,p)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(_),l.qr.removeTarget(_),b.label=3;case 3:b.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ad(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof fd?t.qr.X(e):e instanceof fT?t.qr.rt(e):t.qr.et(e),n.isEqual(ue.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,jT(t.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,h){var p=l.qr.ut(h);return p.targetChanges.forEach(function(g,y){if(g.resumeToken.approximateByteSize()>0){var _=l.$r.get(y);_&&l.$r.set(y,_.withResumeToken(g.resumeToken,h))}}),p.targetMismatches.forEach(function(g){var y=l.$r.get(g);if(y){l.$r.set(g,y.withResumeToken(Gt.EMPTY_BYTE_STRING,y.snapshotVersion)),WT(l,g);var _=new Ld(y.target,g,1,y.sequenceNumber);p_(l,_)}}),l.remoteSyncer.applyRemoteEvent(p)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return P("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,Ad(t,a)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Ad(t,e,n){return O(this,void 0,void 0,function(){var r=this;return R(this,function(o){switch(o.label){case 0:if(!ho(e))throw e;return t.Or.add(1),[4,Zs(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return jT(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return O(r,void 0,void 0,function(){return R(this,function(a){switch(a.label){case 0:return P("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return a.sent(),t.Or.delete(1),[4,Sc(t)];case 2:return a.sent(),[2]}})})}),[2]}})})}function $T(t,e){return e().catch(function(n){return Ad(t,n,e)})}function Js(t){return O(this,void 0,void 0,function(){var e,n,r,o,a;return R(this,function(u){switch(u.label){case 0:e=j(t),n=ui(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return li(l)&&l.Fr.length<10}(e))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,_j(e.localStore,r)];case 3:return(o=u.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,h){l.Fr.push(h);var p=ui(l);p.er()&&p.pr&&p.Er(h.mutations)}(e,o),[3,6]);case 4:return a=u.sent(),[4,Ad(e,a)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return YT(e)&&XT(e),[2]}})})}function YT(t){return li(t)&&!ui(t).tr()&&t.Fr.length>0}function XT(t){ui(t).start()}function Hj(t){return O(this,void 0,void 0,function(){return R(this,function(e){return ui(t).Ar(),[2]})})}function Gj(t){return O(this,void 0,void 0,function(){var e,n,r,o;return R(this,function(a){for(e=ui(t),n=0,r=t.Fr;n<r.length;n++)o=r[n],e.Er(o.mutations);return[2]})})}function Wj(t,e,n){return O(this,void 0,void 0,function(){var r,o;return R(this,function(a){switch(a.label){case 0:return r=t.Fr.shift(),o=ej.from(r,e,n),[4,$T(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return a.sent(),[4,Js(t)];case 2:return a.sent(),[2]}})})}function Kj(t,e){return O(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return e&&ui(t).pr?[4,function(r,o){return O(this,void 0,void 0,function(){var a,u;return R(this,function(l){switch(l.label){case 0:return lT(u=o.code)&&u!==S.ABORTED?(a=r.Fr.shift(),ui(r).sr(),[4,$T(r,function(){return r.remoteSyncer.rejectFailedWrite(a.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Js(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return YT(t)&&XT(t),[2]}})})}function Hy(t,e){return O(this,void 0,void 0,function(){var n;return R(this,function(r){switch(r.label){case 0:return n=j(t),e?(n.Or.delete(2),[4,Sc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Zs(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ea(t){var e=this;return t.Ur||(t.Ur=function(n,r,o){var a=j(n);return a.br(),new Lj(r,a.Hi,a.credentials,a.R,o)}(t.datastore,t.asyncQueue,{Ii:Bj.bind(null,t),Ri:qj.bind(null,t),_r:zj.bind(null,t)}),t.Mr.push(function(n){return O(e,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),m_(t)?g_(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),KT(t),r.label=3;case 3:return[2]}})})})),t.Ur}function ui(t){var e=this;return t.Kr||(t.Kr=function(n,r,o){var a=j(n);return a.br(),new Fj(r,a.Hi,a.credentials,a.R,o)}(t.datastore,t.asyncQueue,{Ii:Hj.bind(null,t),Ri:Kj.bind(null,t),Ir:Gj.bind(null,t),Tr:Wj.bind(null,t)}),t.Mr.push(function(n){return O(e,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Js(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(P("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}function ta(t,e){if(nt("AsyncQueue",e+": "+t),ho(t))return new x(S.UNAVAILABLE,e+": "+t);throw t}function v_(t,e){return O(this,void 0,void 0,function(){var n,r,o,a,u,l,h;return R(this,function(p){switch(p.label){case 0:if(n=j(t),r=e.query,o=!1,(a=n.queries.get(r))||(o=!0,a=new Yj),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=a,[4,n.onListen(r)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),h=ta(l,"Initialization of query '"+Vy(e.query)+"' failed"),[2,void e.onError(h)];case 4:return n.queries.set(r,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&__(n),[2]}})})}function y_(t,e){return O(this,void 0,void 0,function(){var n,r,o,a,u;return R(this,function(l){return n=j(t),r=e.query,o=!1,(a=n.queries.get(r))&&(u=a.listeners.indexOf(e))>=0&&(a.listeners.splice(u,1),o=a.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Qj(t,e){for(var n=j(t),r=!1,o=0,a=e;o<a.length;o++){var u=a[o],l=u.query,h=n.queries.get(l);if(h){for(var p=0,g=h.listeners;p<g.length;p++)g[p].Hr(u)&&(r=!0);h.Wr=u}}r&&__(n)}function Zj(t,e,n){var r=j(t),o=r.queries.get(e);if(o)for(var a=0,u=o.listeners;a<u.length;a++)u[a].onError(n);r.queries.delete(e)}function __(t){t.Gr.forEach(function(e){e.next()})}function eU(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}function iU(t,e){return O(this,void 0,void 0,function(){var n,r,o,a,u,l;return R(this,function(h){switch(h.label){case 0:return n=S_(t),(a=n.Po.get(e))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,zs(n.localStore,Tn(e))];case 2:return u=h.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,b_(n,e,r,l==="current")];case 3:o=h.sent(),n.isPrimaryClient&&Vd(n.remoteStore,u),h.label=4;case 4:return[2,o]}})})}function b_(t,e,n,r){return O(this,void 0,void 0,function(){var o,a,u,l,h,p;return R(this,function(g){switch(g.label){case 0:return t.Oo=function(y,_,b){return function(E,C,A,N){return O(this,void 0,void 0,function(){var q,B,oe;return R(this,function(he){switch(he.label){case 0:return q=C.view._o(A),q.Nn?[4,Sd(E.localStore,C.query,!1).then(function(L){var xe=L.documents;return C.view._o(xe,q)})]:[3,2];case 1:q=he.sent(),he.label=2;case 2:return B=N&&N.targetChanges.get(C.targetId),oe=C.view.applyChanges(q,E.isPrimaryClient,B),[2,(Gy(E,C.targetId,oe.To),oe.snapshot)]}})})}(t,y,_,b)},[4,Sd(t.localStore,e,!0)];case 1:return o=g.sent(),a=new eR(e,o.Bn),u=a._o(o.documents),l=i_.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),h=a.applyChanges(u,t.isPrimaryClient,l),Gy(t,n,h.To),p=new tU(e,n,a),[2,(t.Po.set(e,p),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),h.snapshot)]}})})}function oU(t,e){return O(this,void 0,void 0,function(){var n,r,o;return R(this,function(a){switch(a.label){case 0:return n=j(t),r=n.Po.get(e),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!wc(u,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hs(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),gc(n.remoteStore,r.targetId),Gs(n,r.targetId)}).catch(fo)]):[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return Gs(n,r.targetId),[4,Hs(n.localStore,r.targetId,!0)];case 4:a.sent(),a.label=5;case 5:return[2]}})})}function sU(t,e,n){return O(this,void 0,void 0,function(){var r,o,a,u;return R(this,function(l){switch(l.label){case 0:r=A_(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(h,p){var g,y=j(h),_=Ht.now(),b=p.reduce(function(E,C){return E.add(C.key)},Se());return y.persistence.runTransaction("Locally write mutations","readwrite",function(E){return y.Mn.pn(E,b).next(function(C){g=C;for(var A=[],N=0,q=p;N<q.length;N++){var B=q[N],oe=OV(B,g.get(B.key));oe!=null&&A.push(new ci(B.key,oe,XD(oe.value.mapValue),Mt.exists(!0)))}return y._n.addMutationBatch(E,_,A,p)})}).then(function(E){return E.applyToLocalDocumentSet(g),{batchId:E.batchId,changes:g}})}(r.localStore,e)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(h,p,g){var y=h.xo[h.currentUser.toKey()];y||(y=new Lt(fe)),y=y.insert(p,g),h.xo[h.currentUser.toKey()]=y}(r,o.batchId,n),[4,hi(r,o.changes)];case 3:return l.sent(),[4,Js(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return a=l.sent(),u=ta(a,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function tR(t,e){return O(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:n=j(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,yj(n.localStore,e)];case 2:return r=o.sent(),e.targetChanges.forEach(function(a,u){var l=n.Co.get(u);l&&(J(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.bo=!0:a.modifiedDocuments.size>0?J(l.bo):a.removedDocuments.size>0&&(J(l.bo),l.bo=!1))}),[4,hi(n,r,e)];case 3:return o.sent(),[3,6];case 4:return[4,fo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function bD(t,e,n){var r=j(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(a,u){var l=u.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(a,u){var l=j(a);l.onlineState=u;var h=!1;l.queries.forEach(function(p,g){for(var y=0,_=g.listeners;y<_.length;y++)_[y].zr(u)&&(h=!0)}),h&&__(l)}(r.eventManager,e),o.length&&r.vo._r(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aU(t,e,n){return O(this,void 0,void 0,function(){var r,o,a,u,l,h;return R(this,function(p){switch(p.label){case 0:return(r=j(t)).sharedClientState.updateQueryState(e,"rejected",n),o=r.Co.get(e),(a=o&&o.key)?(u=(u=new Lt(K.comparator)).insert(a,Tt.newNoDocument(a,ue.min())),l=Se().add(a),h=new r_(ue.min(),new Map,new at(fe),u,l),[4,tR(r,h)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(a),r.Co.delete(e),I_(r),[3,4];case 2:return[4,Hs(r.localStore,e,!1).then(function(){return Gs(r,e,n)}).catch(fo)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function uU(t,e){return O(this,void 0,void 0,function(){var n,r,o;return R(this,function(a){switch(a.label){case 0:n=j(t),r=e.batch.batchId,a.label=1;case 1:return a.trys.push([1,4,,6]),[4,vj(n.localStore,e)];case 2:return o=a.sent(),C_(n,r,null),E_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,hi(n,o)];case 3:return a.sent(),[3,6];case 4:return[4,fo(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function cU(t,e,n){return O(this,void 0,void 0,function(){var r,o;return R(this,function(a){switch(a.label){case 0:r=j(t),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,function(u,l){var h=j(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return h._n.lookupMutationBatch(p,l).next(function(y){return J(y!==null),g=y.keys(),h._n.removeMutationBatch(p,y)}).next(function(){return h._n.performConsistencyCheck(p)}).next(function(){return h.Mn.pn(p,g)})})}(r.localStore,e)];case 2:return o=a.sent(),C_(r,e,n),E_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,hi(r,o)];case 3:return a.sent(),[3,6];case 4:return[4,fo(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function lU(t,e){return O(this,void 0,void 0,function(){var n,r,o,a,u;return R(this,function(l){switch(l.label){case 0:li((n=j(t)).remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(h){var p=j(h);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(r)||[]).push(e),n.ko.set(r,o),[3,4]);case 3:return a=l.sent(),u=ta(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}})})}function E_(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function C_(t,e,n){var r=j(t),o=r.xo[r.currentUser.toKey()];if(o){var a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.xo[r.currentUser.toKey()]=o}}function Gs(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,o=t.Vo.get(e);r<o.length;r++){var a=o[r];t.Po.delete(a),n&&t.vo.Mo(a,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(u){t.No.containsKey(u)||nR(t,u)})}function nR(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(gc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),I_(t))}function Gy(t,e,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];a instanceof ZT?(t.No.addReference(a.key,e),hU(t,a)):a instanceof JT?(P("SyncEngine","Document no longer in limbo: "+a.key),t.No.removeReference(a.key,e),t.No.containsKey(a.key)||nR(t,a.key)):W()}}function hU(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(P("SyncEngine","New document in limbo: "+n),t.So.add(r),I_(t))}function I_(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new K(ye.fromString(e)),r=t.Fo.next();t.Co.set(r,new nU(n)),t.Do=t.Do.insert(n,r),Vd(t.remoteStore,new Ld(Tn(Xs(n.path)),r,2,vn.o))}}function hi(t,e,n){return O(this,void 0,void 0,function(){var r,o,a,u;return R(this,function(l){switch(l.label){case 0:return r=j(t),o=[],a=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(h,p){u.push(r.Oo(p,e,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var y=gj.Pn(p.targetId,g);a.push(y)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(h,p){return O(this,void 0,void 0,function(){var g,y,_,b,E,C,A,N,q;return R(this,function(B){switch(B.label){case 0:g=j(h),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(oe){return M.forEach(p,function(he){return M.forEach(he.bn,function(L){return g.persistence.referenceDelegate.addReference(oe,he.targetId,L)}).next(function(){return M.forEach(he.vn,function(L){return g.persistence.referenceDelegate.removeReference(oe,he.targetId,L)})})})})];case 2:return B.sent(),[3,4];case 3:if(!ho(y=B.sent()))throw y;return P("LocalStore","Failed to update sequence numbers: "+y),[3,4];case 4:for(_=0,b=p;_<b.length;_++)E=b[_],C=E.targetId,E.fromCache||(A=g.kn.get(C),N=A.snapshotVersion,q=A.withLastLimboFreeSnapshotVersion(N),g.kn=g.kn.insert(C,q));return[2]}})})}(r.localStore,a)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function dU(t,e){return O(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:return(n=j(t)).currentUser.isEqual(e)?[3,3]:(P("SyncEngine","User change. New user:",e.toKey()),[4,VT(n.localStore,e)]);case 1:return r=o.sent(),n.currentUser=e,function(a,u){a.ko.forEach(function(l){l.forEach(function(h){h.reject(new x(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,hi(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function fU(t,e){var n=j(t),r=n.Co.get(e);if(r&&r.bo)return Se().add(r.key);var o=Se(),a=n.Vo.get(e);if(!a)return o;for(var u=0,l=a;u<l.length;u++){var h=l[u],p=n.Po.get(h);o=o.unionWith(p.view.wo)}return o}function pU(t,e){return O(this,void 0,void 0,function(){var n,r,o;return R(this,function(a){switch(a.label){case 0:return[4,Sd((n=j(t)).localStore,e.query,!0)];case 1:return r=a.sent(),o=e.view.Ao(r),[2,(n.isPrimaryClient&&Gy(n,e.targetId,o.To),o)]}})})}function gU(t){return O(this,void 0,void 0,function(){var e;return R(this,function(n){return[2,qT((e=j(t)).localStore).then(function(r){return hi(e,r)})]})})}function mU(t,e,n,r){return O(this,void 0,void 0,function(){var o,a;return R(this,function(u){switch(u.label){case 0:return[4,function(l,h){var p=j(l),g=j(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(y){return g.jt(y,h).next(function(_){return _?p.Mn.pn(y,_):M.resolve(null)})})}((o=j(t)).localStore,e)];case 1:return(a=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Js(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(C_(o,e,r||null),E_(o,e),function(l,h){j(j(l)._n).Gt(h)}(o.localStore,e)):W(),u.label=4;case 4:return[4,hi(o,a)];case 5:return u.sent(),[3,7];case 6:P("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function vU(t,e){return O(this,void 0,void 0,function(){var n,r,o,a,u,l,h,p;return R(this,function(g){switch(g.label){case 0:return S_(n=j(t)),A_(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ED(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Hy(n.remoteStore,!0)];case 2:for(g.sent(),a=0,u=o;a<u.length;a++)l=u[a],Vd(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(h=[],p=Promise.resolve(),n.Vo.forEach(function(y,_){n.sharedClientState.isLocalQueryTarget(_)?h.push(_):p=p.then(function(){return Gs(n,_),Hs(n.localStore,_,!0)}),gc(n.remoteStore,_)}),[4,p]);case 4:return g.sent(),[4,ED(n,h)];case 5:return g.sent(),function(y){var _=j(y);_.Co.forEach(function(b,E){gc(_.remoteStore,E)}),_.No.ts(),_.Co=new Map,_.Do=new Lt(K.comparator)}(n),n.$o=!1,[4,Hy(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function ED(t,e,n){return O(this,void 0,void 0,function(){var r,o,a,u,l,h,p,g,y,_,b,E,C,A;return R(this,function(N){switch(N.label){case 0:r=j(t),o=[],a=[],u=0,l=e,N.label=1;case 1:return u<l.length?(h=l[u],p=void 0,(g=r.Vo.get(h))&&g.length!==0?[4,zs(r.localStore,Tn(g[0]))]:[3,7]):[3,13];case 2:p=N.sent(),y=0,_=g,N.label=3;case 3:return y<_.length?(b=_[y],E=r.Po.get(b),[4,pU(r,E)]):[3,6];case 4:(C=N.sent()).snapshot&&a.push(C.snapshot),N.label=5;case 5:return y++,[3,3];case 6:return[3,11];case 7:return[4,BT(r.localStore,h)];case 8:return A=N.sent(),[4,zs(r.localStore,A)];case 9:return p=N.sent(),[4,b_(r,rR(A),h,!1)];case 10:N.sent(),N.label=11;case 11:o.push(p),N.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(a),o)]}})})}function rR(t){return ZD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yU(t){var e=j(t);return j(j(e.localStore).persistence).fn()}function _U(t,e,n,r){return O(this,void 0,void 0,function(){var o,a,u;return R(this,function(l){switch(l.label){case 0:return(o=j(t)).$o?(P("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qT(o.localStore)];case 3:return a=l.sent(),u=r_.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,hi(o,a,u)];case 4:return l.sent(),[3,8];case 5:return[4,Hs(o.localStore,e,!0)];case 6:return l.sent(),Gs(o,e,r),[3,8];case 7:W(),l.label=8;case 8:return[2]}})})}function wU(t,e,n){return O(this,void 0,void 0,function(){var r,o,a,u,l,h,p,g,y,_;return R(this,function(b){switch(b.label){case 0:if(!(r=S_(t)).$o)return[3,10];o=0,a=e,b.label=1;case 1:return o<a.length?(u=a[o],r.Vo.has(u)?(P("SyncEngine","Adding an already active target "+u),[3,5]):[4,BT(r.localStore,u)]):[3,6];case 2:return l=b.sent(),[4,zs(r.localStore,l)];case 3:return h=b.sent(),[4,b_(r,rR(l),h.targetId,!1)];case 4:b.sent(),Vd(r.remoteStore,h),b.label=5;case 5:return o++,[3,1];case 6:p=function(E){return R(this,function(C){switch(C.label){case 0:return r.Vo.has(E)?[4,Hs(r.localStore,E,!1).then(function(){gc(r.remoteStore,E),Gs(r,E)}).catch(fo)]:[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})},g=0,y=n,b.label=7;case 7:return g<y.length?(_=y[g],[5,p(_)]):[3,10];case 8:b.sent(),b.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function S_(t){var e=j(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aU.bind(null,e),e.vo._r=Qj.bind(null,e.eventManager),e.vo.Mo=Zj.bind(null,e.eventManager),e}function A_(t){var e=j(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cU.bind(null,e),e}function sR(t,e){return O(this,void 0,void 0,function(){var n,r,o=this;return R(this,function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),r=n.initialUser,t.setCredentialChangeListener(function(u){return O(o,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,VT(e.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function aR(t,e){return O(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,D_(t)];case 1:return n=o.sent(),P("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.setCredentialChangeListener(function(a){return function(u,l){return O(this,void 0,void 0,function(){var h,p;return R(this,function(g){switch(g.label){case 0:return(h=j(u)).asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials"),p=li(h),h.Or.add(3),[4,Zs(h)];case 1:return g.sent(),p&&h.Br.set("Unknown"),[4,h.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),h.Or.delete(3),[4,Sc(h)];case 3:return g.sent(),[2]}})})}(e.remoteStore,a)}),t.onlineComponents=e,[2]}})})}function D_(t){return O(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(P("FirestoreClient","Using default OfflineComponentProvider"),[4,sR(t,new iR)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ud(t){return O(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(P("FirestoreClient","Using default OnlineComponentProvider"),[4,aR(t,new Wy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function CD(t){return D_(t).then(function(e){return e.persistence})}function uR(t){return D_(t).then(function(e){return e.localStore})}function ID(t){return Ud(t).then(function(e){return e.remoteStore})}function cR(t){return Ud(t).then(function(e){return e.syncEngine})}function Ws(t){return O(this,void 0,void 0,function(){var e,n;return R(this,function(r){switch(r.label){case 0:return[4,Ud(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=iU.bind(null,e.syncEngine),n.onUnlisten=oU.bind(null,e.syncEngine),n)]}})})}function SD(t,e,n){var r=this;n===void 0&&(n={});var o=new Pt;return t.asyncQueue.enqueueAndForget(function(){return O(r,void 0,void 0,function(){var a;return R(this,function(u){switch(u.label){case 0:return a=function(l,h,p,g,y){var _=new jd({next:function(E){h.enqueueAndForget(function(){return y_(l,b)});var C=E.docs.has(p);!C&&E.fromCache?y.reject(new x(S.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&g&&g.source==="server"?y.reject(new x(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:function(E){return y.reject(E)}}),b=new w_(Xs(p.path),_,{includeMetadataChanges:!0,so:!0});return v_(l,b)},[4,Ws(t)];case 1:return[2,a.apply(void 0,[u.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function AD(t,e,n){var r=this;n===void 0&&(n={});var o=new Pt;return t.asyncQueue.enqueueAndForget(function(){return O(r,void 0,void 0,function(){var a;return R(this,function(u){switch(u.label){case 0:return a=function(l,h,p,g,y){var _=new jd({next:function(E){h.enqueueAndForget(function(){return y_(l,b)}),E.fromCache&&g.source==="server"?y.reject(new x(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:function(E){return y.reject(E)}}),b=new w_(p,_,{includeMetadataChanges:!0,so:!0});return v_(l,b)},[4,Ws(t)];case 1:return[2,a.apply(void 0,[u.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function T_(t,e,n){if(!n)throw new x(S.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function R_(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new x(S.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hR(t,e,n,r){if(e===!0&&r===!0)throw new x(S.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function RD(t){if(!K.isDocumentKey(t))throw new x(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function OD(t){if(K.isDocumentKey(t))throw new x(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":W()}function be(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bd(t);throw new x(S.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function kD(t,e){if(e<=0)throw new x(S.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}function dR(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t=Qe(t),T_("collection","path",e),t instanceof mc)return OD(n=ye.fromString.apply(ye,Pe([e],r))),new oi(t,null,n);if(!(t instanceof Be||t instanceof oi))throw new x(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return OD(n=ye.fromString.apply(ye,Pe([t.path],r)).child(ye.fromString(e))),new oi(t.firestore,null,n)}function gd(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t=Qe(t),arguments.length===1&&(e=HD.u()),T_("doc","path",e),t instanceof mc)return RD(n=ye.fromString.apply(ye,Pe([e],r))),new Be(t,null,new K(n));if(!(t instanceof Be||t instanceof oi))throw new x(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return RD(n=t._path.child(ye.fromString.apply(ye,Pe([e],r)))),new Be(t.firestore,t instanceof oi?t.converter:null,new K(n))}function fR(t,e){return t=Qe(t),e=Qe(e),(t instanceof Be||t instanceof oi)&&(e instanceof Be||e instanceof oi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function pR(t,e){return t=Qe(t),e=Qe(e),t instanceof _n&&e instanceof _n&&t.firestore===e.firestore&&wc(t._query,e._query)&&t.converter===e.converter}function Ks(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,o=0,a=["next","error","complete"];o<a.length;o++){var u=a[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(t)}function Nt(t){return t._firestoreClient||mR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mR(t){var e,n=t._freezeSettings(),r=function(o,a,u,l){return new SU(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new IU(t._credentials,t._queue,r)}function ND(t,e,n){var r=this,o=new Pt;return t.asyncQueue.enqueue(function(){return O(r,void 0,void 0,function(){var a;return R(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,sR(t,n)];case 1:return u.sent(),[4,aR(t,e)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===S.FAILED_PRECONDITION||l.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(a=u.sent()))throw a;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),o.reject(a),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function MD(t){if(t._initialized||t._terminated)throw new x(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function yR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}function go(t){var e=t._freezeSettings(),n=Fd(t._databaseId);return new NU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qd(t,e,n,r,o,a){a===void 0&&(a={});var u=t.Uc(a.merge||a.mergeFields?2:0,e,n,o);N_("Data must be an object, but it was:",u,r);var l,h,p=ER(r,u);if(a.merge)l=new xs(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){for(var g=[],y=0,_=a.mergeFields;y<_.length;y++){var b=Ky(e,_[y],n);if(!u.contains(b))throw new x(S.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");IR(g,b)||g.push(b)}l=new xs(g),h=u.fieldTransforms.filter(function(E){return l.covers(E.field)})}else l=null,h=u.fieldTransforms;return new xU(new mn(p),l,h)}function wR(t,e,n){return new _R({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}function k_(t,e,n,r){var o=t.Uc(1,e,n);N_("Data must be an object, but it was:",o,r);var a=[],u=mn.empty();co(r,function(h,p){var g=M_(e,h,n);p=Qe(p);var y=o.Oc(g);if(p instanceof O_)a.push(g);else{var _=mo(p,y);_!=null&&(a.push(g),u.set(g,_))}});var l=new xs(a);return new vR(u,l,o.fieldTransforms)}function x_(t,e,n,r,o,a){var u=t.Uc(1,e,n),l=[Ky(e,r,n)],h=[o];if(a.length%2!=0)throw new x(S.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<a.length;p+=2)l.push(Ky(e,a[p])),h.push(a[p+1]);for(var g=[],y=mn.empty(),_=l.length-1;_>=0;--_)if(!IR(g,l[_])){var b=l[_],E=h[_];E=Qe(E);var C=u.Oc(b);if(E instanceof O_)g.push(b);else{var A=mo(E,C);A!=null&&(g.push(b),y.set(b,A))}}var N=new xs(g);return new vR(y,N,u.fieldTransforms)}function bR(t,e,n,r){return r===void 0&&(r=!1),mo(n,t.Uc(r?4:3,e))}function mo(t,e){if(CR(t=Qe(t)))return N_("Unsupported field value:",e,t),ER(t,e);if(t instanceof po)return function(n,r){if(!yR(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],a=0,u=0,l=n;u<l.length;u++){var h=mo(l[u],r.Mc(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iT(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Ht.fromDate(n);return{timestampValue:dc(r.R,o)}}if(n instanceof Ht)return o=new Ht(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:dc(r.R,o)};if(n instanceof Ac)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof uo)return{bytesValue:gT(r.R,n._byteString)};if(n instanceof Be){o=r.databaseId;var a=n.firestore._databaseId;if(!a.isEqual(o))throw r.Lc("Document reference is for database "+a.projectId+"/"+a.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:o_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Bd(n))}(t,e)}function ER(t,e){var n={};return WD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,function(r,o){var a=mo(o,e.kc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof Ac||t instanceof uo||t instanceof Be||t instanceof po)}function N_(t,e,n){if(!CR(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Bd(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function Ky(t,e,n){if((e=Qe(e))instanceof ar)return e._internalPath;if(typeof e=="string")return M_(t,e);throw Rd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function M_(t,e,n){if(e.search(VU)>=0)throw Rd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(ar.bind.apply(ar,Pe([void 0],e.split("."))))()._internalPath}catch{throw Rd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rd(t,e,n,r,o){var a=r&&!r.isEmpty(),u=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var h="";return(a||u)&&(h+=" (found",a&&(h+=" in field "+r),u&&(h+=" in document "+o),h+=")"),new x(S.INVALID_ARGUMENT,(l+=". ")+t+h)}function IR(t,e){return t.some(function(n){return n.isEqual(e)})}function Od(t,e){return typeof e=="string"?M_(t,e):e instanceof ar?e._internalPath:e._delegate._internalPath}function UU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function SR(t,e){return t instanceof Dr&&e instanceof Dr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ni&&e instanceof ni&&t._firestore===e._firestore&&pR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function AR(t){if(bd(t)&&t.explicitOrderBy.length===0)throw new x(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Zr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=e;r<o.length;r++){var a=o[r];t=a._apply(t)}return t}function DR(t,e,n,r){if(n[0]=Qe(n[0]),n[0]instanceof vc)return function(a,u,l,h,p){if(!h)throw new x(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],y=0,_=Ps(a);y<_.length;y++){var b=_[y];if(b.field.isKeyField())g.push(yd(u,h.key));else{var E=h.data.field(b.field);if(Xy(E))throw new x(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var C=b.field.canonicalString();throw new x(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+C+"' (used as the orderBy) does not exist.")}g.push(E)}}return new hc(g,p)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=go(t.firestore);return function(a,u,l,h,p,g){var y=a.explicitOrderBy;if(p.length>y.length)throw new x(S.INVALID_ARGUMENT,"Too many arguments provided to "+h+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var _=[],b=0;b<p.length;b++){var E=p[b];if(y[b].field.isKeyField()){if(typeof E!="string")throw new x(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+h+"(), but got a "+typeof E);if(!t_(a)&&E.indexOf("/")!==-1)throw new x(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+h+"() must be a plain document ID, but '"+E+"' contains a slash.");var C=a.path.child(ye.fromString(E));if(!K.isDocumentKey(C))throw new x(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+h+"() must result in a valid document path, but '"+C+"' is not because it contains an odd number of segments.");var A=new K(C);_.push(yd(u,A))}else{var N=bR(l,h,E);_.push(N)}}return new hc(_,g)}(t._query,t.firestore._databaseId,o,e,n,r)}function VD(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new x(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!t_(e)&&n.indexOf("/")!==-1)throw new x(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ye.fromString(n));if(!K.isDocumentKey(r))throw new x(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yd(t,new K(r))}if(n instanceof Be)return yd(t,n._key);throw new x(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bd(n)+".")}function jD(t,e){if(!Array.isArray(t)||t.length===0)throw new x(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new x(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function TR(t,e,n){if(!n.isEqual(e))throw new x(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function zd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}function ri(t,e){if((t=Qe(t)).firestore!==e)throw new x(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function UD(t,e,n){t=be(t,Be);var r=be(t.firestore,rt),o=zd(t.converter,e,n);return Tc(r,[qd(go(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Mt.none())])}function BD(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=be(t,Be);var a=be(t.firestore,rt),u=go(a);return Tc(a,[(typeof(e=Qe(e))=="string"||e instanceof ar?x_(u,"updateDoc",t._key,e,n,r):k_(u,"updateDoc",t._key,e)).toMutation(t._key,Mt.exists(!0))])}function RR(t){for(var e,n,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];t=Qe(t);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ks(o[l])||(u=o[l],l++);var h,p,g,y={includeMetadataChanges:u.includeMetadataChanges};if(Ks(o[l])){var _=o[l];o[l]=(e=_.next)===null||e===void 0?void 0:e.bind(_),o[l+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),o[l+2]=(r=_.complete)===null||r===void 0?void 0:r.bind(_)}if(t instanceof Be)p=be(t.firestore,rt),g=Xs(t._key.path),h={next:function(C){o[l]&&o[l]($y(p,t,C))},error:o[l+1],complete:o[l+2]};else{var b=be(t,_n);p=be(b.firestore,rt),g=b._query;var E=new io(p);h={next:function(C){o[l]&&o[l](new ni(p,E,b,C))},error:o[l+1],complete:o[l+2]},AR(t._query)}return function(C,A,N,q){var B=this,oe=new jd(q),he=new w_(A,oe,N);return C.asyncQueue.enqueueAndForget(function(){return O(B,void 0,void 0,function(){var L;return R(this,function(xe){switch(xe.label){case 0:return L=v_,[4,Ws(C)];case 1:return[2,L.apply(void 0,[xe.sent(),he])]}})})}),function(){oe.Wo(),C.asyncQueue.enqueueAndForget(function(){return O(B,void 0,void 0,function(){var L;return R(this,function(xe){switch(xe.label){case 0:return L=y_,[4,Ws(C)];case 1:return[2,L.apply(void 0,[xe.sent(),he])]}})})})}}(Nt(p),g,y,h)}function Tc(t,e){return function(n,r){var o=this,a=new Pt;return n.asyncQueue.enqueueAndForget(function(){return O(o,void 0,void 0,function(){var u;return R(this,function(l){switch(l.label){case 0:return u=sU,[4,cR(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,a])]}})})}),a.promise}(Nt(t),e)}function $y(t,e,n){var r=n.docs.get(e._key),o=new io(t);return new Dr(t,o,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}function qD(){if(typeof Uint8Array>"u")throw new x(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zD(){if(typeof atob>"u")throw new x(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function kR(t){var e;e=t,qn.setLogLevel(e)}function zt(t,e,n){return t.message=t.message.replace(e,n),t}function xR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Ks(r))return r}return{}}function NR(t,e){var n,r,o;return{next:function(a){o.next&&o.next(e(a))},error:(n=(o=Ks(t[0])?t[0]:Ks(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}function no(t){return be(t,Be)}var vn,S,x,qn,HD,Ht,ue,KD,ye,pV,Hn,xs,Gt,gV,K,mn,Tt,mV,yn,vV,yV,_V,wV,bV,EV,CV,hc,Os,Tr,Nd,Ls,so,ao,Fs,Ec,TV,Mt,Md,Cc,ci,et,pe,Ic,n_,kV,Lt,sd,ei,at,$A,xV,NV,MV,PV,LV,r_,i_,fd,fT,pT,YA,FV,VV,jV,UV,$V,pn,ii,ke,xt,YV,XV,He,or,Jt,Dt,gn,ro,Ar,Vs,js,QV,ST,AT,Pt,M,DT,Us,ZV,ac,JV,rD,iD,a_,ej,Ld,TT,tj,nj,l_,rj,cD,ir,ij,Id,oj,sj,aj,uj,cj,Qs,MT,lj,hj,dj,ky,fj,pj,PT,gj,LT,mj,Cj,d_,pt,Ij,Sj,Aj,Dj,Tj,Rj,Oj,St,mD,Ny,vD,kj,zy,My,zT,xj,yD,Nj,Mj,Pj,f_,GT,Lj,Fj,Vj,jj,Uj,$j,QT,_D,Dd,Yj,Xj,w_,Jj,wD,nH,ZT,JT,eR,tU,nU,rU,iR,oR,bU,Wy,jd,rH,EU,CU,IU,SU,Td,DD,lR,TD,AU,DU,TU,RU,xD,mc,Be,_n,oi,OU,iH,gR,rt,ar,uo,po,Ac,kU,xU,vR,_R,NU,O_,MU,PU,LU,FU,VU,vc,jU,to,Dr,uc,ni,Dc,BU,qU,PD,LD,FD,P_,zU,HU,io,GU,L_,OR,F_,Hd,V_,j_,Gd,si,$s,Ys,Rc,WU,kd,yc,MR,PR,LR=Ln(()=>{"use strict";Ul();Fu();Dh();Oy();vn=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();vn.o=-1;S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=function(t){function e(n,r){var o=this;return(o=t.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Y(e,t),e}(Error),qn=new Ah("@firebase/firestore");HD=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var o=fV(40),a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%e.length));return r},t}();Ht=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ue=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ht(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();KD=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var a=e.get(o),u=n.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),ye=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype.construct=function(n,r,o){return new e(n,r,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],a=0,u=n;a<u.length;a++){var l=u[a];if(l.indexOf("//")>=0)throw new x(S.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(h){return h.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(KD),pV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hn=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype.construct=function(n,r,o){return new e(n,r,o)},e.isValidIdentifier=function(n){return pV.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],o="",a=0,u=function(){if(o.length===0)throw new x(S.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;a<n.length;){var h=n[a];if(h==="\\"){if(a+1===n.length)throw new x(S.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new x(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,a+=2}else h==="`"?(l=!l,a++):h!=="."||l?(o+=h,a++):(u(),a++)}if(u(),l)throw new x(S.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(KD),xs=function(){function t(e){this.fields=e,e.sort(Hn.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return ks(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Gt=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return fe(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Gt.EMPTY_BYTE_STRING=new Gt("");gV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);K=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(ye.fromString(e))},t.fromName=function(e){return new t(ye.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&ye.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return ye.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new ye(e.slice()))},t}();mn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!ld(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)},t.prototype.setAll=function(e){var n=this,r=Hn.emptyPath(),o={},a=[];e.forEach(function(l,h){if(!r.isImmediateParentOf(h)){var p=n.getFieldsMap(r);n.applyChanges(p,o,a),o={},a=[],r=h.popLast()}l?o[h.lastSegment()]=sc(l):a.push(h.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,a)},t.prototype.delete=function(e){var n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return ur(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var o=n.mapValue.fields[e.get(r)];ld(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){co(n,function(l,h){return e[l]=h});for(var o=0,a=r;o<a.length;o++){var u=a[o];delete e[u]}},t.prototype.clone=function(){return new t(sc(this.value))},t}();Tt=function(){function t(e,n,r,o,a){this.key=e,this.documentType=n,this.version=r,this.data=o,this.documentState=a}return t.newInvalidDocument=function(e){return new t(e,0,ue.min(),mn.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,mn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,mn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),mV=function(t,e,n,r,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.h=null};yn=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).field=n,a.op=r,a.value=o,a}return Y(e,t),e.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new vV(n,r,o):r==="array-contains"?new wV(n,o):r==="in"?new bV(n,o):r==="not-in"?new EV(n,o):r==="array-contains-any"?new CV(n,o):new e(n,r,o)},e.l=function(n,r,o){return r==="in"?new yV(n,o):new _V(n,o)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ms(r,this.value)):r!==null&&oo(this.value)===oo(r)&&this.m(Ms(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return W()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),vV=function(t){function e(n,r,o){var a=this;return(a=t.call(this,n,r,o)||this).key=K.fromName(o.referenceValue),a}return Y(e,t),e.prototype.matches=function(n){var r=K.comparator(n.key,this.key);return this.m(r)},e}(yn),yV=function(t){function e(n,r){var o=this;return(o=t.call(this,n,"in",r)||this).keys=QD("in",r),o}return Y(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(yn),_V=function(t){function e(n,r){var o=this;return(o=t.call(this,n,"not-in",r)||this).keys=QD("not-in",r),o}return Y(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(yn);wV=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return Y(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return Zy(r)&&lc(r.arrayValue,this.value)},e}(yn),bV=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return Y(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&lc(this.value.arrayValue,r)},e}(yn),EV=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return Y(e,t),e.prototype.matches=function(n){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!lc(this.value.arrayValue,r)},e}(yn),CV=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return Y(e,t),e.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Zy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(a){return lc(r.value.arrayValue,a)})},e}(yn),hc=function(t,e){this.position=t,this.before=e};Os=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};Tr=function(t,e,n,r,o,a,u,l){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),a===void 0&&(a="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};Nd=function(){this._=void 0};Ls=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e}(Nd),so=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return Y(e,t),e}(Nd);ao=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return Y(e,t),e}(Nd);Fs=function(t){function e(n,r){var o=this;return(o=t.call(this)||this).R=n,o.A=r,o}return Y(e,t),e}(Nd);Ec=function(t,e){this.field=t,this.transform=e},TV=function(t,e){this.version=t,this.transformResults=e},Mt=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();Md=function(){};Cc=function(t){function e(n,r,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=a,u.type=0,u}return Y(e,t),e}(Md),ci=function(t){function e(n,r,o,a,u){u===void 0&&(u=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=a,l.fieldTransforms=u,l.type=1,l}return Y(e,t),e}(Md);Ic=function(t){function e(n,r){var o=this;return(o=t.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Y(e,t),e}(Md),n_=function(t){function e(n,r){var o=this;return(o=t.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Y(e,t),e}(Md),kV=function(t){this.count=t};(pe=et||(et={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";Lt=function(){function t(e,n){this.comparator=e,this.root=n||ei.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new sd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new sd(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new sd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new sd(this.root,e,this.comparator,!0)},t}(),sd=function(){function t(e,n,r,o){this.isReverse=o,this.nodeStack=[];for(var a=1;!e.isEmpty();)if(a=n?r(e.key,n):1,o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),ei=function(){function t(e,n,r,o,a){this.key=e,this.value=n,this.color=r??t.RED,this.left=o??t.EMPTY,this.right=a??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,a){return new t(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var o=this,a=r(e,o.key);return(o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();var e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)},t}();ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw W()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw W()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw W()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw W()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw W()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,o,a){return this},t.prototype.insert=function(e,n,r){return new ei(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());at=function(){function t(e){this.comparator=e,this.data=new Lt(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new $A(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new $A(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),$A=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xV=new Lt(K.comparator);NV=new Lt(K.comparator);MV=new Lt(K.comparator);PV=new at(K.comparator);LV=new at(fe);r_=function(){function t(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,i_.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ue.min(),r,Pd(),Dn(),Se())},t}(),i_=function(){function t(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Gt.EMPTY_BYTE_STRING,n,Se(),Se(),Se())},t}(),fd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},fT=function(t,e){this.targetId=t,this.V=e},pT=function(t,e,n,r){n===void 0&&(n=Gt.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},YA=function(){function t(){this.S=0,this.D=QA(),this.C=Gt.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Se(),n=Se(),r=Se();return this.D.forEach(function(o,a){switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:W()}}),new i_(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=QA()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),FV=function(){function t(e){this.W=e,this.G=new Map,this.H=Dn(),this.J=XA(),this.Y=new at(fe)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var o=r[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var a=0,u=e.removedTargetIds;a<u.length;a++)o=u[a],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var o=n.nt(r);switch(e.state){case 0:n.st(r)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(e.resumeToken));break;default:W()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,a){r.st(a)&&n(a)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,o=this.ot(n);if(o){var a=o.target;if(_d(a))if(r===0){var u=new K(a.path);this.tt(n,u,Tt.newNoDocument(u,ue.min()))}else J(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(u,l){var h=n.ot(l);if(h){if(u.current&&_d(h.target)){var p=new K(h.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,Tt.newNoDocument(p,e))}u.$&&(r.set(l,u.M()),u.L())}});var o=Se();this.J.forEach(function(u,l){var h=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(h=!1,!1)}),h&&(o=o.add(u))});var a=new r_(e,r,this.Y,this.H,o);return this.H=Dn(),this.J=XA(),this.Y=new at(fe),a},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new YA,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new at(fe),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new YA),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();VV={asc:"ASCENDING",desc:"DESCENDING"},jV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UV=function(t,e){this.databaseId=t,this.I=e};$V=function(t,e){this.seconds=t,this.nanoseconds=e},pn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};pn.store="owner",pn.key="owner";ii=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ii.store="mutationQueues",ii.keyPath="userId";ke=function(t,e,n,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};ke.store="mutations",ke.keyPath="batchId",ke.userMutationsIndex="userMutationsIndex",ke.userMutationsKeyPath=["userId","batchId"];xt=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,zn(n)]},t.key=function(e,n,r){return[e,zn(n),r]},t}();xt.store="documentMutations",xt.PLACEHOLDER=new xt;YV=function(t,e){this.path=t,this.readTime=e},XV=function(t,e){this.path=t,this.version=e},He=function(t,e,n,r,o,a){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=a};He.store="remoteDocuments",He.readTimeIndex="readTimeIndex",He.readTimeIndexPath="readTime",He.collectionReadTimeIndex="collectionReadTimeIndex",He.collectionReadTimeIndexPath=["parentPath","readTime"];or=function(t){this.byteSize=t};or.store="remoteDocumentGlobal",or.key="remoteDocumentGlobalKey";Jt=function(t,e,n,r,o,a,u){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=u};Jt.store="targets",Jt.keyPath="targetId",Jt.queryTargetsIndexName="queryTargetsIndex",Jt.queryTargetsKeyPath=["canonicalId","targetId"];Dt=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Dt.store="targetDocuments",Dt.keyPath=["targetId","path"],Dt.documentTargetsIndex="documentTargetsIndex",Dt.documentTargetsKeyPath=["path","targetId"];gn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gn.key="targetGlobalKey",gn.store="targetGlobal";ro=function(t,e){this.collectionId=t,this.parent=e};ro.store="collectionParents",ro.keyPath=["collectionId","parent"];Ar=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ar.store="clientMetadata",Ar.keyPath="clientId";Vs=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vs.store="bundles",Vs.keyPath="bundleId";js=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};js.store="namedQueries",js.keyPath="name";QV=Pe(Pe([],Pe(Pe([],Pe(Pe([],Pe(Pe([],[ii.store,ke.store,xt.store,He.store,Jt.store,pn.store,gn.store,Dt.store]),[Ar.store])),[or.store])),[ro.store])),[Vs.store,js.store]),ST="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AT=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Pt=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},M=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,a){r.nextCallback=function(u){r.wrapSuccess(e,u).next(o,a)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,a)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var o=0,a=0,u=!1;e.forEach(function(l){++o,l.next(function(){++a,u&&a===o&&n()},function(h){return r(h)})}),u=!0,a===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(u){n=n.next(function(l){return l?t.resolve(l):u()})},o=0,a=e;o<a.length;o++)r(a[o]);return n},t.forEach=function(e,n){var r=this,o=[];return e.forEach(function(a,u){o.push(n.call(r,a,u))}),this.waitFor(o)},t}(),DT=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Pt,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new ac(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var a=s_(o.target.error);r.ft.reject(new ac(e,a))}}return t.open=function(e,n,r,o){try{return new t(n,e.transaction(o,r))}catch(a){throw new ac(n,a)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new JV(n)},t}(),Us=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(Kr())===12.2&&nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return P("SimpleDb","Removing database:",e),eo(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=Kr(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return O(this,void 0,void 0,function(){var n,r=this;return R(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(P("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(a,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(h){var p=h.target.result;a(p)},l.onblocked=function(){u(new ac(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(h){var p=h.target.error;p.name==="VersionError"?u(new x(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new ac(e,p))},l.onupgradeneeded=function(h){P("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',h.oldVersion);var p=h.target.result;r.wt.Rt(p,l.transaction,h.oldVersion,r.version).next(function(){P("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(a){return r.bt(a)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,o){return O(this,void 0,void 0,function(){var a,u,l,h,p;return R(this,function(g){switch(g.label){case 0:a=n==="readonly",u=0,l=function(){var y,_,b,E,C;return R(this,function(A){switch(A.label){case 0:++u,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,h.At(e)];case 2:return h.db=A.sent(),y=DT.open(h.db,e,a?"readonly":"readwrite",r),_=o(y).catch(function(N){return y.abort(N),M.reject(N)}).toPromise(),b={},_.catch(function(){}),[4,y.dt];case 3:return[2,(b.value=(A.sent(),_),b)];case 4:return E=A.sent(),C=E.name!=="FirebaseError"&&u<3,P("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),h.close(),C?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},h=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ZV=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return eo(this.Pt.delete())},t}(),ac=function(t){function e(n,r){var o=this;return(o=t.call(this,S.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Y(e,t),e}(x);JV=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),eo(r)},t.prototype.add=function(e){return P("SimpleDb","ADD",this.store.name,e,e),eo(this.store.add(e))},t.prototype.get=function(e){var n=this;return eo(this.store.get(e)).next(function(r){return r===void 0&&(r=null),P("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return P("SimpleDb","DELETE",this.store.name,e),eo(this.store.delete(e))},t.prototype.count=function(){return P("SimpleDb","COUNT",this.store.name),eo(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),o=[];return this.xt(r,function(a,u){o.push(u)}).next(function(){return o})},t.prototype.kt=function(e,n){P("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(a,u,l){return l.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var o=this.cursor(r);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new M(function(r,o){n.onerror=function(a){var u=s_(a.target.error);o(u)},n.onsuccess=function(a){var u=a.target.result;u?e(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new M(function(o,a){e.onerror=function(u){a(u.target.error)},e.onsuccess=function(u){var l=u.target.result;if(l){var h=new ZV(l),p=n(l.primaryKey,l.value,h);if(p instanceof M){var g=p.catch(function(y){return h.done(),M.reject(y)});r.push(g)}h.isDone?o():h.Dt===null?l.continue():l.continue(h.Dt)}else o()}}).next(function(){return M.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();rD=!1;iD=function(t){function e(n,r){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Y(e,t),e}(AT);a_=function(){function t(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var a=this.mutations[o];a.key.isEqual(e.key)&&RV(a,e,r[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(e.key)&&jy(u,e,this.localWriteTime);for(var o=0,a=this.mutations;o<a.length;o++){var u;(u=a[o]).key.isEqual(e.key)&&jy(u,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var o=e.get(r.key),a=o;n.applyToLocalView(a),o.isValidDocument()||a.convertToNoDocument(ue.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Se())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,function(n,r){return HA(n,r)})&&ks(this.baseMutations,e.baseMutations,function(n,r){return HA(n,r)})},t}(),ej=function(){function t(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return t.from=function(e,n,r){J(e.mutations.length===r.length);for(var o=dT(),a=e.mutations,u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new t(e,n,r,o)},t}(),Ld=function(){function t(e,n,r,o,a,u,l){a===void 0&&(a=ue.min()),u===void 0&&(u=ue.min()),l===void 0&&(l=Gt.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),TT=function(t){this.Lt=t};tj=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return sD(e).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:qs(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return sD(e).put({bundleId:(r=n).id,createTime:Bs(At(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return aD(e).get(n).next(function(r){if(r)return{name:(o=r).name,query:c_(o.bundledQuery),readTime:qs(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return aD(e).put(function(r){return{name:r.name,readTime:Bs(At(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();nj=function(){function t(){this.Bt=new l_}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),M.resolve()},t.prototype.getCollectionParents=function(e,n){return M.resolve(this.Bt.getEntries(n))},t}(),l_=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new at(ye.comparator),a=!o.has(r);return this.index[n]=o.add(r),a},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new at(ye.comparator)).toArray()},t}(),rj=function(){function t(){this.qt=new l_}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),a=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:zn(a)};return uD(e).put(u)}return M.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],o=IDBKeyRange.bound([n,""],[GD(n),""],!1,!0);return uD(e).Nt(o).next(function(a){for(var u=0,l=a;u<l.length;u++){var h=l[u];if(h.collectionId!==n)break;r.push(Sr(h.parent))}return r})},t}();cD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ir=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);ij=function(){function t(e,n,r,o){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,r,o){return J(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,o)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qr(e).$t({index:ke.userMutationsIndex,range:r},function(o,a,u){n=!1,u.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,o){var a=this,u=Ts(e),l=Qr(e);return l.add({}).next(function(h){J(typeof h=="number");for(var p=new a_(h,n,r,o),g=function(N,q,B){var oe=B.baseMutations.map(function(L){return Ed(N.Lt,L)}),he=B.mutations.map(function(L){return Ed(N.Lt,L)});return new ke(q,B.batchId,B.localWriteTime.toMillis(),oe,he)}(a.R,a.userId,p),y=[],_=new at(function(N,q){return fe(N.canonicalString(),q.canonicalString())}),b=0,E=o;b<E.length;b++){var C=E[b],A=xt.key(a.userId,C.key.path,h);_=_.add(C.key.path.popLast()),y.push(l.put(g)),y.push(u.put(A,xt.PLACEHOLDER))}return _.forEach(function(N){y.push(a.Ut.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(function(){a.Kt[h]=p.keys()}),M.waitFor(y).next(function(){return p})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return Qr(e).get(n).next(function(o){return o?(J(o.userId===r.userId),Ds(r.R,o)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?M.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var a=o.keys();return r.Kt[n]=a,a}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,o=n+1,a=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Qr(e).$t({index:ke.userMutationsIndex,range:a},function(l,h,p){h.userId===r.userId&&(J(h.batchId>=o),u=Ds(r.R,h)),p.done()}).next(function(){return u})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Qr(e).$t({index:ke.userMutationsIndex,range:n,reverse:!0},function(o,a,u){r=a.batchId,u.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qr(e).Nt(ke.userMutationsIndex,r).next(function(o){return o.map(function(a){return Ds(n.R,a)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,o=xt.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(o),u=[];return Ts(e).$t({range:a},function(l,h,p){var g=l[0],y=l[1],_=l[2],b=Sr(y);if(g===r.userId&&n.path.isEqual(b))return Qr(e).get(_).next(function(E){if(!E)throw W();J(E.userId===r.userId),u.push(Ds(r.R,E))});p.done()}).next(function(){return u})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,o=new at(fe),a=[];return n.forEach(function(u){var l=xt.prefixForPath(r.userId,u.path),h=IDBKeyRange.lowerBound(l),p=Ts(e).$t({range:h},function(g,y,_){var b=g[0],E=g[1],C=g[2],A=Sr(E);b===r.userId&&u.path.isEqual(A)?o=o.add(C):_.done()});a.push(p)}),M.waitFor(a).next(function(){return r.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,o=n.path,a=o.length+1,u=xt.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),h=new at(fe);return Ts(e).$t({range:l},function(p,g,y){var _=p[0],b=p[1],E=p[2],C=Sr(b);_===r.userId&&o.isPrefixOf(C)?C.length===a&&(h=h.add(E)):y.done()}).next(function(){return r.Wt(e,h)})},t.prototype.Wt=function(e,n){var r=this,o=[],a=[];return n.forEach(function(u){a.push(Qr(e).get(u).next(function(l){if(l===null)throw W();J(l.userId===r.userId),o.push(Ds(r.R,l))}))}),M.waitFor(a).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var r=this;return kT(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),M.forEach(o,function(a){return r.referenceDelegate.markPotentiallyOrphaned(e,a)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return M.resolve();var o=IDBKeyRange.lowerBound(xt.prefixForUser(n.userId)),a=[];return Ts(e).$t({range:o},function(u,l,h){if(u[0]===n.userId){var p=Sr(u[1]);a.push(p)}else h.done()}).next(function(){J(a.length===0)})})},t.prototype.containsKey=function(e,n){return xT(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return NT(e).get(this.userId).next(function(r){return r||new ii(n.userId,-1,"")})},t}();Id=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),oj=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var o=new Id(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return ue.fromTimestamp(new Ht(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var o=this;return this.Xt(e).next(function(a){return a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),o.Zt(e,a)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return As(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(o){return J(o.targetCount>0),o.targetCount-=1,r.Zt(e,o)})},t.prototype.removeTargets=function(e,n,r){var o=this,a=0,u=[];return As(e).$t(function(l,h){var p=oc(h);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(a++,u.push(o.removeTargetData(e,p)))}).next(function(){return M.waitFor(u)}).next(function(){return a})},t.prototype.forEachTarget=function(e,n){return As(e).$t(function(r,o){var a=oc(o);n(a)})},t.prototype.Xt=function(e){return lD(e).get(gn.key).next(function(n){return J(n!==null),n})},t.prototype.Zt=function(e,n){return lD(e).put(gn.key,n)},t.prototype.te=function(e,n){return As(e).put(OT(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=_c(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),a=null;return As(e).$t({range:o,index:Jt.queryTargetsIndexName},function(u,l,h){var p=oc(l);xd(n,p.target)&&(a=p,h.done())}).next(function(){return a})},t.prototype.addMatchingKeys=function(e,n,r){var o=this,a=[],u=ti(e);return n.forEach(function(l){var h=zn(l.path);a.push(u.put(new Dt(r,h))),a.push(o.referenceDelegate.addReference(e,r,l))}),M.waitFor(a)},t.prototype.removeMatchingKeys=function(e,n,r){var o=this,a=ti(e);return M.forEach(n,function(u){var l=zn(u.path);return M.waitFor([a.delete([r,l]),o.referenceDelegate.removeReference(e,r,u)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=ti(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=ti(e),a=Se();return o.$t({range:r,Ft:!0},function(u,l,h){var p=Sr(u[1]),g=new K(p);a=a.add(g)}).next(function(){return a})},t.prototype.containsKey=function(e,n){var r=zn(n.path),o=IDBKeyRange.bound([r],[GD(r)],!1,!0),a=0;return ti(e).$t({index:Dt.documentTargetsIndex,Ft:!0,range:o},function(u,l,h){var p=u[0];u[1],p!==0&&(a++,h.done())}).next(function(){return a>0})},t.prototype.lt=function(e,n){return As(e).get(n).next(function(r){return r?oc(r):null})},t}();sj=function(){function t(e){this.ne=e,this.buffer=new at(hD),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();hD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),aj=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;P("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return O(n,void 0,void 0,function(){var o;return R(this,function(a){switch(a.label){case 0:this.ce=null,this.oe=!0,a.label=1;case 1:return a.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return a.sent(),[3,7];case 3:return ho(o=a.sent())?(P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,fo(o)];case 5:a.sent(),a.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return a.sent(),[2]}})})})},t}(),uj=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return M.resolve(vn.o);var o=new sj(n);return this.ae.forEachTarget(e,function(a){return o.re(a.sequenceNumber)}).next(function(){return r.ae.le(e,function(a){return o.re(a)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(cD)):this.getCacheSize(e).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),cD):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,o,a,u,l,h,p,g=this,y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(_){return _>g.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+_),o=g.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),g.nthSequenceNumber(e,o)}).next(function(_){return r=_,l=Date.now(),g.removeTargets(e,r,n)}).next(function(_){return a=_,h=Date.now(),g.removeOrphanedDocuments(e,r)}).next(function(_){return p=Date.now(),Py()<=ve.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-y)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+a+" targets in "+(h-l)+`ms
	Removed `+_+" documents in "+(p-h)+`ms
Total Duration: `+(p-y)+"ms"),M.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_})})},t}(),cj=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,o){return new uj(r,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(o){return r+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,o){return n(o)})},t.prototype.addReference=function(e,n,r){return ad(e,r)},t.prototype.removeReference=function(e,n,r){return ad(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return ad(e,n)},t.prototype._e=function(e,n){return function(r,o){var a=!1;return NT(r).Ot(function(u){return xT(r,u,o).next(function(l){return l&&(a=!0),M.resolve(!l)})}).next(function(){return a})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[],u=0;return this.we(e,function(l,h){if(h<=n){var p=r._e(e,l).next(function(g){if(!g)return u++,o.getEntry(e,l).next(function(){return o.removeEntry(l),ti(e).delete([0,zn(l.path)])})});a.push(p)}}).next(function(){return M.waitFor(a)}).next(function(){return o.apply(e)}).next(function(){return u})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return ad(e,n)},t.prototype.we=function(e,n){var r,o=ti(e),a=vn.o;return o.$t({index:Dt.documentTargetsIndex},function(u,l){var h=u[0];u[1];var p=l.path,g=l.sequenceNumber;h===0?(a!==vn.o&&n(new K(Sr(r)),a),a=g,r=p):a=vn.o}).next(function(){a!==vn.o&&n(new K(Sr(r)),a)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();Qs=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var o=0,a=r;o<a.length;o++){var u=a[o],l=u[0],h=u[1];if(this.equalsFn(l,e))return h}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(var a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},t.prototype.forEach=function(e){co(this.inner,function(n,r){for(var o=0,a=r;o<a.length;o++){var u=a[o],l=u[0],h=u[1];e(l,h)}})},t.prototype.isEmpty=function(){return WD(this.inner)},t}(),MT=function(){function t(){this.changes=new Qs(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:ue.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Tt.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?M.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),lj=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Jr(e).put(ud(n),r)},t.prototype.removeEntry=function(e,n){var r=Jr(e),o=ud(n);return r.delete(o)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,r.me(e,o)})},t.prototype.getEntry=function(e,n){var r=this;return Jr(e).get(ud(n)).next(function(o){return r.ye(n,o)})},t.prototype.ge=function(e,n){var r=this;return Jr(e).get(ud(n)).next(function(o){return{document:r.ye(n,o),size:Cd(o)}})},t.prototype.getEntries=function(e,n){var r=this,o=Dn();return this.pe(e,n,function(a,u){var l=r.ye(a,u);o=o.insert(a,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var r=this,o=Dn(),a=new Lt(K.comparator);return this.pe(e,n,function(u,l){var h=r.ye(u,l);o=o.insert(u,h),a=a.insert(u,Cd(l))}).next(function(){return{documents:o,Te:a}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return M.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),a=n.getIterator(),u=a.getNext();return Jr(e).$t({range:o},function(l,h,p){for(var g=K.fromSegments(l);u&&K.comparator(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)r(u,null),u=a.hasNext()?a.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var o=this,a=Dn(),u=n.path.length+1,l={};if(r.isEqual(ue.min())){var h=n.path.toArray();l.range=IDBKeyRange.lowerBound(h)}else{var p=n.path.toArray(),g=u_(r);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=He.collectionReadTimeIndex}return Jr(e).$t(l,function(y,_,b){if(y.length===u){var E=qy(o.R,_);n.path.isPrefixOf(E.key.path)?bc(n,E)&&(a=a.insert(E.key,E)):b.done()}}).next(function(){return a})},t.prototype.newChangeBuffer=function(e){return new hj(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return dD(e).get(or.key).next(function(n){return J(!!n),n})},t.prototype.me=function(e,n){return dD(e).put(or.key,n)},t.prototype.ye=function(e,n){if(n){var r=qy(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ue.min()))return r}return Tt.newInvalidDocument(e)},t}(),hj=function(t){function e(n,r){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Qs(function(a){return a.toString()},function(a,u){return a.isEqual(u)}),o}return Y(e,t),e.prototype.applyChanges=function(n){var r=this,o=[],a=0,u=new at(function(l,h){return fe(l.canonicalString(),h.canonicalString())});return this.changes.forEach(function(l,h){var p=r.Ae.get(l);if(h.document.isValidDocument()){var g=oD(r.Ie.R,h.document,r.getReadTime(l));u=u.add(l.path.popLast());var y=Cd(g);a+=y-p,o.push(r.Ie.addEntry(n,l,g))}else if(a-=p,r.trackRemovals){var _=oD(r.Ie.R,Tt.newNoDocument(l,ue.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,_))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,a)),M.waitFor(o)},e.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(a){return o.Ae.set(r,a.size),a.document})},e.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(a){var u=a.documents;return a.Te.forEach(function(l,h){o.Ae.set(l,h)}),u})},e}(MT);dj=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,o){var a=this;J(r<o&&r>=0&&o<=11);var u=new DT("createOrUpgrade",n);r<1&&o>=1&&(function(h){h.createObjectStore(pn.store)}(e),function(h){h.createObjectStore(ii.store,{keyPath:ii.keyPath}),h.createObjectStore(ke.store,{keyPath:ke.keyPath,autoIncrement:!0}).createIndex(ke.userMutationsIndex,ke.userMutationsKeyPath,{unique:!0}),h.createObjectStore(xt.store)}(e),fD(e),function(h){h.createObjectStore(He.store)}(e));var l=M.resolve();return r<3&&o>=3&&(r!==0&&(function(h){h.deleteObjectStore(Dt.store),h.deleteObjectStore(Jt.store),h.deleteObjectStore(gn.store)}(e),fD(e)),l=l.next(function(){return function(h){var p=h.store(gn.store),g=new gn(0,0,ue.min().toTimestamp(),0);return p.put(gn.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(h,p){return p.store(ke.store).Nt().next(function(g){h.deleteObjectStore(ke.store),h.createObjectStore(ke.store,{keyPath:ke.keyPath,autoIncrement:!0}).createIndex(ke.userMutationsIndex,ke.userMutationsKeyPath,{unique:!0});var y=p.store(ke.store),_=g.map(function(b){return y.put(b)});return M.waitFor(_)})}(e,u)})),l=l.next(function(){(function(h){h.createObjectStore(Ar.store,{keyPath:Ar.keyPath})})(e)})),r<5&&o>=5&&(l=l.next(function(){return a.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(h){h.createObjectStore(or.store)}(e),a.be(u)})),r<7&&o>=7&&(l=l.next(function(){return a.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return a.Pe(e,u)})),r<9&&o>=9&&(l=l.next(function(){(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e),function(h){var p=h.objectStore(He.store);p.createIndex(He.readTimeIndex,He.readTimeIndexPath,{unique:!1}),p.createIndex(He.collectionReadTimeIndex,He.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return a.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(h){h.createObjectStore(Vs.store,{keyPath:Vs.keyPath})})(e),function(h){h.createObjectStore(js.store,{keyPath:js.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(He.store).$t(function(r,o){n+=Cd(o)}).next(function(){var r=new or(n);return e.store(or.store).put(or.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(ii.store),o=e.store(ke.store);return r.Nt().next(function(a){return M.forEach(a,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(ke.userMutationsIndex,l).next(function(h){return M.forEach(h,function(p){J(p.userId===u.userId);var g=Ds(n.R,p);return kT(e,u.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Dt.store),r=e.store(He.store);return e.store(gn.store).get(gn.key).next(function(o){var a=[];return r.$t(function(u,l){var h=new ye(u),p=function(g){return[0,zn(g)]}(h);a.push(n.get(p).next(function(g){return g?M.resolve():function(y){return n.put(new Dt(0,zn(y),o.highestListenSequenceNumber))}(h)}))}).next(function(){return M.waitFor(a)})})},t.prototype.Pe=function(e,n){e.createObjectStore(ro.store,{keyPath:ro.keyPath});var r=n.store(ro.store),o=new l_,a=function(u){if(o.add(u)){var l=u.lastSegment(),h=u.popLast();return r.put({collectionId:l,parent:zn(h)})}};return n.store(He.store).$t({Ft:!0},function(u,l){var h=new ye(u);return a(h.popLast())}).next(function(){return n.store(xt.store).$t({Ft:!0},function(u,l){u[0];var h=u[1];u[2];var p=Sr(h);return a(p.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Jt.store);return r.$t(function(o,a){var u=oc(a),l=OT(n.R,u);return r.put(l)})},t}();ky="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fj=function(){function t(e,n,r,o,a,u,l,h,p,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=a,this.window=u,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(y){return Promise.resolve()},!t.yt())throw new x(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cj(this,o),this.Le=n+"main",this.R=new TT(h),this.Be=new Us(this.Le,11,new dj(this.R)),this.qe=new oj(this.referenceDelegate,this.R),this.Ut=new rj,this.Ue=function(y,_){return new lj(y,_)}(this.R,this.Ut),this.Ke=new tj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new x(S.FAILED_PRECONDITION,ky);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new vn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return O(n,void 0,void 0,function(){return R(this,function(o){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return O(n,void 0,void 0,function(){return R(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return O(n,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return cd(n).put(new Ar(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(ho(n))return P("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return ic(e).get(pn.key).next(function(r){return M.resolve(n.tn(r))})},t.prototype.en=function(e){return cd(e).delete(this.clientId)},t.prototype.nn=function(){return O(this,void 0,void 0,function(){var e,n,r,o,a=this;return R(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var h=en(l,Ar.store);return h.Nt().next(function(p){var g=a.rn(p,18e5),y=p.filter(function(_){return g.indexOf(_)===-1});return M.forEach(y,function(_){return h.delete(_.clientId)}).next(function(){return y})})}).catch(function(){return[]})]);case 1:if(e=u.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?M.resolve(!0):ic(e).get(pn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new x(S.FAILED_PRECONDITION,ky);return!1}}return!(!n.networkEnabled||!n.inForeground)||cd(e).Nt().next(function(o){return n.rn(o,5e3).find(function(a){if(n.clientId!==a.clientId){var u=!n.networkEnabled&&a.networkEnabled,l=!n.inForeground&&a.inForeground,h=n.networkEnabled===a.networkEnabled;if(u||l&&h)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&P("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return O(this,void 0,void 0,function(){var e=this;return R(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[pn.store,Ar.store],function(r){var o=new iD(r,vn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return cd(n).Nt().next(function(r){return e.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return ij.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var o=this;P("IndexedDbPersistence","Starting transaction:",e);var a,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,u,QV,function(l){return a=new iD(l,o.Ne?o.Ne.next():vn.o),n==="readwrite-primary"?o.Je(a).next(function(h){return!!h||o.Ye(a)}).next(function(h){if(!h)throw nt("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new x(S.FAILED_PRECONDITION,ST);return r(a)}).next(function(h){return o.Ze(a).next(function(){return h})}):o.dn(a).next(function(){return r(a)})}).then(function(l){return a.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return ic(e).get(pn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new x(S.FAILED_PRECONDITION,ky)})},t.prototype.Ze=function(e){var n=new pn(this.clientId,this.allowTabSynchronization,Date.now());return ic(e).put(pn.key,n)},t.yt=function(){return Us.yt()},t.prototype.Xe=function(e){var n=this,r=ic(e);return r.get(pn.key).next(function(o){return n.tn(o)?(P("IndexedDbPersistence","Releasing primary lease."),r.delete(pn.key)):M.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(nt("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),iS()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return P("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return nt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){nt("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();pj=function(t,e){this.progress=t,this.wn=e},PT=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return r.yn(e,n,o)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(o){for(var a=0,u=r;a<u.length;a++)u[a].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(r,o){for(var a=0,u=n;a<u.length;a++)u[a].applyToLocalView(o)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(o){return r.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return r.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):t_(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new K(n)).next(function(r){var o=Uy();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},t.prototype.In=function(e,n,r){var o=this,a=n.collectionGroup,u=Uy();return this.Ut.getCollectionParents(e,a).next(function(l){return M.forEach(l,function(h){var p=function(g,y){return new Tr(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(a));return o.An(e,p,r).next(function(g){g.forEach(function(y,_){u=u.insert(y,_)})})}).next(function(){return u})})},t.prototype.An=function(e,n,r){var o,a,u=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return a=l,u.Rn(e,a,o).next(function(h){o=h;for(var p=0,g=a;p<g.length;p++)for(var y=g[p],_=0,b=y.mutations;_<b.length;_++){var E=b[_],C=E.key,A=o.get(C);A==null&&(A=Tt.newInvalidDocument(C),o=o.insert(C,A)),jy(E,A,y.localWriteTime),A.isFoundDocument()||(o=o.remove(C))}})}).next(function(){return o.forEach(function(l,h){bc(n,h)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,r){for(var o=Se(),a=0,u=n;a<u.length;a++)for(var l=0,h=u[a].mutations;l<h.length;l++){var p=h[l];p instanceof ci&&r.get(p.key)===null&&(o=o.add(p.key))}var g=r;return this.Ue.getEntries(e,o).next(function(y){return y.forEach(function(_,b){b.isFoundDocument()&&(g=g.insert(_,b))}),g})},t}(),gj=function(){function t(e,n,r,o){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=o}return t.Pn=function(e,n){for(var r=Se(),o=Se(),a=0,u=n.docChanges;a<u.length;a++){var l=u[a];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,r,o)},t}(),LT=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,o){var a=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ue.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(u){var l=a.Cn(n,u);return(hd(n)||bd(n))&&a.Nn(n.limitType,l,o,r)?a.Dn(e,n):(Py()<=ve.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vy(n)),a.Sn.getDocumentsMatchingQuery(e,n,r).next(function(h){return l.forEach(function(p){h=h.insert(p.key,p)}),h}))})},t.prototype.Cn=function(e,n){var r=new at(tT(e));return n.forEach(function(o,a){bc(e,a)&&(r=r.add(a))}),r},t.prototype.Nn=function(e,n,r,o){if(r.size!==n.size)return!0;var a=e==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return Py()<=ve.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Vy(n)),this.Sn.getDocumentsMatchingQuery(e,n,ue.min())},t}(),mj=function(){function t(e,n,r,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new Lt(fe),this.Fn=new Qs(function(a){return _c(a)},xd),this.$n=ue.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new PT(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();Cj=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return M.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:At(r.createTime)}),M.resolve()},t.prototype.getNamedQuery=function(e,n){return M.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:c_(r.bundledQuery),readTime:At(r.readTime)}}(n)),M.resolve()},t}(),d_=function(){function t(){this.Wn=new at(pt.Gn),this.zn=new at(pt.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new pt(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(o){return r.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new pt(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(o){return r.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,r=new K(new ye([])),o=new pt(r,e),a=new pt(r,e+1),u=[];return this.zn.forEachInRange([o,a],function(l){n.Yn(l),u.push(l.key)}),u},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new K(new ye([])),r=new pt(n,e),o=new pt(n,e+1),a=Se();return this.zn.forEachInRange([r,o],function(u){a=a.add(u.key)}),a},t.prototype.containsKey=function(e){var n=new pt(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),pt=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return K.comparator(e.key,n.key)||fe(e.ns,n.ns)},t.Hn=function(e,n){return fe(e.ns,n.ns)||K.comparator(e.key,n.key)},t}(),Ij=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new at(pt.Gn)}return t.prototype.checkEmpty=function(e){return M.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,o){var a=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new a_(a,n,r,o);this._n.push(u);for(var l=0,h=o;l<h.length;l++){var p=h[l];this.rs=this.rs.add(new pt(p.key,a)),this.Ut.addToCollectionParentIndex(e,p.key.path.popLast())}return M.resolve(u)},t.prototype.lookupMutationBatch=function(e,n){return M.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,o=this.cs(r),a=o<0?0:o;return M.resolve(this._n.length>a?this._n[a]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return M.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return M.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,o=new pt(n,0),a=new pt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,a],function(l){var h=r.os(l.ns);u.push(h)}),M.resolve(u)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,o=new at(fe);return n.forEach(function(a){var u=new pt(a,0),l=new pt(a,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(h){o=o.add(h.ns)})}),M.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,o=r.length+1,a=r;K.isDocumentKey(a)||(a=a.child(""));var u=new pt(new K(a),0),l=new at(fe);return this.rs.forEachWhile(function(h){var p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(h.ns)),!0)},u),M.resolve(this.us(l))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(o){var a=n.os(o);a!==null&&r.push(a)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;J(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return M.forEach(n.mutations,function(a){var u=new pt(a.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(function(){r.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new pt(n,0),o=this.rs.firstAfterOrEqual(r);return M.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,M.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),Sj=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Lt(K.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var o=n.key,a=this.docs.get(o),u=a?a.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return M.resolve(r?r.document.clone():Tt.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,o=Dn();return n.forEach(function(a){var u=r.docs.get(a);o=o.insert(a,u?u.document.clone():Tt.newInvalidDocument(a))}),M.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var o=Dn(),a=new K(n.path.child("")),u=this.docs.getIteratorFrom(a);u.hasNext();){var l=u.getNext(),h=l.key,p=l.value,g=p.document,y=p.readTime;if(!n.path.isPrefixOf(h.path))break;y.compareTo(r)<=0||bc(n,g)&&(o=o.insert(g.key,g.clone()))}return M.resolve(o)},t.prototype.fs=function(e,n){return M.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new Aj(this)},t.prototype.getSize=function(e){return M.resolve(this.size)},t}(),Aj=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return Y(e,t),e.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(a,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(a))):r.Ie.removeEntry(a)}),M.waitFor(o)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(MT),Dj=function(){function t(e){this.persistence=e,this.ds=new Qs(function(n){return _c(n)},xd),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ws=0,this._s=new d_,this.targetCount=0,this.ys=Id.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,o){return n(o)}),M.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return M.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return M.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),M.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),M.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Id(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,M.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),M.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,M.resolve()},t.prototype.removeTargets=function(e,n,r){var o=this,a=0,u=[];return this.ds.forEach(function(l,h){h.sequenceNumber<=n&&r.get(h.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),M.waitFor(u).next(function(){return a})},t.prototype.getTargetCount=function(e){return M.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return M.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),M.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(function(u){a.push(o.markPotentiallyOrphaned(e,u))}),M.waitFor(a)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),M.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return M.resolve(r)},t.prototype.containsKey=function(e,n){return M.resolve(this._s.containsKey(n))},t}(),Tj=function(){function t(e,n){var r=this;this.gs={},this.Ne=new vn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Dj(this),this.Ut=new nj,this.Ue=function(o,a){return new Sj(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new TT(n),this.Ke=new Cj(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new Ij(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var o=this;P("MemoryPersistence","Starting transaction:",e);var a=new Rj(this.Ne.next());return this.referenceDelegate.Es(),r(a).next(function(u){return o.referenceDelegate.Ts(a).next(function(){return u})}).toPromise().then(function(u){return a.raiseOnCommittedEvent(),u})},t.prototype.Is=function(e,n){return M.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),Rj=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return Y(e,t),e}(AT),Oj=function(){function t(e){this.persistence=e,this.As=new d_,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw W()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),M.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),M.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),M.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(a){return r.vs.add(a.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(a){a.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.vs,function(o){var a=K.fromPath(o);return n.Ps(e,a).next(function(u){u||r.removeEntry(a)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return M.or([function(){return M.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),St=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");mD=function(){function t(e,n,r,o){this.user=e,this.batchId=n,this.state=r,this.error=o}return t.Vs=function(e,n,r){var o,a=JSON.parse(r),u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string")&&(o=new x(a.error.code,a.error.message)),u?new t(e,n,a.state,o):(nt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Ny=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,o=JSON.parse(n),a=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new x(o.error.code,o.error.message)),a?new t(e,o.state,r):(nt("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),vD=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,a=Pd(),u=0;o&&u<r.activeTargetIds.length;++u)o=YD(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return o?new t(e,a):(nt("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),kj=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(nt("SharedClientState","Failed to parse online state: "+e),null)},t}(),zy=function(){function t(){this.activeTargetIds=Pd()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),My=function(){function t(e,n,r,o,a){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Lt(fe),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Os=pD(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new zy),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return O(this,void 0,void 0,function(){var e,n,r,o,a,u,l,h,p,g,y,_=this;return R(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,r=e;n<r.length;n++)(o=r[n])!==this.Ns&&(a=this.getItem(pD(this.persistenceKey,o)))&&(u=vD.Vs(o,a))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(h=this.js(l))&&this.Ws(h),p=0,g=this.$s;p<g.length;p++)y=g[p],this.ks(y);return this.$s=[],this.window.addEventListener("pagehide",function(){return _.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(xy(this.persistenceKey,e));if(r){var o=Ny.Vs(e,r);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(xy(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var o=this;n.forEach(function(a){o.Hs(a)}),this.currentUser=e,r.forEach(function(a){o.addPendingMutation(a)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return P("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){P("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){P("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(P("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return O(n,void 0,void 0,function(){var o,a,u,l,h,p;return R(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(a=this.ni(r.key,r.newValue))return[2,this.ei(a.clientId,a)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(h=this.js(r.newValue)))return[2,this.Ws(h)]}else if(r.key===this.Ms)(p=function(y){var _=vn.o;if(y!=null)try{var b=JSON.parse(y);J(typeof b=="number"),_=b}catch(E){nt("SharedClientState","Failed to read sequence number from WebStorage",E)}return _}(r.newValue))!==vn.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var o=new mD(this.currentUser,e,n,r),a=gD(this.persistenceKey,this.currentUser,e);this.setItem(a,o.Ss())},t.prototype.Hs=function(e){var n=gD(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var o=xy(this.persistenceKey,e),a=new Ny(e,n,r);this.setItem(o,a.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return vD.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),o=Number(r[1]),a=r[2]!==void 0?r[2]:null;return mD.Vs(new St(a),o,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),o=Number(r[1]);return Ny.Vs(o,n)},t.prototype.js=function(e){return kj.Vs(e)},t.prototype.ii=function(e){return O(this,void 0,void 0,function(){return R(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(P("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),a=this.Gs(this.Fs),u=this.Gs(o),l=[],h=[];return u.forEach(function(p){a.has(p)||l.push(p)}),a.forEach(function(p){u.has(p)||h.push(p)}),this.syncEngine.hi(l,h).then(function(){r.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Pd();return e.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),zT=function(){function t(){this.li=new zy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new zy,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),xj=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),yD=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),Nj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mj=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),Pj=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Y(e,t),e.prototype.Fi=function(n,r,o,a){return new Promise(function(u,l){var h=new PA;h.listenOnce(xA.COMPLETE,function(){try{switch(h.getLastErrorCode()){case od.NO_ERROR:var g=h.getResponseJson();P("Connection","XHR received:",JSON.stringify(g)),u(g);break;case od.TIMEOUT:P("Connection",'RPC "'+n+'" timed out'),l(new x(S.DEADLINE_EXCEEDED,"Request time out"));break;case od.HTTP_ERROR:var y=h.getStatus();if(P("Connection",'RPC "'+n+'" failed with status:',y,"response text:",h.getResponseText()),y>0){var _=h.getResponseJson().error;if(_&&_.status&&_.message){var b=function(E){var C=E.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(C)>=0?C:S.UNKNOWN}(_.status);l(new x(b,_.message))}else l(new x(S.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new x(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{P("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(a);h.send(r,"POST",p,o,15)})},e.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],a=OA(),u=kA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new MA({})),this.ki(l.initMessageHeaders,r),QI()||eS()||tS()||nS()||rS()||JI()||(l.httpHeadersOverwriteParam="$httpHeaders");var h=o.join("");P("Connection","Creating WebChannel: "+h,l);var p=a.createWebChannel(h,l),g=!1,y=!1,_=new Mj({Ei:function(E){y?P("Connection","Not sending because WebChannel is closed:",E):(g||(P("Connection","Opening WebChannel transport."),p.open(),g=!0),P("Connection","WebChannel sending:",E),p.send(E))},Ti:function(){return p.close()}}),b=function(E,C,A){E.listen(C,function(N){try{A(N)}catch(q){setTimeout(function(){throw q},0)}})};return b(p,rc.EventType.OPEN,function(){y||P("Connection","WebChannel transport opened.")}),b(p,rc.EventType.CLOSE,function(){y||(y=!0,P("Connection","WebChannel transport closed"),_.Vi())}),b(p,rc.EventType.ERROR,function(E){y||(y=!0,md("Connection","WebChannel transport errored:",E),_.Vi(new x(S.UNAVAILABLE,"The operation could not be completed")))}),b(p,rc.EventType.MESSAGE,function(E){var C;if(!y){var A=E.data[0];J(!!A);var N=A,q=N.error||((C=N[0])===null||C===void 0?void 0:C.error);if(q){P("Connection","WebChannel received error:",q);var B=q.status,oe=function(L){var xe=et[L];if(xe!==void 0)return hT(xe)}(B),he=q.message;oe===void 0&&(oe=S.INTERNAL,he="Unknown error status: "+B+" with message "+q.message),y=!0,_.Vi(new x(oe,he)),p.close()}else P("Connection","WebChannel received:",A),_.Si(A)}}),b(u,NA.STAT_EVENT,function(E){E.stat===Ry.PROXY?P("Connection","Detected buffering proxy"):E.stat===Ry.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(function(){_.Pi()},0),_},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,o){var a=this.xi(e,n);P("RestConnection","Sending: ",a,r);var u={};return this.ki(u,o),this.Fi(e,a,u,r).then(function(l){return P("RestConnection","Received: ",l),l},function(l){throw md("RestConnection",e+" failed with error: ",l,"url: ",a,"request:",r),l})},t.prototype.$i=function(e,n,r,o){return this.Ni(e,n,r,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=Nj[e];return this.Di+"/v1/"+n+":"+r},t}());f_=function(){function t(e,n,r,o,a){r===void 0&&(r=1e3),o===void 0&&(o=1.5),a===void 0&&(a=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=a,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),a=Math.max(0,r-o);a>0&&P("ExponentialBackoff","Backing off for "+a+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,a,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),GT=function(){function t(e,n,r,o,a,u){this.Se=e,this.zi=r,this.Hi=o,this.Ji=a,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new f_(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return O(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return O(this,void 0,void 0,function(){return R(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return O(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===S.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){e.Yi===r&&e.lr(o)},function(o){n(function(){var a=new x(S.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(a)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return O(e,void 0,void 0,function(){return R(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return P("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Lj=function(t){function e(n,r,o,a,u){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=a,l}return Y(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(a,u){var l;if("targetChange"in u){u.targetChange;var h=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:W()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],g=function(A,N){return A.I?(J(N===void 0||typeof N=="string"),Gt.fromBase64String(N||"")):(J(N===void 0||N instanceof Uint8Array),Gt.fromUint8Array(N||new Uint8Array))}(a,u.targetChange.resumeToken),y=(_=u.targetChange.cause)&&function(A){var N=A.code===void 0?S.UNKNOWN:hT(A.code);return new x(N,A.message||"")}(_);l=new pT(h,p,g,y||null)}else if("documentChange"in u){u.documentChange,(h=u.documentChange).document,h.document.name,h.document.updateTime,p=sr(a,h.document.name),g=At(h.document.updateTime);var _=new mn({mapValue:{fields:h.document.fields}}),b=(y=Tt.newFoundDocument(p,g,_),h.targetIds||[]),E=h.removedTargetIds||[];l=new fd(b,E,y.key,y)}else if("documentDelete"in u)u.documentDelete,(h=u.documentDelete).document,p=sr(a,h.document),g=h.readTime?At(h.readTime):ue.min(),_=Tt.newNoDocument(p,g),y=h.removedTargetIds||[],l=new fd([],y,_.key,_);else if("documentRemove"in u)u.documentRemove,(h=u.documentRemove).document,p=sr(a,h.document),g=h.removedTargetIds||[],l=new fd([],g,p,null);else{if(!("filter"in u))return W();u.filter;var C=u.filter;C.targetId,h=C.count||0,p=new kV(h),g=C.targetId,l=new fT(g,p)}return l}(this.R,n),o=function(a){if(!("targetChange"in a))return ue.min();var u=a.targetChange;return u.targetIds&&u.targetIds.length?ue.min():u.readTime?At(u.readTime):ue.min()}(n);return this.listener._r(r,o)},e.prototype.mr=function(n){var r={};r.database=pc(this.R),r.addTarget=function(a,u){var l,h=u.target;return(l=_d(h)?{documents:wT(a,h)}:{query:bT(a,h)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=gT(a,u.resumeToken):u.snapshotVersion.compareTo(ue.min())>0&&(l.readTime=dc(a,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(a,u){var l=function(h,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return W()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=pc(this.R),r.removeTarget=n,this.cr(r)},e}(GT),Fj=function(t){function e(n,r,o,a,u){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=a,l.gr=!1,l}return Y(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(J(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(a,u){return a&&a.length>0?(J(u!==void 0),a.map(function(l){return function(h,p){var g=h.updateTime?At(h.updateTime):At(p);return g.isEqual(ue.min())&&(g=At(p)),new TV(g,h.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=At(n.commitTime);return this.listener.Tr(o,r)}return J(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=pc(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(a){return Ed(r.R,a)})};this.cr(o)},e}(GT),Vj=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).credentials=n,a.Hi=r,a.R=o,a.Rr=!1,a}return Y(e,t),e.prototype.br=function(){if(this.Rr)throw new x(S.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,o){var a=this;return this.br(),this.credentials.getToken().then(function(u){return a.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===S.UNAUTHENTICATED&&a.credentials.invalidateToken(),u):new x(S.UNKNOWN,u.toString())})},e.prototype.$i=function(n,r,o){var a=this;return this.br(),this.credentials.getToken().then(function(u){return a.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===S.UNAUTHENTICATED&&a.credentials.invalidateToken(),u):new x(S.UNKNOWN,u.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),jj=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(nt(n),this.Vr=!1):P("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),Uj=function(t,e,n,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return O(a,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return li(this)?(P("RemoteStore","Restarting streams for network reachability change."),[4,function(h){return O(this,void 0,void 0,function(){var p;return R(this,function(g){switch(g.label){case 0:return(p=j(h)).Or.add(4),[4,Zs(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Sc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new jj(n,r)};$j=function(){function t(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return t.createAndSchedule=function(e,n,r,o,a){var u=new t(e,n,Date.now()+r,o,a);return u.start(r),u},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();QT=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||K.comparator(n.key,r.key)}:function(n,r){return K.comparator(n.key,r.key)},this.keyedMap=Uy(),this.sortedSet=new Lt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),_D=function(){function t(){this.Qr=new Lt(K.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):W():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Dd=function(){function t(e,n,r,o,a,u,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=h}return t.fromInitialDocuments=function(e,n,r,o){var a=[];return n.forEach(function(u){a.push({type:0,doc:u})}),new t(e,n,QT.emptySet(n),a,r,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},t}(),Yj=function(){this.Wr=void 0,this.listeners=[]},Xj=function(){this.queries=new Qs(function(t){return eT(t)},wc),this.onlineState="Unknown",this.Gr=new Set};w_=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=e.docChanges;r<o.length;r++){var a=o[r];a.type!==3&&n.push(a)}e=new Dd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),u=!0):this.eo(e,this.onlineState)&&(this.no(e),u=!0),this.Xr=e,u},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),Jj=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),wD=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return sr(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?_T(this.R,e.document,!1):Tt.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return At(e)},t}(),nH=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=eU(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new wD(this.R),o=0,a=e;o<a.length;o++){var u=a[o];if(u.metadata.queries)for(var l=r.qn(u.metadata.name),h=0,p=u.metadata.queries;h<p.length;h++){var g=p[h],y=(n.get(g)||Se()).add(l);n.set(g,y)}}return n},t.prototype.complete=function(){return O(this,void 0,void 0,function(){var e,n,r,o,a;return R(this,function(u){switch(u.label){case 0:return[4,bj(this.localStore,new wD(this.R),this.documents,this.ro.id)];case 1:e=u.sent(),n=this.co(this.documents),r=0,o=this.queries,u.label=2;case 2:return r<o.length?(a=o[r],[4,Ej(this.localStore,a,n.get(a.name))]):[3,5];case 3:u.sent(),u.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pj(Object.assign({},this.progress),e))]}})})},t}();ZT=function(t){this.key=t},JT=function(t){this.key=t},eR=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Se(),this.mutatedKeys=Se(),this.lo=tT(e),this.fo=new QT(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,o=n?n.mo:new _D,a=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=a,h=!1,p=hd(this.query)&&a.size===this.query.limit?a.last():null,g=bd(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(function(_,b){var E=a.get(_),C=bc(r.query,b)?b:null,A=!!E&&r.mutatedKeys.has(E.key),N=!!C&&(C.hasLocalMutations||r.mutatedKeys.has(C.key)&&C.hasCommittedMutations),q=!1;E&&C?E.data.isEqual(C.data)?A!==N&&(o.track({type:3,doc:C}),q=!0):r.yo(E,C)||(o.track({type:2,doc:C}),q=!0,(p&&r.lo(C,p)>0||g&&r.lo(C,g)<0)&&(h=!0)):!E&&C?(o.track({type:0,doc:C}),q=!0):E&&!C&&(o.track({type:1,doc:E}),q=!0,(p||g)&&(h=!0)),q&&(C?(l=l.add(C),u=N?u.add(_):u.delete(_)):(l=l.delete(_),u=u.delete(_)))}),hd(this.query)||bd(this.query))for(;l.size>this.query.limit;){var y=hd(this.query)?l.last():l.first();l=l.delete(y.key),u=u.delete(y.key),o.track({type:1,doc:y})}return{fo:l,mo:o,Nn:h,mutatedKeys:u}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var o=this,a=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var u=e.mo.jr();u.sort(function(g,y){return function(_,b){var E=function(C){switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return E(_)-E(b)}(g.type,y.type)||o.lo(g.doc,y.doc)}),this.po(r);var l=n?this.Eo():[],h=this.ho.size===0&&this.current?1:0,p=h!==this.ao;return this.ao=h,u.length!==0||p?{snapshot:new Dd(this.query,e.fo,a,u,e.mutatedKeys,h===0,p,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new _D,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Se(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var r=[];return n.forEach(function(o){e.ho.has(o)||r.push(new JT(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new ZT(o))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Se();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Dd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),tU=function(t,e,n){this.query=t,this.targetId=e,this.view=n},nU=function(t){this.key=t,this.bo=!1},rU=function(){function t(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Qs(function(l){return eT(l)},wc),this.Vo=new Map,this.So=new Set,this.Do=new Lt(K.comparator),this.Co=new Map,this.No=new d_,this.xo={},this.ko=new Map,this.Fo=Id.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();iR=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return O(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this.R=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return FT(this.persistence,new LT,e.initialUser,this.R)},t.prototype.qo=function(e){return new Tj(Oj.bs,this.R)},t.prototype.Bo=function(e){return new zT},t.prototype.terminate=function(){return O(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),oR=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).Qo=n,a.cacheSizeBytes=r,a.forceOwnership=o,a.synchronizeTabs=!1,a}return Y(e,t),e.prototype.initialize=function(n){return O(this,void 0,void 0,function(){var r=this;return R(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,wj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,A_(this.Qo.syncEngine)];case 4:return o.sent(),[4,Js(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return FT(this.persistence,new LT,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new aj(r,n.asyncQueue)},e.prototype.qo=function(n){var r=h_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new fj(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,HT(),pd(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new zT},e}(iR),bU=function(t){function e(n,r){var o=this;return(o=t.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Y(e,t),e.prototype.initialize=function(n){return O(this,void 0,void 0,function(){var r,o=this;return R(this,function(a){switch(a.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return a.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof My?(this.sharedClientState.syncEngine={ui:mU.bind(null,r),ai:_U.bind(null,r),hi:wU.bind(null,r),fn:yU.bind(null,r),ci:gU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:a.sent(),a.label=3;case 3:return[4,this.persistence.He(function(u){return O(o,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return[4,vU(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return a.sent(),[2]}})})},e.prototype.Bo=function(n){var r=HT();if(!My.yt(r))throw new x(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=h_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new My(r,n.asyncQueue,o,n.clientId,n.initialUser)},e}(oR),Wy=function(){function t(){}return t.prototype.initialize=function(e,n){return O(this,void 0,void 0,function(){var r=this;return R(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(a){return bD(r.syncEngine,a,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dU.bind(null,this.syncEngine),[4,Hy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new Xj},t.prototype.createDatastore=function(e){var n,r=Fd(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new Pj(n));return function(a,u,l){return new Vj(a,u,l)}(e.credentials,o,r)},t.prototype.createRemoteStore=function(e){var n,r,o,a,u,l=this;return n=this.localStore,r=this.datastore,o=e.asyncQueue,a=function(h){return bD(l.syncEngine,h,0)},u=yD.yt()?new yD:new xj,new Uj(n,r,o,a,u)},t.prototype.createSyncEngine=function(e,n){return function(r,o,a,u,l,h,p){var g=new rU(r,o,a,u,l,h);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return O(this,void 0,void 0,function(){var n;return R(this,function(r){switch(r.label){case 0:return n=j(e),P("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Zs(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();jd=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),rH=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new Pt,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?r.metadata.resolve(o.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(o?.payload)))},function(o){return r.metadata.reject(o)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return O(this,void 0,void 0,function(){return R(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return O(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return O(this,void 0,void 0,function(){var e,n,r,o;return R(this,function(a){switch(a.label){case 0:return[4,this.Jo()];case 1:return(e=a.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return o=a.sent(),[2,new Jj(JSON.parse(o),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e===123})},t.prototype.Jo=function(){return O(this,void 0,void 0,function(){var e,n;return R(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return O(this,void 0,void 0,function(){var n;return R(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return O(this,void 0,void 0,function(){var e,n;return R(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),EU=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return O(this,void 0,void 0,function(){var n,r=this;return R(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(a,u){return O(this,void 0,void 0,function(){var l,h,p,g,y,_;return R(this,function(b){switch(b.label){case 0:return l=j(a),h=pc(l.R)+"/documents",p={documents:u.map(function(E){return fc(l.R,E)})},[4,l.$i("BatchGetDocuments",h,p)];case 1:return g=b.sent(),y=new Map,g.forEach(function(E){var C=function(A,N){return"found"in N?function(q,B){J(!!B.found),B.found.name,B.found.updateTime;var oe=sr(q,B.found.name),he=At(B.found.updateTime),L=new mn({mapValue:{fields:B.found.fields}});return Tt.newFoundDocument(oe,he,L)}(A,N):"missing"in N?function(q,B){J(!!B.missing),J(!!B.readTime);var oe=sr(q,B.missing),he=At(B.readTime);return Tt.newNoDocument(oe,he)}(A,N):W()}(l.R,E);y.set(C.key.toString(),C)}),_=[],[2,(u.forEach(function(E){var C=y.get(E.toString());J(!!C),_.push(C)}),_)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(a){return r.recordVersion(a)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Ic(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return O(this,void 0,void 0,function(){var e,n=this;return R(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,a){var u=K.fromPath(a);n.mutations.push(new n_(u,n.precondition(u)))}),[4,function(o,a){return O(this,void 0,void 0,function(){var u,l,h;return R(this,function(p){switch(p.label){case 0:return u=j(o),l=pc(u.R)+"/documents",h={writes:a.map(function(g){return Ed(u.R,g)})},[4,u.Ni("Commit",l,h)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw W();n=ue.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new x(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Mt.updateTime(n):Mt.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new x(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(n)}return Mt.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),CU=function(){function t(e,n,r,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new f_(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return O(e,void 0,void 0,function(){var n,r,o=this;return R(this,function(a){return n=new EU(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!lo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!lT(n)}return!1},t}(),IU=function(){function t(e,n,r){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=St.UNAUTHENTICATED,this.clientId=HD.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(a){return O(o,void 0,void 0,function(){return R(this,function(u){switch(u.label){case 0:return P("FirestoreClient","Received user=",a.uid),[4,this.credentialListener(a)];case 1:return u.sent(),this.user=a,[2]}})})})}return t.prototype.getConfiguration=function(){return O(this,void 0,void 0,function(){return R(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new x(S.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return O(e,void 0,void 0,function(){var r,o;return R(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:a.sent(),a.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=a.sent(),o=ta(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();SU=function(t,e,n,r,o,a,u,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=l},Td=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),DD=new Map,lR=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},TD=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(St.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),AU=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),DU=function(){function t(e){var n=this;this.currentUser=St.UNAUTHENTICATED,this.oc=new Pt,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){P("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?r(o):(P("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return e.cc!==n?(P("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(J(typeof o.accessToken=="string"),new lR(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return O(r,void 0,void 0,function(){return R(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return J(e===null||typeof e=="string"),new St(e)},t}(),TU=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=St.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),RU=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new TU(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(St.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();xD=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new x(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),mc=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xD({}),this._settingsFrozen=!1,e instanceof Td?(this._databaseId=e,this._credentials=new TD):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new x(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Td(r.options.projectId)}(e),this._credentials=new DU(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new x(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new x(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xD(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new TD;switch(n.type){case"gapi":var r=n.client;return J(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new x(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=DD.get(e))&&(P("ComponentProvider","Removing Datastore"),DD.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Be=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new oi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_n=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),oi=function(t){function e(n,r,o){var a=this;return(a=t.call(this,n,r,Xs(o))||this)._path=o,a.type="collection",a}return Y(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Be(this.firestore,null,new K(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(_n);OU=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new f_(this,"async_queue_retry"),this.Ic=function(){var r=pd();r&&P("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=pd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Pt;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return O(this,void 0,void 0,function(){var e,n=this;return R(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ho(e=r.sent()))throw e;return P("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,nt("INTERNAL UNHANDLED ERROR: ",function(a){var u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var a=$j.createAndSchedule(this,e,n,r,function(u){return o.vc(u)});return this.mc.push(a),a},t.prototype.Ac=function(){this.yc&&W()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return O(this,void 0,void 0,function(){var e;return R(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var a=o[r];if(a.skipDelay(),e!=="all"&&a.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();iH=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Pt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),gR=-1,rt=function(t){function e(n,r){var o=this;return(o=t.call(this,n,r)||this).type="firestore",o._queue=new OU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Y(e,t),e.prototype._terminate=function(){return this._firestoreClient||mR(this),this._firestoreClient.terminate()},e}(mc);ar=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new x(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),uo=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Gt.fromBase64String(e))}catch(n){throw new x(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Gt.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),po=function(t){this._methodName=t},Ac=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return fe(this._lat,e._lat)||fe(this._long,e._long)},t}(),kU=/^__.*__$/,xU=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)},t}(),vR=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();_R=function(){function t(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Cc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:r,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:r,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return Rd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(yR(this.Nc)&&kU.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),NU=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||Fd(e)}return t.prototype.Uc=function(e,n,r,o){return o===void 0&&(o=!1),new _R({Nc:e,methodName:n,qc:r,path:Hn.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();O_=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(po);MU=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype._toFieldTransform=function(n){return new Ec(n.path,new Ls)},e.prototype.isEqual=function(n){return n instanceof e},e}(po),PU=function(t){function e(n,r){var o=this;return(o=t.call(this,n)||this).Kc=r,o}return Y(e,t),e.prototype._toFieldTransform=function(n){var r=wR(this,n,!0),o=this.Kc.map(function(u){return mo(u,r)}),a=new so(o);return new Ec(n.path,a)},e.prototype.isEqual=function(n){return this===n},e}(po),LU=function(t){function e(n,r){var o=this;return(o=t.call(this,n)||this).Kc=r,o}return Y(e,t),e.prototype._toFieldTransform=function(n){var r=wR(this,n,!0),o=this.Kc.map(function(u){return mo(u,r)}),a=new ao(o);return new Ec(n.path,a)},e.prototype.isEqual=function(n){return this===n},e}(po),FU=function(t){function e(n,r){var o=this;return(o=t.call(this,n)||this).Qc=r,o}return Y(e,t),e.prototype._toFieldTransform=function(n){var r=new Fs(n.R,iT(n.R,this.Qc));return new Ec(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(po);VU=new RegExp("[~\\*/\\[\\]]");vc=function(){function t(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Be(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new jU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Od("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),jU=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vc);to=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Dr=function(t){function e(n,r,o,a,u,l){var h=this;return(h=t.call(this,n,r,o,a,l)||this)._firestore=n,h._firestoreImpl=n,h.metadata=u,h}return Y(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Od("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},e}(vc),uc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Dr),ni=function(){function t(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(o){e.call(n,new uc(r._firestore,r._userDataWriter,o.key,o,new to(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var a=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new uc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new to(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var h=new uc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new to(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(g=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:UU(l.type),doc:h,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();Dc=function(){};BU=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).jc=n,a.Wc=r,a.Gc=o,a.type="where",a}return Y(e,t),e.prototype._apply=function(n){var r=go(n.firestore),o=function(a,u,l,h,p,g,y){var _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new x(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){jD(y,g);for(var b=[],E=0,C=y;E<C.length;E++){var A=C[E];b.push(VD(h,a,A))}_={arrayValue:{values:b}}}else _=VD(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||jD(y,g),_=bR(l,"where",y,g==="in"||g==="not-in");var N=yn.create(p,g,_);return function(q,B){if(B.g()){var oe=e_(q);if(oe!==null&&!oe.isEqual(B.field))throw new x(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+oe.toString()+"' and '"+B.field.toString()+"'");var he=Jy(q);he!==null&&TR(q,B.field,he)}var L=function(xe,aa){for(var ee=0,yo=xe.filters;ee<yo.length;ee++){var I=yo[ee];if(aa.indexOf(I.op)>=0)return I.op}return null}(q,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(L!==null)throw L===B.op?new x(S.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+B.op.toString()+"' filter."):new x(S.INVALID_ARGUMENT,"Invalid query. You cannot use '"+B.op.toString()+"' filters with '"+L.toString()+"' filters.")}(a,N),N}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new _n(n.firestore,n.converter,function(a,u){var l=a.filters.concat([u]);return new Tr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),l,a.limit,a.limitType,a.startAt,a.endAt)}(n._query,o))},e}(Dc),qU=function(t){function e(n,r){var o=this;return(o=t.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Y(e,t),e.prototype._apply=function(n){var r=function(o,a,u){if(o.startAt!==null)throw new x(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new x(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Os(a,u);return function(h,p){if(Jy(h)===null){var g=e_(h);g!==null&&TR(h,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new _n(n.firestore,n.converter,function(o,a){var u=o.explicitOrderBy.concat([a]);return new Tr(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},e}(Dc),PD=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).type=n,a.Hc=r,a.Jc=o,a}return Y(e,t),e.prototype._apply=function(n){return new _n(n.firestore,n.converter,JD(n._query,this.Hc,this.Jc))},e}(Dc),LD=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).type=n,a.Yc=r,a.Xc=o,a}return Y(e,t),e.prototype._apply=function(n){var r=DR(n,this.type,this.Yc,this.Xc);return new _n(n.firestore,n.converter,function(o,a){return new Tr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(n._query,r))},e}(Dc),FD=function(t){function e(n,r,o){var a=this;return(a=t.call(this)||this).type=n,a.Yc=r,a.Xc=o,a}return Y(e,t),e.prototype._apply=function(n){var r=DR(n,this.type,this.Yc,this.Xc);return new _n(n.firestore,n.converter,function(o,a){return new Tr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(n._query,r))},e}(Dc);P_=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}},t.prototype.convertObject=function(e,n){var r=this,o={};return co(e.fields,function(a,u){o[a]=r.convertValue(u,n)}),o},t.prototype.convertGeoPoint=function(e){return new Ac(tt(e.latitude),tt(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(o){return r.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=$D(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=ai(e);return new Ht(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=ye.fromString(e);J(IT(r));var o=new Td(r.get(1),r.get(3)),a=new K(r.popFirst(5));return o.isEqual(n)||nt("Document "+a+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),a},t}();zU=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Y(e,t),e.prototype.convertBytes=function(n){return new uo(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},e}(P_),HU=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=go(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var o=ri(e,this._firestore),a=zd(o.converter,n,r),u=qd(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,Mt.none())),this},t.prototype.update=function(e,n,r){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];this._verifyNotCommitted();var u,l=ri(e,this._firestore);return u=typeof(n=Qe(n))=="string"||n instanceof ar?x_(this._dataReader,"WriteBatch.update",l._key,n,r,o):k_(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Mt.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=ri(e,this._firestore);return this._mutations=this._mutations.concat(new Ic(n._key,Mt.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new x(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();io=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Y(e,t),e.prototype.convertBytes=function(n){return new uo(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},e}(P_);GU=function(t){function e(n,r){var o=this;return(o=t.call(this,n,r)||this)._firestore=n,o}return Y(e,t),e.prototype.get=function(n){var r=this,o=ri(n,this._firestore),a=new io(this._firestore);return t.prototype.get.call(this,n).then(function(u){return new Dr(r._firestore,a,o._key,u._document,new to(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=go(e)}return t.prototype.get=function(e){var n=this,r=ri(e,this._firestore),o=new zU(this._firestore);return this._transaction.lookup([r._key]).then(function(a){if(!a||a.length!==1)return W();var u=a[0];if(u.isFoundDocument())return new vc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new vc(n._firestore,o,r._key,null,r.converter);throw W()})},t.prototype.set=function(e,n,r){var o=ri(e,this._firestore),a=zd(o.converter,n,r),u=qd(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,r);return this._transaction.set(o._key,u),this},t.prototype.update=function(e,n,r){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u,l=ri(e,this._firestore);return u=typeof(n=Qe(n))=="string"||n instanceof ar?x_(this._dataReader,"Transaction.update",l._key,n,r,o):k_(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},t.prototype.delete=function(e){var n=ri(e,this._firestore);return this._transaction.delete(n._key),this},t}());L_=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return zD(),new t(uo.fromBase64String(e))},t.fromUint8Array=function(e){return qD(),new t(uo.fromUint8Array(e))},t.prototype.toBase64=function(){return zD(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return qD(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),OR=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,o){MD(r=be(r,rt));var a=Nt(r),u=r._freezeSettings(),l=new Wy;return ND(a,l,new oR(l,u.cacheSizeBytes,o?.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){MD(n=be(n,rt));var r=Nt(n),o=n._freezeSettings(),a=new Wy;return ND(r,a,new bU(a,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new x(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Pt;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return O(r,void 0,void 0,function(){var a;return R(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return O(this,void 0,void 0,function(){var h;return R(this,function(p){switch(p.label){case 0:return Us.yt()?(h=l+"main",[4,Us.delete(h)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(h_(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return a=u.sent(),o.reject(a),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),F_=function(){function t(e,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof Td||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||md("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(o,a,u,l){var h;l===void 0&&(l={});var p=(o=be(o,mc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==a&&md("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:a+":"+u,ssl:!1})),l.mockUserToken){var g,y;if(typeof l.mockUserToken=="string")g=l.mockUserToken,y=St.MOCK_USER;else{g=XI(l.mockUserToken,(h=o._app)===null||h===void 0?void 0:h.options.projectId);var _=l.mockUserToken.sub||l.mockUserToken.user_id;if(!_)throw new x(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new St(_)}o._credentials=new AU(new lR(g,y))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return O(n,void 0,void 0,function(){var r,o;return R(this,function(a){switch(a.label){case 0:return[4,CD(e)];case 1:return r=a.sent(),[4,ID(e)];case 2:return o=a.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=j(u);return l.Or.delete(0),Sc(l)}(o))]}})})})}(Nt(be(this._delegate,rt)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return O(n,void 0,void 0,function(){var r,o;return R(this,function(a){switch(a.label){case 0:return[4,CD(e)];case 1:return r=a.sent(),[4,ID(e)];case 2:return o=a.sent(),[2,(r.setNetworkEnabled(!1),function(u){return O(this,void 0,void 0,function(){var l;return R(this,function(h){switch(h.label){case 0:return(l=j(u)).Or.add(0),[4,Zs(l)];case 1:return h.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(Nt(be(this._delegate,rt)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&hR("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new Pt;return e.asyncQueue.enqueueAndForget(function(){return O(n,void 0,void 0,function(){var o;return R(this,function(a){switch(a.label){case 0:return o=lU,[4,cR(e)];case 1:return[2,o.apply(void 0,[a.sent(),r])]}})})}),r.promise}(Nt(be(this._delegate,rt)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(o,a){var u=this,l=new jd(a);return o.asyncQueue.enqueueAndForget(function(){return O(u,void 0,void 0,function(){var h;return R(this,function(p){switch(p.label){case 0:return h=function(g,y){j(g).Gr.add(y),y.next()},[4,Ws(o)];case 1:return[2,h.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return O(u,void 0,void 0,function(){var h;return R(this,function(p){switch(p.label){case 0:return h=function(g,y){j(g).Gr.delete(y)},[4,Ws(o)];case 1:return[2,h.apply(void 0,[p.sent(),l])]}})})})}}(Nt(n=be(n,rt)),Ks(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new x(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new yc(this,dR(this._delegate,e))}catch(n){throw zt(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new si(this,gd(this._delegate,e))}catch(n){throw zt(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Rc(this,function(n,r){if(n=be(n,mc),T_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new x(S.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _n(n,null,function(o){return new Tr(ye.emptyPath(),o)}(r))}(this._delegate,e))}catch(n){throw zt(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,o){return function(a,u){var l=this,h=new Pt;return a.asyncQueue.enqueueAndForget(function(){return O(l,void 0,void 0,function(){var p;return R(this,function(g){switch(g.label){case 0:return[4,function(y){return Ud(y).then(function(_){return _.datastore})}(a)];case 1:return p=g.sent(),new CU(a.asyncQueue,p,u,h).run(),[2]}})})}),h.promise}(Nt(r),function(a){return o(new GU(r,a))})}(this._delegate,function(r){return e(new V_(n,r))})},t.prototype.batch=function(){var e=this;return Nt(this._delegate),new j_(new HU(this._delegate,function(n){return Tc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new x(S.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new x(S.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Hd=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return Y(e,t),e.prototype.convertBytes=function(n){return new L_(new uo(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return si.eu(r,this.firestore,null)},e}(P_);V_=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Hd(e)}return t.prototype.get=function(e){var n=this,r=no(e);return this._delegate.get(r).then(function(o){return new $s(n._firestore,new Dr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},t.prototype.set=function(e,n,r){var o=no(e);return r?(R_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,r){for(var o,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];var l=no(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Pe([l,n,r],a)),this},t.prototype.delete=function(e){var n=no(e);return this._delegate.delete(n),this},t}(),j_=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var o=no(e);return r?(R_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,r){for(var o,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];var l=no(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Pe([l,n,r],a)),this},t.prototype.delete=function(e){var n=no(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Gd=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new uc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ys(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,o=r.get(e);o||(o=new WeakMap,r.set(e,o));var a=o.get(n);return a||(a=new t(e,new Hd(e),n),o.set(n,a)),a},t}();Gd.su=new WeakMap;si=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Hd(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new x(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Be(n._delegate,r,new K(e)))},t.eu=function(e,n,r){return new t(n,new Be(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new yc(this.firestore,dR(this._delegate,e))}catch(n){throw zt(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Qe(e))instanceof Be&&fR(this._delegate,e)},t.prototype.set=function(e,n){n=R_("DocumentReference.set",n);try{return n?UD(this._delegate,e,n):UD(this._delegate,e)}catch(r){throw zt(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?BD(this._delegate,e):BD.apply(void 0,Pe([this._delegate,e,n],r))}catch(a){throw zt(a,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Tc(be((e=this._delegate).firestore,rt),[new Ic(e._key,Mt.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=xR(n),a=NR(n,function(u){return new $s(e.firestore,new Dr(e.firestore._delegate,e._userDataWriter,u._key,u._document,u.metadata,e._delegate.converter))});return RR(this._delegate,o,a)},t.prototype.get=function(e){var n=this;return(e?.source==="cache"?function(r){r=be(r,Be);var o=be(r.firestore,rt),a=Nt(o),u=new io(o);return function(l,h){var p=this,g=new Pt;return l.asyncQueue.enqueueAndForget(function(){return O(p,void 0,void 0,function(){var y;return R(this,function(_){switch(_.label){case 0:return y=function(b,E,C){return O(this,void 0,void 0,function(){var A,N;return R(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,,3]),[4,function(B,oe){var he=j(B);return he.persistence.runTransaction("read document","readonly",function(L){return he.Mn.mn(L,oe)})}(b,E)];case 1:return(N=q.sent()).isFoundDocument()?C.resolve(N):N.isNoDocument()?C.resolve(null):C.reject(new x(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=q.sent(),N=ta(A,"Failed to get document '"+E+" from cache"),C.reject(N),[3,3];case 3:return[2]}})})},[4,uR(l)];case 1:return[2,y.apply(void 0,[_.sent(),h,g])]}})})}),g.promise}(a,r._key).then(function(l){return new Dr(o,u,r._key,l,new to(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):e?.source==="server"?function(r){r=be(r,Be);var o=be(r.firestore,rt);return SD(Nt(o),r._key,{source:"server"}).then(function(a){return $y(o,r,a)})}(this._delegate):function(r){r=be(r,Be);var o=be(r.firestore,rt);return SD(Nt(o),r._key).then(function(a){return $y(o,r,a)})}(this._delegate)).then(function(r){return new $s(n.firestore,new Dr(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Gd.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();$s=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new si(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return SR(this._delegate,e._delegate)},t}(),Ys=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Y(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}($s),Rc=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Hd(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Zr(this._delegate,function(o,a,u){var l=a,h=Od("where",o);return new BU(h,l,u)}(e,n,r)))}catch(o){throw zt(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Zr(this._delegate,function(r,o){o===void 0&&(o="asc");var a=o,u=Od("orderBy",r);return new qU(u,a)}(e,n)))}catch(r){throw zt(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Zr(this._delegate,function(n){return kD("limit",n),new PD("limit",n,"F")}(e)))}catch(n){throw zt(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Zr(this._delegate,function(n){return kD("limitToLast",n),new PD("limitToLast",n,"L")}(e)))}catch(n){throw zt(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zr(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new LD("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw zt(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zr(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new LD("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw zt(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zr(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new FD("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw zt(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zr(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new FD("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw zt(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return pR(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return(e?.source==="cache"?function(r){r=be(r,_n);var o=be(r.firestore,rt),a=Nt(o),u=new io(o);return function(l,h){var p=this,g=new Pt;return l.asyncQueue.enqueueAndForget(function(){return O(p,void 0,void 0,function(){var y;return R(this,function(_){switch(_.label){case 0:return y=function(b,E,C){return O(this,void 0,void 0,function(){var A,N,q,B,oe;return R(this,function(he){switch(he.label){case 0:return he.trys.push([0,2,,3]),[4,Sd(b,E,!0)];case 1:return oe=he.sent(),A=new eR(E,oe.Bn),N=A._o(oe.documents),q=A.applyChanges(N,!1),C.resolve(q.snapshot),[3,3];case 2:return B=he.sent(),oe=ta(B,"Failed to execute query '"+E+" against cache"),C.reject(oe),[3,3];case 3:return[2]}})})},[4,uR(l)];case 1:return[2,y.apply(void 0,[_.sent(),h,g])]}})})}),g.promise}(a,r._query).then(function(l){return new ni(o,u,r,l)})}(this._delegate):e?.source==="server"?function(r){r=be(r,_n);var o=be(r.firestore,rt),a=Nt(o),u=new io(o);return AD(a,r._query,{source:"server"}).then(function(l){return new ni(o,u,r,l)})}(this._delegate):function(r){r=be(r,_n);var o=be(r.firestore,rt),a=Nt(o),u=new io(o);return AR(r._query),AD(a,r._query).then(function(l){return new ni(o,u,r,l)})}(this._delegate)).then(function(r){return new kd(n.firestore,new ni(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=xR(n),a=NR(n,function(u){return new kd(e.firestore,new ni(e.firestore._delegate,e._userDataWriter,e._delegate,u._snapshot))});return RR(this._delegate,o,a)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Gd.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),WU=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ys(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),kd=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Rc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Ys(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new WU(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(o){e.call(n,new Ys(r._firestore,o))})},t.prototype.isEqual=function(e){return SR(this._delegate,e._delegate)},t}(),yc=function(t){function e(n,r){var o=this;return(o=t.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Y(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new si(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new si(this.firestore,n===void 0?gd(this._delegate):gd(this._delegate,n))}catch(r){throw zt(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(o,a){var u=be(o.firestore,rt),l=gd(o),h=zd(o.converter,a);return Tc(u,[qd(go(o.firestore),"addDoc",l._key,h,o.converter!==null,{}).toMutation(l._key,Mt.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new si(r.firestore,o)})},e.prototype.isEqual=function(n){return fR(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(Gd.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(Rc);MR=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(ar.bind.apply(ar,Pe([void 0],e)))}return t.documentId=function(){return new t(Hn.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Qe(e))instanceof ar&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),PR=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new MU("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new O_("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new PU("arrayUnion",o)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new LU("arrayRemove",o)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new FU("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();});function $U(t){(function(e,n){e.INTERNAL.registerComponent(new vs("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},KU)))})(t,function(e,n){return new F_(e,new rt(e,n),new OR)}),t.registerVersion("@firebase/firestore","2.4.1")}var KU,FR=Ln(()=>{"use strict";Vu();LR();Mv();Fu();Dh();Oy();KU={Firestore:F_,GeoPoint:Ac,Timestamp:Ht,Blob:L_,Transaction:V_,WriteBatch:j_,DocumentReference:si,DocumentSnapshot:$s,Query:Rc,QueryDocumentSnapshot:Ys,QuerySnapshot:kd,CollectionReference:yc,FieldPath:MR,FieldValue:PR,setLogLevel:kR,CACHE_SIZE_UNLIMITED:gR};$U(Z)});var YU={};var VR=Ln(()=>{"use strict";FR()});var mm=class extends wC{supportsDOMEvents=!0},vm=class t extends mm{static makeCurrent(){_C(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=SN();return n==null?null:AN(n)}resetBaseElement(){au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bC(document.cookie,e)}},au=null;function SN(){return au=au||document.querySelector("base"),au?au.getAttribute("href"):null}function AN(t){return new URL(t,document.baseURI).pathname}var DN=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),ym=new le(""),xC=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(a=>a.supports(n)),!r)throw new Le(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)($e(ym),$e(ze))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Xl=class{_doc;constructor(e){this._doc=e}manager},_m="ng-app-id";function AC(t){for(let e of t)e.remove()}function DC(t,e){let n=e.createElement("style");return n.textContent=t,n}function TN(t,e,n){let r=t.head?.querySelectorAll(`style[${_m}="${e}"]`);if(r)for(let o of r)o.textContent&&(o.removeAttribute(_m),n.set(o.textContent,{usage:0,elements:[o]}))}function wm(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var NC=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,a={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=pm(a),TN(n,r,this.inline),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,DC);r?.forEach(o=>this.addUsage(o,this.external,wm))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let a=r.get(n);a?a.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(u=>this.addElement(u,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(AC(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])AC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,DC(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,wm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_m,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)($e(_e),$e(Za),$e(am,8),$e(Fi))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),gm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Em=/%COMP%/g,MC="%COMP%",RN=`_nghost-${MC}`,ON=`_ngcontent-${MC}`,kN=!0,xN=new le("",{providedIn:"root",factory:()=>kN});function NN(t){return ON.replace(Em,t)}function MN(t){return RN.replace(Em,t)}function PC(t,e){return e.map(n=>n.replace(Em,t))}var Ql=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,a,u,l,h,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=u,this.platformId=l,this.ngZone=h,this.nonce=p,this.platformIsServer=pm(l),this.defaultRenderer=new uu(n,u,h,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ja.ShadowDom&&(r=Ce(F({},r),{encapsulation:Ja.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Zl?o.applyToHost(n):o instanceof cu&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let u=this.doc,l=this.ngZone,h=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Ja.Emulated:a=new Zl(h,p,r,this.appId,g,u,l,y);break;case Ja.ShadowDom:return new bm(h,p,n,r,u,l,this.nonce,y);default:a=new cu(h,p,r,g,u,l,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)($e(xC),$e(NC),$e(Za),$e(xN),$e(_e),$e(Fi),$e(ze),$e(am))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),uu=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(gm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(TC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(TC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Le(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let a=gm[o];a?e.setAttributeNS(a,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=gm[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(tu.DashCase|tu.Important)?e.style.setProperty(n,r,o&tu.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&tu.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Xo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function TC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bm=class extends uu{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,a,u,l,h){super(e,a,u,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=PC(o.id,o.styles);for(let y of p){let _=document.createElement("style");l&&_.setAttribute("nonce",l),_.textContent=y,this.shadowRoot.appendChild(_)}let g=o.getExternalStyles?.();if(g)for(let y of g){let _=wm(y,a);l&&_.setAttribute("nonce",l),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cu=class extends uu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,a,u,l,h){super(e,a,u,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=h?PC(h,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zl=class extends cu{contentAttr;hostAttr;constructor(e,n,r,o,a,u,l,h){let p=o+"-"+r.id;super(e,n,r,a,u,l,h,p),this.contentAttr=NN(p),this.hostAttr=MN(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PN=(()=>{class t extends Xl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static \u0275fac=function(r){return new(r||t)($e(_e))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),RC=["alt","control","meta","shift"],LN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VN=(()=>{class t extends Xl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let a=t.parseEventName(r),u=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xo().onAndCancel(n,a.domEventName,u))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=t._normalizeKey(r.pop()),u="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),u="code."),RC.forEach(p=>{let g=r.indexOf(p);g>-1&&(r.splice(g,1),u+=p+".")}),u+=a,r.length!=0||a.length===0)return null;let h={};return h.domEventName=o,h.fullKey=u,h}static matchEventFullKeyCode(n,r){let o=LN[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(o=n.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),RC.forEach(u=>{if(u!==o){let l=FN[u];l(n)&&(a+=u+".")}}),a+=o,a===r)}static eventCallback(n,r,o){return a=>{t.matchEventFullKeyCode(a,n)&&o.runGuarded(()=>r(a))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)($e(_e))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function LC(t,e){return yC(F({rootComponent:t},jN(e)))}function jN(t){return{appProviders:[...HN,...t?.providers??[]],platformProviders:zN}}function UN(){vm.makeCurrent()}function BN(){return new sm}function qN(){return aC(document),document}var zN=[{provide:Fi,useValue:CC},{provide:uC,useValue:UN,multi:!0},{provide:_e,useFactory:qN,deps:[]}];var HN=[{provide:nC,useValue:"root"},{provide:sm,useFactory:BN,deps:[]},{provide:ym,useClass:PN,multi:!0,deps:[_e,ze,Fi]},{provide:ym,useClass:VN,multi:!0,deps:[_e]},Ql,NC,xC,{provide:Hl,useExisting:Ql},{provide:SC,useClass:DN,deps:[]},[]];var FC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)($e(_e))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ae="primary",Su=Symbol("RouteTitle"),Dm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function is(t){return new Dm(t)}function WN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let a=0;a<r.length;a++){let u=r[a],l=t[a];if(u[0]===":")o[u.substring(1)]=l;else if(u!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function KN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rr(t[n],e[n]))return!1;return!0}function rr(t,e){let n=t?Tm(t):void 0,r=e?Tm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let a=0;a<n.length;a++)if(o=n[a],!GC(t[o],e[o]))return!1;return!0}function Tm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function GC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,a)=>r[a]===o)}else return t===e}function WC(t){return t.length>0?t[t.length-1]:null}function Gr(t){return Bl(t)?t:Wl(t)?an(Promise.resolve(t)):te(t)}var $N={exact:$C,subset:YC},KC={exact:YN,subset:XN,ignored:()=>!0};function VC(t,e,n){return $N[n.paths](t.root,e.root,n.matrixParams)&&KC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function YN(t,e){return rr(t,e)}function $C(t,e,n){if(!Bi(t.segments,e.segments)||!th(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!$C(t.children[r],e.children[r],n))return!1;return!0}function XN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GC(t[n],e[n]))}function YC(t,e,n){return XC(t,e,e.segments,n)}function XC(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Bi(o,n)||e.hasChildren()||!th(o,n,r))}else if(t.segments.length===n.length){if(!Bi(t.segments,n)||!th(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!YC(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),a=n.slice(t.segments.length);return!Bi(t.segments,o)||!th(t.segments,o,r)||!t.children[ae]?!1:XC(t.children[ae],e,a,r)}}function th(t,e,n){return e.every((r,o)=>KC[n](t[o].parameters,r.parameters))}var br=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){return JN.serialize(this)}},we=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}},Ui=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=is(this.parameters),this._parameterMap}toString(){return ZC(this)}};function QN(t,e){return Bi(t,e)&&t.every((n,r)=>rr(n.parameters,e[r].parameters))}function Bi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ZN(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===ae&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==ae&&(n=n.concat(e(o,r)))}),n}var ev=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>new mu,providedIn:"root"})}return t})(),mu=class{parse(e){let n=new Om(e);return new br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${lu(e.root,!0)}`,r=nM(e.queryParams),o=typeof e.fragment=="string"?`#${eM(e.fragment)}`:"";return`${n}${r}${o}`}},JN=new mu;function nh(t){return t.segments.map(e=>ZC(e)).join("/")}function lu(t,e){if(!t.hasChildren())return nh(t);if(e){let n=t.children[ae]?lu(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([o,a])=>{o!==ae&&r.push(`${o}:${lu(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZN(t,(r,o)=>o===ae?[lu(t.children[ae],!1)]:[`${o}:${lu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${nh(t)}/${n[0]}`:`${nh(t)}/(${n.join("//")})`}}function QC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jl(t){return QC(t).replace(/%3B/gi,";")}function eM(t){return encodeURI(t)}function Rm(t){return QC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rh(t){return decodeURIComponent(t)}function jC(t){return rh(t.replace(/\+/g,"%20"))}function ZC(t){return`${Rm(t.path)}${tM(t.parameters)}`}function tM(t){return Object.entries(t).map(([e,n])=>`;${Rm(e)}=${Rm(n)}`).join("")}function nM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Jl(n)}=${Jl(o)}`).join("&"):`${Jl(n)}=${Jl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rM=/^[^\/()?;#]+/;function Cm(t){let e=t.match(rM);return e?e[0]:""}var iM=/^[^\/()?;=#]+/;function oM(t){let e=t.match(iM);return e?e[0]:""}var sM=/^[^=?&#]+/;function aM(t){let e=t.match(sM);return e?e[0]:""}var uM=/^[^&#]+/;function cM(t){let e=t.match(uM);return e?e[0]:""}var Om=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new we(e,n)),r}parseSegment(){let e=Cm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Le(4009,!1);return this.capture(e),new Ui(rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Cm(this.remaining);o&&(r=o,this.capture(r))}e[rh(n)]=rh(r)}parseQueryParam(e){let n=aM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let u=cM(this.remaining);u&&(r=u,this.capture(r))}let o=jC(n),a=jC(r);if(e.hasOwnProperty(o)){let u=e[o];Array.isArray(u)||(u=[u],e[o]=u),u.push(a)}else e[o]=a}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cm(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new Le(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=ae);let u=this.parseChildren();n[a]=Object.keys(u).length===1?u[ae]:new we([],u),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Le(4011,!1)}};function JC(t){return t.segments.length>0?new we([],{[ae]:t}):t}function eI(t){let e={};for(let[r,o]of Object.entries(t.children)){let a=eI(o);if(r===ae&&a.segments.length===0&&a.hasChildren())for(let[u,l]of Object.entries(a.children))e[u]=l;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}let n=new we(t.segments,e);return lM(n)}function lM(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new we(t.segments.concat(e.segments),e.children)}return t}function qi(t){return t instanceof br}function hM(t,e,n=null,r=null){let o=tI(t);return nI(o,e,n,r)}function tI(t){let e;function n(a){let u={};for(let h of a.children){let p=n(h);u[h.outlet]=p}let l=new we(a.url,u);return a===t&&(e=l),l}let r=n(t.root),o=JC(r);return e??o}function nI(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Im(o,o,o,n,r);let a=dM(e);if(a.toRoot())return Im(o,o,new we([],{}),n,r);let u=fM(a,o,t),l=u.processChildren?fu(u.segmentGroup,u.index,a.commands):iI(u.segmentGroup,u.index,a.commands);return Im(o,u.segmentGroup,l,n,r)}function ih(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vu(t){return typeof t=="object"&&t!=null&&t.outlets}function Im(t,e,n,r,o){let a={};r&&Object.entries(r).forEach(([h,p])=>{a[h]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`});let u;t===e?u=n:u=rI(t,e,n);let l=JC(eI(u));return new br(l,a,o)}function rI(t,e,n){let r={};return Object.entries(t.children).forEach(([o,a])=>{a===e?r[o]=n:r[o]=rI(a,e,n)}),new we(t.segments,r)}var oh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ih(r[0]))throw new Le(4003,!1);let o=r.find(vu);if(o&&o!==WC(r))throw new Le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new oh(!0,0,t);let e=0,n=!1,r=t.reduce((o,a,u)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let l={};return Object.entries(a.outlets).forEach(([h,p])=>{l[h]=typeof p=="string"?p.split("/"):p}),[...o,{outlets:l}]}if(a.segmentPath)return[...o,a.segmentPath]}return typeof a!="string"?[...o,a]:u===0?(a.split("/").forEach((l,h)=>{h==0&&l==="."||(h==0&&l===""?n=!0:l===".."?e++:l!=""&&o.push(l))}),o):[...o,a]},[]);return new oh(n,e,r)}var ts=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fM(t,e,n){if(t.isAbsolute)return new ts(e,!0,0);if(!n)return new ts(e,!1,NaN);if(n.parent===null)return new ts(n,!0,0);let r=ih(t.commands[0])?0:1,o=n.segments.length-1+r;return pM(n,o,t.numberOfDoubleDots)}function pM(t,e,n){let r=t,o=e,a=n;for(;a>o;){if(a-=o,r=r.parent,!r)throw new Le(4005,!1);o=r.segments.length}return new ts(r,!1,o-a)}function gM(t){return vu(t[0])?t[0].outlets:{[ae]:t}}function iI(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return fu(t,e,n);let r=mM(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let a=new we(t.segments.slice(0,r.pathIndex),{});return a.children[ae]=new we(t.segments.slice(r.pathIndex),t.children),fu(a,0,o)}else return r.match&&o.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?km(t,e,n):r.match?fu(t,0,o):km(t,e,n)}function fu(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=gM(n),o={};if(Object.keys(r).some(a=>a!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let a=fu(t.children[ae],e,n);return new we(t.segments,a.children)}return Object.entries(r).forEach(([a,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(o[a]=iI(t.children[a],e,u))}),Object.entries(t.children).forEach(([a,u])=>{r[a]===void 0&&(o[a]=u)}),new we(t.segments,o)}}function mM(t,e,n){let r=0,o=e,a={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return a;let u=t.segments[o],l=n[r];if(vu(l))break;let h=`${l}`,p=r<n.length-1?n[r+1]:null;if(o>0&&h===void 0)break;if(h&&p&&typeof p=="object"&&p.outlets===void 0){if(!BC(h,p,u))return a;r+=2}else{if(!BC(h,{},u))return a;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function km(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let a=n[o];if(vu(a)){let h=vM(a.outlets);return new we(r,h)}if(o===0&&ih(n[0])){let h=t.segments[e];r.push(new Ui(h.path,UC(n[0]))),o++;continue}let u=vu(a)?a.outlets[ae]:`${a}`,l=o<n.length-1?n[o+1]:null;u&&l&&ih(l)?(r.push(new Ui(u,UC(l))),o+=2):(r.push(new Ui(u,{})),o++)}return new we(r,{})}function vM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=km(new we([],{}),0,r))}),e}function UC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function BC(t,e,n){return t==n.path&&rr(e,n.parameters)}var pu="imperative",bt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(bt||{}),An=class{id;url;constructor(e,n){this.id=e,this.url=n}},yu=class extends An{type=bt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hr=class extends An{urlAfterRedirects;type=bt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),xm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xm||{}),wr=class extends An{reason;code;type=bt.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zi=class extends An{reason;code;type=bt.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},_u=class extends An{error;target;type=bt.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sh=class extends An{urlAfterRedirects;state;type=bt.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nm=class extends An{urlAfterRedirects;state;type=bt.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mm=class extends An{urlAfterRedirects;state;shouldActivate;type=bt.GuardsCheckEnd;constructor(e,n,r,o,a){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pm=class extends An{urlAfterRedirects;state;type=bt.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lm=class extends An{urlAfterRedirects;state;type=bt.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fm=class{route;type=bt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vm=class{route;type=bt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jm=class{snapshot;type=bt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Um=class{snapshot;type=bt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bm=class{snapshot;type=bt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qm=class{snapshot;type=bt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wu=class{},os=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function yM(t,e){return t.providers&&!t._injector&&(t._injector=fC(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Un(t){return t.outlet||ae}function _M(t,e){let n=t.filter(r=>Un(r)===e);return n.push(...t.filter(r=>Un(r)!==e)),n}function Au(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Au(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new fh(this.rootInjector)}},fh=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)($e(Br))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ah=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Gm(e,this._root).map(n=>n.value)}};function Hm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hm(t,n);if(r)return r}return null}function Gm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gm(t,n);if(r.length)return r.unshift(e),r}return[]}var ln=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function es(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uh=class extends ah{snapshot;constructor(e,n){super(e),this.snapshot=n,tv(this,e)}toString(){return this.snapshot.toString()}};function oI(t){let e=wM(t),n=new ct([new Ui("",{})]),r=new ct({}),o=new ct({}),a=new ct({}),u=new ct(""),l=new Hi(n,r,a,u,o,ae,t,e.root);return l.snapshot=e.root,new uh(new ln(l,[]),e)}function wM(t){let e={},n={},r={},o="",a=new ns([],e,r,o,n,ae,t,null,{});return new lh("",new ln(a,[]))}var Hi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,a,u,l,h){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=a,this.outlet=u,this.component=l,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(Ie(p=>p[Su]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(e=>is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(e=>is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ch(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),o?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},o&&aI(o)&&(r.resolve[Su]=o.title),r}var ns=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Su]}constructor(e,n,r,o,a,u,l,h,p){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=u,this.component=l,this.routeConfig=h,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lh=class extends ah{url;constructor(e,n){super(n),this.url=e,tv(this,n)}toString(){return sI(this._root)}};function tv(t,e){e.value._routerState=t,e.children.forEach(n=>tv(t,n))}function sI(t){let e=t.children.length>0?` { ${t.children.map(sI).join(", ")} } `:"";return`${t.value}${e}`}function Sm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rr(e.params,n.params)||t.paramsSubject.next(n.params),KN(e.url,n.url)||t.urlSubject.next(n.url),rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wm(t,e){let n=rr(t.params,e.params)&&QN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wm(t.parent,e.parent))}function aI(t){return typeof t.title=="string"||t.title===null}var bM=new le(""),nv=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new lt;deactivateEvents=new lt;attachEvents=new lt;detachEvents=new lt;routerOutletData=sC(void 0);parentContexts=D(fh);location=D(Wo);changeDetector=D(zr);inputBinder=D(rv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Le(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Le(4013,!1);this._activatedRoute=n;let o=this.location,u=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new Km(n,l,o.injector,this.routerOutletData);this.activated=o.createComponent(u,{index:o.length,injector:h,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jn]})}return t})(),Km=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===Hi?this.route:e===fh?this.childContexts:e===bM?this.outletData:this.parent.get(e,n)}},rv=new le("");function EM(t,e,n){let r=bu(t,e._root,n?n._root:void 0);return new uh(r,e)}function bu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=CM(t,e,n);return new ln(r,o)}else{if(t.shouldAttach(e.value)){let a=t.retrieve(e.value);if(a!==null){let u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(l=>bu(t,l)),u}}let r=IM(e.value),o=e.children.map(a=>bu(t,a));return new ln(r,o)}}function CM(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return bu(t,r,o);return bu(t,r)})}function IM(t){return new Hi(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var Eu=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},uI="ngNavigationCancelingError";function hh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=cI(!1,hn.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function cI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[uI]=!0,n.cancellationCode=e,n}function SM(t){return lI(t)&&qi(t.url)}function lI(t){return!!t&&t[uI]}var AM=(t,e,n,r)=>Ie(o=>(new $m(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),$m=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,a){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=a}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=es(n);e.children.forEach(a=>{let u=a.value.outlet;this.deactivateRoutes(a,o[u],r),delete o[u]}),Object.values(o).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,n,r){let o=e.value,a=n?n.value:null;if(o===a)if(o.component){let u=r.getContext(o.outlet);u&&this.deactivateChildRoutes(e,n,u.children)}else this.deactivateChildRoutes(e,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,a=es(e);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,o);if(r&&r.outlet){let u=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,a=es(e);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=es(n);e.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],r),this.forwardEvent(new qm(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Um(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,a=n?n.value:null;if(Sm(o),o===a)if(o.component){let u=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,u.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let u=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),Sm(l.route.value),this.activateChildRoutes(e,null,u.children)}else u.attachRef=null,u.route=o,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(e,null,u.children)}else this.activateChildRoutes(e,null,r)}},dh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function DM(t,e,n){let r=t._root,o=e?e._root:null;return hu(r,o,n,[r.value])}function TM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function as(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tC(t)?t:e.get(t):r}function hu(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=es(e);return t.children.forEach(u=>{RM(u,a[u.value.outlet],n,r.concat([u.value]),o),delete a[u.value.outlet]}),Object.entries(a).forEach(([u,l])=>gu(l,n.getContext(u),o)),o}function RM(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=t.value,u=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){let h=OM(u,a,a.routeConfig.runGuardsAndResolvers);h?o.canActivateChecks.push(new dh(r)):(a.data=u.data,a._resolvedData=u._resolvedData),a.component?hu(t,e,l?l.children:null,r,o):hu(t,e,n,r,o),h&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new rs(l.outlet.component,u))}else u&&gu(e,l,o),o.canActivateChecks.push(new dh(r)),a.component?hu(t,null,l?l.children:null,r,o):hu(t,null,n,r,o);return o}function OM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bi(t.url,e.url)||!rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wm(t,e)||!rr(t.queryParams,e.queryParams);case"paramsChange":default:return!Wm(t,e)}}function gu(t,e,n){let r=es(t),o=t.value;Object.entries(r).forEach(([a,u])=>{o.component?e?gu(u,e.children.getContext(a),n):gu(u,null,n):gu(u,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new rs(e.outlet.component,o)):n.canDeactivateChecks.push(new rs(null,o)):n.canDeactivateChecks.push(new rs(null,o))}function Du(t){return typeof t=="function"}function kM(t){return typeof t=="boolean"}function xM(t){return t&&Du(t.canLoad)}function NM(t){return t&&Du(t.canActivate)}function MM(t){return t&&Du(t.canActivateChild)}function PM(t){return t&&Du(t.canDeactivate)}function LM(t){return t&&Du(t.canMatch)}function hI(t){return t instanceof KE||t?.name==="EmptyError"}var eh=Symbol("INITIAL_VALUE");function ss(){return Vn(t=>em(t.map(e=>e.pipe(Fn(1),Pi(eh)))).pipe(Ie(e=>{for(let n of e)if(n!==!0){if(n===eh)return eh;if(n===!1||FM(n))return n}return!0}),Rt(e=>e!==eh),Fn(1)))}function FM(t){return qi(t)||t instanceof Eu}function VM(t,e){return In(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return u.length===0&&a.length===0?te(Ce(F({},n),{guardsResult:!0})):jM(u,r,o,t).pipe(In(l=>l&&kM(l)?UM(r,a,t,e):te(l)),Ie(l=>Ce(F({},n),{guardsResult:l})))})}function jM(t,e,n,r){return an(t).pipe(In(o=>GM(o.component,o.route,n,e,r)),jr(o=>o!==!0,!0))}function UM(t,e,n,r){return an(e).pipe(Xa(o=>$E(qM(o.route.parent,r),BM(o.route,r),HM(t,o.path,n),zM(t,o.route,n))),jr(o=>o!==!0,!0))}function BM(t,e){return t!==null&&e&&e(new Bm(t)),te(!0)}function qM(t,e){return t!==null&&e&&e(new jm(t)),te(!0)}function zM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let o=r.map(a=>Mi(()=>{let u=Au(e)??n,l=as(a,u),h=NM(l)?l.canActivate(e,t):gr(u,()=>l(e,t));return Gr(h).pipe(jr())}));return te(o).pipe(ss())}function HM(t,e,n){let r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>TM(u)).filter(u=>u!==null).map(u=>Mi(()=>{let l=u.guards.map(h=>{let p=Au(u.node)??n,g=as(h,p),y=MM(g)?g.canActivateChild(r,t):gr(p,()=>g(r,t));return Gr(y).pipe(jr())});return te(l).pipe(ss())}));return te(a).pipe(ss())}function GM(t,e,n,r,o){let a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||a.length===0)return te(!0);let u=a.map(l=>{let h=Au(e)??o,p=as(l,h),g=PM(p)?p.canDeactivate(t,e,n,r):gr(h,()=>p(t,e,n,r));return Gr(g).pipe(jr())});return te(u).pipe(ss())}function WM(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return te(!0);let a=o.map(u=>{let l=as(u,t),h=xM(l)?l.canLoad(e,n):gr(t,()=>l(e,n));return Gr(h)});return te(a).pipe(ss(),dI(r))}function dI(t){return GE(mt(e=>{if(typeof e!="boolean")throw hh(t,e)}),Ie(e=>e===!0))}function KM(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return te(!0);let a=o.map(u=>{let l=as(u,t),h=LM(l)?l.canMatch(e,n):gr(t,()=>l(e,n));return Gr(h)});return te(a).pipe(ss(),dI(r))}var Cu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Iu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Jo(t){return Ya(new Cu(t))}function $M(t){return Ya(new Le(4e3,!1))}function YM(t){return Ya(cI(!1,hn.GuardRejected))}var Ym=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return te(r);if(o.numberOfChildren>1||!o.children[ae])return $M(`${e.redirectTo}`);o=o.children[ae]}}applyRedirectCommands(e,n,r,o,a){if(typeof n!="string"){let l=n,{queryParams:h,fragment:p,routeConfig:g,url:y,outlet:_,params:b,data:E,title:C}=o,A=gr(a,()=>l({params:b,data:E,queryParams:h,fragment:p,routeConfig:g,url:y,outlet:_,title:C}));if(A instanceof br)throw new Iu(A);n=A}let u=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Iu(u);return u}applyRedirectCreateUrlTree(e,n,r,o){let a=this.createSegmentGroup(e,n.root,r,o);return new br(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,a])=>{if(typeof a=="string"&&a[0]===":"){let l=a.substring(1);r[o]=n[l]}else r[o]=a}),r}createSegmentGroup(e,n,r,o){let a=this.createSegments(e,n.segments,r,o),u={};return Object.entries(n.children).forEach(([l,h])=>{u[l]=this.createSegmentGroup(e,h,r,o)}),new we(a,u)}createSegments(e,n,r,o){return n.map(a=>a.path[0]===":"?this.findPosParam(e,a,o):this.findOrReturn(a,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new Le(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}},Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XM(t,e,n,r,o){let a=fI(t,e,n);return a.matched?(r=yM(e,r),KM(r,e,n,o).pipe(Ie(u=>u===!0?a:F({},Xm)))):te(a)}function fI(t,e,n){if(e.path==="**")return QM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Xm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||WN)(n,t,e);if(!o)return F({},Xm);let a={};Object.entries(o.posParams??{}).forEach(([l,h])=>{a[l]=h.path});let u=o.consumed.length>0?F(F({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function QM(t){return{matched:!0,parameters:t.length>0?WC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qC(t,e,n,r){return n.length>0&&eP(t,n,r)?{segmentGroup:new we(e,JM(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&tP(t,n,r)?{segmentGroup:new we(t.segments,ZM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function ZM(t,e,n,r){let o={};for(let a of n)if(ph(t,e,a)&&!r[Un(a)]){let u=new we([],{});o[Un(a)]=u}return F(F({},r),o)}function JM(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&Un(r)!==ae){let o=new we([],{});n[Un(r)]=o}return n}function eP(t,e,n){return n.some(r=>ph(t,e,r)&&Un(r)!==ae)}function tP(t,e,n){return n.some(r=>ph(t,e,r))}function ph(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nP(t,e,n){return e.length===0&&!t.children[n]}var Qm=class{};function rP(t,e,n,r,o,a,u="emptyOnly"){return new Zm(t,e,n,r,o,u,a).recognize()}var iP=31,Zm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,a,u,l){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=a,this.paramsInheritanceStrategy=u,this.urlSerializer=l,this.applyRedirects=new Ym(this.urlSerializer,this.urlTree)}noMatchError(e){return new Le(4002,`'${e.segmentGroup}'`)}recognize(){let e=qC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(({children:n,rootSnapshot:r})=>{let o=new ln(r,n),a=new lh("",o),u=hM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(u),{state:a,tree:u}}))}match(e){let n=new ns([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,n).pipe(Ie(r=>({children:r,rootSnapshot:n})),Ho(r=>{if(r instanceof Iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,a){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,a):this.processSegment(e,n,r,r.segments,o,!0,a).pipe(Ie(u=>u instanceof ln?[u]:[]))}processChildren(e,n,r,o){let a=[];for(let u of Object.keys(r.children))u==="primary"?a.unshift(u):a.push(u);return an(a).pipe(Xa(u=>{let l=r.children[u],h=_M(n,u);return this.processSegmentGroup(e,h,l,u,o)}),JE((u,l)=>(u.push(...l),u)),nm(null),ZE(),In(u=>{if(u===null)return Jo(r);let l=pI(u);return oP(l),te(l)}))}processSegment(e,n,r,o,a,u,l){return an(n).pipe(Xa(h=>this.processSegmentAgainstRoute(h._injector??e,n,h,r,o,a,u,l).pipe(Ho(p=>{if(p instanceof Cu)return te(null);throw p}))),jr(h=>!!h),Ho(h=>{if(hI(h))return nP(r,o,a)?te(new Qm):Jo(r);throw h}))}processSegmentAgainstRoute(e,n,r,o,a,u,l,h){return Un(r)!==u&&(u===ae||!ph(o,a,r))?Jo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,a,u,h):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,a,u,h):Jo(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,a,u,l){let{matched:h,parameters:p,consumedSegments:g,positionalParamSegments:y,remainingSegments:_}=fI(n,o,a);if(!h)return Jo(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iP&&(this.allowRedirects=!1));let b=new ns(a,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,zC(o),Un(o),o.component??o._loadedComponent??null,o,HC(o)),E=ch(b,l,this.paramsInheritanceStrategy);b.params=Object.freeze(E.params),b.data=Object.freeze(E.data);let C=this.applyRedirects.applyRedirectCommands(g,o.redirectTo,y,b,e);return this.applyRedirects.lineralizeSegments(o,C).pipe(In(A=>this.processSegment(e,r,n,A.concat(_),u,!1,l)))}matchSegmentAgainstRoute(e,n,r,o,a,u){let l=XM(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),l.pipe(Vn(h=>h.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Vn(({routes:p})=>{let g=r._loadedInjector??e,{parameters:y,consumedSegments:_,remainingSegments:b}=h,E=new ns(_,y,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,zC(r),Un(r),r.component??r._loadedComponent??null,r,HC(r)),C=ch(E,u,this.paramsInheritanceStrategy);E.params=Object.freeze(C.params),E.data=Object.freeze(C.data);let{segmentGroup:A,slicedSegments:N}=qC(n,_,b,p);if(N.length===0&&A.hasChildren())return this.processChildren(g,p,A,E).pipe(Ie(B=>new ln(E,B)));if(p.length===0&&N.length===0)return te(new ln(E,[]));let q=Un(r)===a;return this.processSegment(g,p,A,N,q?ae:a,!0,E).pipe(Ie(B=>new ln(E,B instanceof ln?[B]:[])))}))):Jo(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):WM(e,n,r,this.urlSerializer).pipe(In(o=>o?this.configLoader.loadChildren(e,n).pipe(mt(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):YM(n))):te({routes:[],injector:e})}};function oP(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function sP(t){let e=t.value.routeConfig;return e&&e.path===""}function pI(t){let e=[],n=new Set;for(let r of t){if(!sP(r)){e.push(r);continue}let o=e.find(a=>r.value.routeConfig===a.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=pI(r.children);e.push(new ln(r.value,o))}return e.filter(r=>!n.has(r))}function zC(t){return t.data||{}}function HC(t){return t.resolve||{}}function aP(t,e,n,r,o,a){return In(u=>rP(t,e,n,r,u.extractedUrl,o,a).pipe(Ie(({state:l,tree:h})=>Ce(F({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function uP(t,e){return In(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return te(n);let a=new Set(o.map(h=>h.route)),u=new Set;for(let h of a)if(!u.has(h))for(let p of gI(h))u.add(p);let l=0;return an(u).pipe(Xa(h=>a.has(h)?cP(h,r,t,e):(h.data=ch(h,h.parent,t).resolve,te(void 0))),mt(()=>l++),im(1),In(h=>l===u.size?te(n):Vr))})}function gI(t){let e=t.children.map(n=>gI(n)).flat();return[t,...e]}function cP(t,e,n,r){let o=t.routeConfig,a=t._resolve;return o?.title!==void 0&&!aI(o)&&(a[Su]=o.title),lP(a,t,e,r).pipe(Ie(u=>(t._resolvedData=u,t.data=ch(t,t.parent,n).resolve,null)))}function lP(t,e,n,r){let o=Tm(t);if(o.length===0)return te({});let a={};return an(o).pipe(In(u=>hP(t[u],e,n,r).pipe(jr(),mt(l=>{if(l instanceof Eu)throw hh(new mu,l);a[u]=l}))),im(1),QE(a),Ho(u=>hI(u)?Vr:Ya(u)))}function hP(t,e,n,r){let o=Au(e)??r,a=as(t,o),u=a.resolve?a.resolve(e,n):gr(o,()=>a(e,n));return Gr(u)}function Am(t){return Vn(e=>{let n=t(e);return n?an(n).pipe(Ie(()=>e)):te(e)})}var mI=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Su]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>D(dP),providedIn:"root"})}return t})(),dP=(()=>{class t extends mI{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)($e(FC))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iv=new le("",{providedIn:"root",factory:()=>({})}),fP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=De({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,o){r&1&&dt(0,"router-outlet")},dependencies:[nv],encapsulation:2})}return t})();function ov(t){let e=t.children&&t.children.map(ov),n=e?Ce(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=fP),n}var sv=new le(""),pP=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(dm);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Gr(n.loadComponent()).pipe(Ie(vI),mt(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),zl(()=>{this.componentLoaders.delete(n)})),o=new Jg(r,()=>new ge).pipe(Zg());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=gP(r,this.compiler,n,this.onLoadEndListener).pipe(zl(()=>{this.childrenLoaders.delete(r)})),u=new Jg(a,()=>new ge).pipe(Zg());return this.childrenLoaders.set(r,u),u}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gP(t,e,n,r){return Gr(t.loadChildren()).pipe(Ie(vI),In(o=>o instanceof dC||Array.isArray(o)?te(o):an(e.compileModuleAsync(o))),Ie(o=>{r&&r(t);let a,u,l=!1;return Array.isArray(o)?(u=o,l=!0):(a=o.create(n).injector,u=a.get(sv,[],{optional:!0,self:!0}).flat()),{routes:u.map(ov),injector:a}}))}function mP(t){return t&&typeof t=="object"&&"default"in t}function vI(t){return mP(t)?t.default:t}var av=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>D(vP),providedIn:"root"})}return t})(),vP=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yP=new le("");var _P=new le(""),wP=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortSubject=new ge;configLoader=D(pP);environmentInjector=D(Br);urlSerializer=D(ev);rootContexts=D(fh);location=D(Qo);inputBindingEnabled=D(rv,{optional:!0})!==null;titleStrategy=D(mI);options=D(iv,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(av);createViewTransition=D(yP,{optional:!0});navigationErrorHandler=D(_P,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;constructor(){let n=o=>this.events.next(new Fm(o)),r=o=>this.events.next(new Vm(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ce(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new ct({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rt(a=>a.id!==0),Ie(a=>Ce(F({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Vn(a=>{let u=!1,l=!1;return te(a).pipe(Vn(h=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",hn.SupersededByNewNavigation),Vr;this.currentTransition=a,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,targetBrowserUrl:typeof h.extras.browserUrl=="string"?this.urlSerializer.parse(h.extras.browserUrl):h.extras.browserUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=h.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!p&&g!=="reload"){let y="";return this.events.next(new zi(h.id,this.urlSerializer.serialize(h.rawUrl),y,xm.IgnoredSameUrlNavigation)),h.resolve(!1),Vr}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return te(h).pipe(Vn(y=>{let _=this.transitions?.getValue();return this.events.next(new yu(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?Vr:Promise.resolve(y)}),aP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ce(F({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let _=new sh(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:y,extractedUrl:_,source:b,restoredState:E,extras:C}=h,A=new yu(y,this.urlSerializer.serialize(_),b,E);this.events.next(A);let N=oI(this.rootComponentType).snapshot;return this.currentTransition=a=Ce(F({},h),{targetSnapshot:N,urlAfterRedirects:_,extras:Ce(F({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,te(a)}else{let y="";return this.events.next(new zi(h.id,this.urlSerializer.serialize(h.extractedUrl),y,xm.IgnoredByUrlHandlingStrategy)),h.resolve(!1),Vr}}),mt(h=>{let p=new Nm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ie(h=>(this.currentTransition=a=Ce(F({},h),{guards:DM(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),a)),VM(this.environmentInjector,h=>this.events.next(h)),mt(h=>{if(a.guardsResult=h.guardsResult,h.guardsResult&&typeof h.guardsResult!="boolean")throw hh(this.urlSerializer,h.guardsResult);let p=new Mm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(p)}),Rt(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",hn.GuardRejected),!1)),Am(h=>{if(h.guards.canActivateChecks.length)return te(h).pipe(mt(p=>{let g=new Pm(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),Vn(p=>{let g=!1;return te(p).pipe(uP(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",hn.NoDataFromResolver)}}))}),mt(p=>{let g=new Lm(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),Am(h=>{let p=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(mt(_=>{g.component=_}),Ie(()=>{})));for(let _ of g.children)y.push(...p(_));return y};return em(p(h.targetSnapshot.root)).pipe(nm(null),Fn(1))}),Am(()=>this.afterPreactivation()),Vn(()=>{let{currentSnapshot:h,targetSnapshot:p}=a,g=this.createViewTransition?.(this.environmentInjector,h.root,p.root);return g?an(g).pipe(Ie(()=>a)):te(a)}),Ie(h=>{let p=EM(n.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=a=Ce(F({},h),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),mt(()=>{this.events.next(new wu)}),AM(this.rootContexts,n.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Fn(1),mt({next:h=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hr(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{u=!0}}),Li(this.transitionAbortSubject.pipe(mt(h=>{throw h}))),zl(()=>{!u&&!l&&this.cancelNavigationTransition(a,"",hn.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ho(h=>{if(l=!0,lI(h))this.events.next(new wr(a.id,this.urlSerializer.serialize(a.extractedUrl),h.message,h.cancellationCode)),SM(h)?this.events.next(new os(h.url,h.navigationBehaviorOptions)):a.resolve(!1);else{let p=new _u(a.id,this.urlSerializer.serialize(a.extractedUrl),h,a.targetSnapshot??void 0);try{let g=gr(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(g instanceof Eu){let{message:y,cancellationCode:_}=hh(this.urlSerializer,g);this.events.next(new wr(a.id,this.urlSerializer.serialize(a.extractedUrl),y,_)),this.events.next(new os(g.redirectTo,g.navigationBehaviorOptions))}else throw this.events.next(p),h}catch(g){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(g)}}return Vr}))}))}cancelNavigationTransition(n,r,o){let a=new wr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(a),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bP(t){return t!==pu}var EP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>D(CP),providedIn:"root"})}return t})(),Jm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CP=(()=>{class t extends Jm{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>D(IP),providedIn:"root"})}return t})(),IP=(()=>{class t extends yI{location=D(Qo);urlSerializer=D(ev);options=D(iv,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=D(av);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=oI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof yu)this.stateMemento=this.createStateMemento();else if(n instanceof zi)this.rawUrlTree=r.initialUrl;else if(n instanceof sh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof wu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof wr&&(n.code===hn.GuardRejected||n.code===hn.NoDataFromResolver)?this.restoreHistory(r):n instanceof _u?this.restoreHistory(r,!0):n instanceof Hr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=n instanceof br?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,u=F(F({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",u)}else{let a=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===n.finalUrl&&a===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),du=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(du||{});function SP(t,e){t.events.pipe(Rt(n=>n instanceof Hr||n instanceof wr||n instanceof _u||n instanceof zi),Ie(n=>n instanceof Hr||n instanceof zi?du.COMPLETE:(n instanceof wr?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?du.REDIRECTING:du.FAILED),Rt(n=>n!==du.REDIRECTING),Fn(1)).subscribe(()=>{e()})}var AP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},uv=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Gl);stateManager=D(yI);options=D(iv,{optional:!0})||{};pendingTasks=D(oC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(wP);urlSerializer=D(ev);location=D(Qo);urlHandlingStrategy=D(av);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(EP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(sv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(rv,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ni;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof wr&&r.code!==hn.Redirect&&r.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Hr)this.navigated=!0;else if(r instanceof os){let u=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),h=F({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bP(o.source)},u);this.scheduleNavigation(l,pu,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}RP(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let a={replaceUrl:!0},u=o?.navigationId?o:null;if(o){let h=F({},o);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(a.state=h)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ov),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:a,fragment:u,queryParamsHandling:l,preserveFragment:h}=r,p=h?this.currentUrlTree.fragment:u,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=F(F({},this.currentUrlTree.queryParams),a);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=a||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let _=o?o.snapshot:this.routerState.snapshot.root;y=tI(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),y=this.currentUrlTree.root}return nI(y,n,g,p??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=qi(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,pu,null,r)}navigate(n,r={skipLocationChange:!1}){return TP(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=F({},AP):r===!1?o=F({},DP):o=r,qi(n))return VC(this.currentUrlTree,n,o);let a=this.parseUrl(n);return VC(this.currentUrlTree,a,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(n,r,o,a,u){if(this.disposed)return Promise.resolve(!1);let l,h,p;u?(l=u.resolve,h=u.reject,p=u.promise):p=new Promise((y,_)=>{l=y,h=_});let g=this.pendingTasks.add();return SP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:l,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Le(4008,!1)}function RP(t){return!(t instanceof wu)&&!(t instanceof os)}var _I=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ge;constructor(n,r,o,a,u,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=u,this.locationStrategy=l;let h=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=n.events.subscribe(p=>{p instanceof Hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,a,u){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||o||a||u||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:hC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,n,r):o.removeAttribute(a,n)}get urlTree(){return this.routerLinkInput===null?null:qi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(ie(uv),ie(Hi),rC("tabindex"),ie(Vi),ie(ht),ie(fm))};static \u0275dir=Oe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Ue("click",function(u){return o.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),r&2&&mr("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",tr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",tr],replaceUrl:[2,"replaceUrl","replaceUrl",tr],routerLink:"routerLink"},features:[ru,Jn]})}return t})();var OP=new le("");function wI(t,...e){return Qa([{provide:sv,multi:!0,useValue:t},[],{provide:Hi,useFactory:kP,deps:[uv]},{provide:pC,multi:!0,useFactory:xP},e.map(n=>n.\u0275providers)])}function kP(t){return t.routerState.root}function xP(){let t=D(_t);return e=>{let n=t.get(ji);if(e!==n.components[0])return;let r=t.get(uv),o=t.get(NP);t.get(MP)===1&&r.initialNavigation(),t.get(PP,null,om.Optional)?.setUpPreloading(),t.get(OP,null,om.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var NP=new le("",{factory:()=>new ge}),MP=new le("",{providedIn:"root",factory:()=>1});var PP=new le("");function gh(t,e=0){return LP(t)?Number(t):arguments.length===2?e:0}function LP(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function cv(t){return Array.isArray(t)?t:[t]}function Xe(t){return t==null?"":typeof t=="string"?t:`${t}px`}function us(t){return t instanceof ht?t.nativeElement:t}var hv;try{hv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hv=!1}var dn=(()=>{class t{_platformId=D(Fi);isBrowser=this._platformId?IC(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||hv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Tu;function FP(){if(Tu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tu=!0}))}finally{Tu=Tu||!1}return Tu}function dv(t){return FP()?t:!!t.capture}var Gi;function fv(){if(Gi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Gi=!1,Gi;if("scrollBehavior"in document.documentElement.style)Gi=!0;else{let t=Element.prototype.scrollTo;t?Gi=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Gi=!1}}return Gi}var lv;function VP(){if(lv==null){let t=typeof document<"u"?document.head:null;lv=!!(t&&(t.createShadowRoot||t.attachShadow))}return lv}function bI(t){if(VP()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ru(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Er(t){return t.composedPath?t.composedPath()[0]:t.target}function pv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var jP=new le("cdk-dir-doc",{providedIn:"root",factory:UP});function UP(){return D(_e)}var BP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function qP(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?BP.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ou=(()=>{class t{value="ltr";change=new lt;constructor(){let n=D(jP,{optional:!0});if(n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=qP(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zP=20,EI=(()=>{class t{_ngZone=D(ze);_platform=D(dn);_document=D(_e,{optional:!0});constructor(){}_scrolled=new ge;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=zP){return this._platform.isBrowser?new WE(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(tm(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Rt(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,n)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=us(r),a=n.getElementRef().nativeElement;do if(o==a)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return XE(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var HP=20,gv=(()=>{class t{_platform=D(dn);_viewportSize;_change=new ge;_changeListener=n=>{this._change.next(n)};_document=D(_e,{optional:!0});constructor(){D(ze).runOutsideAngular(()=>{if(this._platform.isBrowser){let r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,a=o.getBoundingClientRect(),u=-a.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-a.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:u,left:l}}change(n=HP){return n>0?this._change.pipe(tm(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ku=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},cs=class extends ku{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,n,r,o,a){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.projectableNodes=a}},ls=class extends ku{templateRef;viewContainerRef;context;injector;constructor(e,n,r,o){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},mv=class extends ku{element;constructor(e){super(),this.element=e instanceof ht?e.nativeElement:e}},hs=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof cs)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ls)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof mv)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var mh=class extends hs{outletElement;_appRef;_defaultInjector;_document;constructor(e,n,r,o,a){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=o,this._document=a}attachComponentPortal(e){let n;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,o=r.get(cm,null,{optional:!0})||void 0;n=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:o,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else n=Yl(e.component,{elementInjector:e.injector||this._defaultInjector||_t.NULL,environmentInjector:this._appRef.injector,projectableNodes:e.projectableNodes||void 0}),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=n.indexOf(r);o!==-1&&n.remove(o)}),this._attachedPortal=e,r}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");n.parentNode.insertBefore(r,n),this.outletElement.appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var xu=(()=>{class t extends hs{_moduleRef=D(cm,{optional:!0});_document=D(_e);_viewContainerRef=D(Wo);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new lt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,o=r.createComponent(n.component,{index:r.length,injector:n.injector||r.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=n=>{let r=n.element;r.parentNode;let o=this._document.createComment("dom-portal");n.setAttachedHost(this),r.parentNode.insertBefore(o,r),this._getRootNode().appendChild(r),this._attachedPortal=n,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(r,o)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Oe({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[wt]})}return t})();var vh=new WeakMap,Nu=(()=>{class t{_appRef;_injector=D(_t);_environmentInjector=D(Br);load(n){let r=this._appRef=this._appRef||this._injector.get(ji),o=vh.get(r);o||(o={loaders:new Set,refs:[]},vh.set(r,o),r.onDestroy(()=>{vh.get(r)?.refs.forEach(a=>a.destroy()),vh.delete(r)})),o.loaders.has(n)||(o.loaders.add(n),o.refs.push(Yl(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=De({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,o){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return t})();function yh(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var _v=(()=>{class t{_platform=D(dn);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return WP(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=GP(eL(n));if(r&&(II(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),a=II(n);return n.hasAttribute("contenteditable")?a!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!ZP(n)?!1:o==="audio"?n.hasAttribute("controls")?a!==-1:!1:o==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return JP(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GP(t){try{return t.frameElement}catch{return null}}function WP(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function KP(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function $P(t){return XP(t)&&t.type=="hidden"}function YP(t){return QP(t)&&t.hasAttribute("href")}function XP(t){return t.nodeName.toLowerCase()=="input"}function QP(t){return t.nodeName.toLowerCase()=="a"}function SI(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function II(t){if(!SI(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function ZP(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function JP(t){return $P(t)?!1:KP(t)||YP(t)||t.hasAttribute("contenteditable")||SI(t)}function eL(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var yv=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,n,r,o,a=!1,u){this._element=e,this._checker=n,this._ngZone=r,this._document=o,this._injector=u,a||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let o=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let o=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(o)return o}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?qr(e,{injector:this._injector}):setTimeout(e)}},AI=(()=>{class t{_checker=D(_v);_ngZone=D(ze);_document=D(_e);_injector=D(_t);constructor(){D(Nu).load(CI)}create(n,r=!1){return new yv(n,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tL(t){return t.buttons===0||t.detail===0}function nL(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var rL=new le("cdk-input-modality-detector-options"),iL={ignoreKeys:[18,17,224,91,16]},DI=650,ds=dv({passive:!0,capture:!0}),oL=(()=>{class t{_platform=D(dn);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ct(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Er(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<DI||(this._modality.next(tL(n)?"keyboard":"mouse"),this._mostRecentTarget=Er(n))};_onTouchstart=n=>{if(nL(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Er(n)};constructor(){let n=D(ze),r=D(_e),o=D(rL,{optional:!0});this._options=F(F({},iL),o),this.modalityDetected=this._modality.pipe(eC(1)),this.modalityChanged=this.modalityDetected.pipe(rm()),this._platform.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ds),r.addEventListener("mousedown",this._onMousedown,ds),r.addEventListener("touchstart",this._onTouchstart,ds)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ds),document.removeEventListener("mousedown",this._onMousedown,ds),document.removeEventListener("touchstart",this._onTouchstart,ds))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wh=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(wh||{}),sL=new le("cdk-focus-monitor-default-options"),_h=dv({passive:!0,capture:!0}),TI=(()=>{class t{_ngZone=D(ze);_platform=D(dn);_inputModalityDetector=D(oL);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=D(_e,{optional:!0});_stopInputModalityDetector=new ge;constructor(){let n=D(sL,{optional:!0});this._detectionMode=n?.detectionMode||wh.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=Er(n);for(let o=r;o;o=o.parentElement)n.type==="focus"?this._onFocus(n,o):this._onBlur(n,o)};monitor(n,r=!1){let o=us(n);if(!this._platform.isBrowser||o.nodeType!==1)return te();let a=bI(o)||this._getDocument(),u=this._elementInfo.get(o);if(u)return r&&(u.checkChildren=!0),u.subject;let l={checkChildren:r,subject:new ge,rootNode:a};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=us(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let a=us(n),u=this._getDocument().activeElement;a===u?this._getClosestElementsInfo(a).forEach(([l,h])=>this._originChanged(l,r,h)):(this._setOrigin(r),typeof a.focus=="function"&&a.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===wh.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===wh.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?DI:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),a=Er(n);!o||!o.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,_h),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,_h)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Li(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_h),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_h),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,a)=>{(a===n||o.checkChildren&&a.contains(n))&&r.push([a,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let a=n.labels;if(a){for(let u=0;u<a.length;u++)if(a[u].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vv={},fs=(()=>{class t{_appId=D(Za);getId(n){return this._appId!=="ng"&&(n+=this._appId),vv.hasOwnProperty(n)||(vv[n]=0),`${n}${vv[n]++}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RI=fv(),wv=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,n){this._viewportRuler=e,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xe(-this._previousScrollPosition.left),e.style.top=Xe(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,o=n.style,a=r.scrollBehavior||"",u=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),RI&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RI&&(r.scrollBehavior=a,o.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var bv=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,n,r,o){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Rt(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},bh=class{enable(){}disable(){}attach(){}};function Ev(t,e){return e.some(n=>{let r=t.bottom<n.top,o=t.top>n.bottom,a=t.right<n.left,u=t.left>n.right;return r||o||a||u})}function OI(t,e){return e.some(n=>{let r=t.top<n.top,o=t.bottom>n.bottom,a=t.left<n.left,u=t.right>n.right;return r||o||a||u})}var Cv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();Ev(n,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},aL=(()=>{class t{_scrollDispatcher=D(EI);_viewportRuler=D(gv);_ngZone=D(ze);_document=D(_e);constructor(){}noop=()=>new bh;close=n=>new bv(this._scrollDispatcher,this._ngZone,this._viewportRuler,n);block=()=>new wv(this._viewportRuler,this._document);reposition=n=>new Cv(this._scrollDispatcher,this._viewportRuler,this._ngZone,n);static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mu=class{positionStrategy;scrollStrategy=new bh;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var Iv=class{connectionPair;scrollableViewProperties;constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var FI=(()=>{class t{_attachedOverlays=[];_document=D(_e);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uL=(()=>{class t extends FI{_ngZone=D(ze,{optional:!0});add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}_keydownListener=n=>{let r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){let a=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(n)):a.next(n);break}};static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cL=(()=>{class t extends FI{_platform=D(dn);_ngZone=D(ze,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=n=>{this._pointerDownEventTarget=Er(n)};_clickListener=n=>{let r=Er(n),o=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let u=a.length-1;u>-1;u--){let l=a[u];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(kI(l.overlayElement,r)||kI(l.overlayElement,o))break;let h=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(n)):h.next(n)}};static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kI(t,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===t)return!0;r=n&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var VI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=De({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),Eh=(()=>{class t{_platform=D(dn);_containerElement;_document=D(_e);_styleLoader=D(Nu);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||pv()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}let r=this._document.createElement("div");r.classList.add(n),pv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(VI)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ps=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_backdropElement=null;_backdropTimeout;_backdropClick=new ge;_attachments=new ge;_detachments=new ge;_positionStrategy;_scrollStrategy;_locationChanges=Ni.EMPTY;_backdropClickHandler=e=>this._backdropClick.next(e);_backdropTransitionendHandler=e=>{this._disposeBackdrop(e.target)};_previousHostParent;_keydownEvents=new ge;_outsidePointerEvents=new ge;_renders=new ge;_afterRenderRef;_afterNextRenderRef;constructor(e,n,r,o,a,u,l,h,p,g=!1,y){this._portalOutlet=e,this._host=n,this._pane=r,this._config=o,this._ngZone=a,this._keyboardDispatcher=u,this._document=l,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=g,this._injector=y,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=nr(()=>lC(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=qr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=F(F({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ce(F({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Xe(this._config.width),e.height=Xe(this._config.height),e.minWidth=Xe(this._config.minWidth),e.minHeight=Xe(this._config.minHeight),e.maxWidth=Xe(this._config.maxWidth),e.maxHeight=Xe(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let o=cv(n||[]).filter(a=>!!a);o.length&&(r?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Li(ql(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},xI="cdk-overlay-connected-position-bounding-box",lL=/([A-Za-z%]+)$/,Sv=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ge;_resizeSubscription=Ni.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,n,r,o,a){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=a,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(xI),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,o=this._containerRect,a=[],u;for(let l of this._preferredPositions){let h=this._getOriginPoint(e,o,l),p=this._getOverlayPoint(h,n,l),g=this._getOverlayFit(p,n,r,l);if(g.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,h);return}if(this._canFitWithFlexibleDimensions(g,p,r)){a.push({position:l,origin:h,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(h,l)});continue}(!u||u.overlayFit.visibleArea<g.visibleArea)&&(u={overlayFit:g,overlayPoint:p,originPoint:h,position:l,overlayRect:n})}if(a.length){let l=null,h=-1;for(let p of a){let g=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);g>h&&(h=g,l=p)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(u.position,u.originPoint);return}this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let o;if(r.originX=="center")o=e.left+e.width/2;else{let u=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;o=r.originX=="start"?u:l}n.left<0&&(o-=n.left);let a;return r.originY=="center"?a=e.top+e.height/2:a=r.originY=="top"?e.top:e.bottom,n.top<0&&(a-=n.top),{x:o,y:a}}_getOverlayPoint(e,n,r){let o;r.overlayX=="center"?o=-n.width/2:r.overlayX==="start"?o=this._isRtl()?-n.width:0:o=this._isRtl()?0:-n.width;let a;return r.overlayY=="center"?a=-n.height/2:a=r.overlayY=="top"?0:-n.height,{x:e.x+o,y:e.y+a}}_getOverlayFit(e,n,r,o){let a=MI(n),{x:u,y:l}=e,h=this._getOffset(o,"x"),p=this._getOffset(o,"y");h&&(u+=h),p&&(l+=p);let g=0-u,y=u+a.width-r.width,_=0-l,b=l+a.height-r.height,E=this._subtractOverflows(a.width,g,y),C=this._subtractOverflows(a.height,_,b),A=E*C;return{visibleArea:A,isCompletelyWithinViewport:a.width*a.height===A,fitsInViewportVertically:C===a.height,fitsInViewportHorizontally:E==a.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let o=r.bottom-n.y,a=r.right-n.x,u=NI(this._overlayRef.getConfig().minHeight),l=NI(this._overlayRef.getConfig().minWidth),h=e.fitsInViewportVertically||u!=null&&u<=o,p=e.fitsInViewportHorizontally||l!=null&&l<=a;return h&&p}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=MI(n),a=this._viewportRect,u=Math.max(e.x+o.width-a.width,0),l=Math.max(e.y+o.height-a.height,0),h=Math.max(a.top-r.top-e.y,0),p=Math.max(a.left-r.left-e.x,0),g=0,y=0;return o.width<=a.width?g=p||-u:g=e.x<this._viewportMargin?a.left-r.left-e.x:0,o.height<=a.height?y=h||-l:y=e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:g,y},{x:e.x+g,y:e.y+y}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!hL(this._lastScrollVisibility,r)){let o=new Iv(e,r);this._positionChanges.next(o)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,o=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let a=0;a<n.length;a++)n[a].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,o=this._isRtl(),a,u,l;if(n.overlayY==="top")u=e.y,a=r.height-u+this._viewportMargin;else if(n.overlayY==="bottom")l=r.height-e.y+this._viewportMargin*2,a=r.height-l+this._viewportMargin;else{let b=Math.min(r.bottom-e.y+r.top,e.y),E=this._lastBoundingBoxSize.height;a=b*2,u=e.y-b,a>E&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-E/2)}let h=n.overlayX==="start"&&!o||n.overlayX==="end"&&o,p=n.overlayX==="end"&&!o||n.overlayX==="start"&&o,g,y,_;if(p)_=r.width-e.x+this._viewportMargin*2,g=e.x-this._viewportMargin;else if(h)y=e.x,g=r.right-e.x;else{let b=Math.min(r.right-e.x+r.left,e.x),E=this._lastBoundingBoxSize.width;g=b*2,y=e.x-b,g>E&&!this._isInitialRender&&!this._growAfterOpen&&(y=e.x-E/2)}return{top:u,left:y,bottom:l,right:_,width:g,height:a}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;o.height=Xe(r.height),o.top=Xe(r.top),o.bottom=Xe(r.bottom),o.width=Xe(r.width),o.left=Xe(r.left),o.right=Xe(r.right),n.overlayX==="center"?o.alignItems="center":o.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?o.justifyContent="center":o.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",a&&(o.maxHeight=Xe(a)),u&&(o.maxWidth=Xe(u))}this._lastBoundingBoxSize=r,Wi(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Wi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},o=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(o){let g=this._viewportRuler.getViewportScrollPosition();Wi(r,this._getExactOverlayY(n,e,g)),Wi(r,this._getExactOverlayX(n,e,g))}else r.position="static";let l="",h=this._getOffset(n,"x"),p=this._getOffset(n,"y");h&&(l+=`translateX(${h}px) `),p&&(l+=`translateY(${p}px)`),r.transform=l.trim(),u.maxHeight&&(o?r.maxHeight=Xe(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(o?r.maxWidth=Xe(u.maxWidth):a&&(r.maxWidth="")),Wi(this._pane.style,r)}_getExactOverlayY(e,n,r){let o={top:"",bottom:""},a=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),e.overlayY==="bottom"){let u=this._document.documentElement.clientHeight;o.bottom=`${u-(a.y+this._overlayRect.height)}px`}else o.top=Xe(a.y);return o}_getExactOverlayX(e,n,r){let o={left:"",right:""},a=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r));let u;if(this._isRtl()?u=e.overlayX==="end"?"left":"right":u=e.overlayX==="end"?"right":"left",u==="right"){let l=this._document.documentElement.clientWidth;o.right=`${l-(a.x+this._overlayRect.width)}px`}else o.left=Xe(a.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OI(e,r),isOriginOutsideView:Ev(e,r),isOverlayClipped:OI(n,r),isOverlayOutsideView:Ev(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cv(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ht)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function Wi(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function NI(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(lL);return!n||n==="px"?parseFloat(e):null}return t||null}function MI(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function hL(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var PI="cdk-global-overlay-wrapper",Av=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(PI),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:a,maxWidth:u,maxHeight:l}=r,h=(o==="100%"||o==="100vw")&&(!u||u==="100%"||u==="100vw"),p=(a==="100%"||a==="100vh")&&(!l||l==="100%"||l==="100vh"),g=this._xPosition,y=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",b="",E="",C="";h?C="flex-start":g==="center"?(C="center",_?E=y:b=y):_?g==="left"||g==="end"?(C="flex-end",b=y):(g==="right"||g==="start")&&(C="flex-start",E=y):g==="left"||g==="start"?(C="flex-start",b=y):(g==="right"||g==="end")&&(C="flex-end",E=y),e.position=this._cssPosition,e.marginLeft=h?"0":b,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=h?"0":E,n.justifyContent=C,n.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(PI),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},dL=(()=>{class t{_viewportRuler=D(gv);_document=D(_e);_platform=D(dn);_overlayContainer=D(Eh);constructor(){}global(){return new Av}flexibleConnectedTo(n){return new Sv(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gs=(()=>{class t{scrollStrategies=D(aL);_overlayContainer=D(Eh);_positionBuilder=D(dL);_keyboardDispatcher=D(uL);_injector=D(_t);_ngZone=D(ze);_document=D(_e);_directionality=D(Ou);_location=D(Qo);_outsideClickDispatcher=D(cL);_animationsModuleType=D(Go,{optional:!0});_idGenerator=D(fs);_appRef;_styleLoader=D(Nu);constructor(){}create(n){this._styleLoader.load(VI);let r=this._createHostElement(),o=this._createPaneElement(r),a=this._createPortalOutlet(o),u=new Mu(n);return u.direction=u.direction||this._directionality.value,new ps(a,r,o,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Br))}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(ji)),new mh(n,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pL(t,e){}var Wr=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Rv=(()=>{class t extends hs{_elementRef=D(ht);_focusTrapFactory=D(AI);_config;_interactivityChecker=D(_v);_ngZone=D(ze);_overlayRef=D(ps);_focusMonitor=D(TI);_platform=D(dn);_document=D(_e,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=D(zr);_injector=D(_t);_isDestroyed=!1;constructor(){super(),this._config=D(Wr,{optional:!0})||new Wr,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}attachDomPortal=n=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){this._isDestroyed||qr(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Ru(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Ru();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ru()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=De({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&lm(xu,7),r&2){let a;Kl(a=$l())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&mr("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[wt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Sn(0,pL,0,0,"ng-template",0)},dependencies:[xu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),Pu=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ge;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,n){this.overlayRef=e,this.config=n,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!yh(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},gL=new le("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=D(gs);return()=>t.scrollStrategies.block()}}),mL=new le("DialogData"),vL=new le("DefaultDialogConfig");var jI=(()=>{class t{_overlay=D(gs);_injector=D(_t);_defaultOptions=D(vL,{optional:!0});_parentDialog=D(t,{optional:!0,skipSelf:!0});_overlayContainer=D(Eh);_idGenerator=D(fs);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ge;_afterOpenedAtThisLevel=new ge;_ariaHiddenElements=new Map;_scrollStrategy=D(gL);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Mi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pi(void 0)));constructor(){}open(n,r){let o=this._defaultOptions||new Wr;r=F(F({},o),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let a=this._getOverlayConfig(r),u=this._overlay.create(a),l=new Pu(u,r),h=this._attachContainer(u,l,r);return l.containerInstance=h,this._attachDialogContent(n,l,h,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Dv(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){Dv(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Dv(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new Mu({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let a=o.injector||o.viewContainerRef?.injector,u=[{provide:Wr,useValue:o},{provide:Pu,useValue:r},{provide:ps,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,u.push(...o.container.providers(o))):l=Rv;let h=new cs(l,o.viewContainerRef,_t.create({parent:a||this._injector,providers:u}));return n.attach(h).instance}_attachDialogContent(n,r,o,a){if(n instanceof nu){let u=this._createInjector(a,r,o,void 0),l={$implicit:a.data,dialogRef:r};a.templateContext&&(l=F(F({},l),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),o.attachTemplatePortal(new ls(n,null,l,u))}else{let u=this._createInjector(a,r,o,this._injector),l=o.attachComponentPortal(new cs(n,a.viewContainerRef,u));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,a){let u=n.injector||n.viewContainerRef?.injector,l=[{provide:mL,useValue:n.data},{provide:Pu,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!u||!u.get(Ou,null,{optional:!0}))&&l.push({provide:Ou,useValue:{value:n.direction,change:te()}}),_t.create({parent:u||a,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let a=r[o];a!==n&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dv(t,e){let n=t.length;for(;n--;)e(t[n])}function yL(t,e){}var Ih=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Ov="mdc-dialog--open",UI="mdc-dialog--opening",BI="mdc-dialog--closing",_L=150,wL=75,bL=(()=>{class t extends Rv{_animationMode=D(Go,{optional:!0});_animationStateChanged=new lt;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?zI(this._config.enterAnimationDuration)??_L:0;_exitAnimationDuration=this._animationsEnabled?zI(this._config.exitAnimationDuration)??wL:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(qI,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(UI,Ov)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ov),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ov),this._animationsEnabled?(this._hostElement.style.setProperty(qI,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(BI)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(UI,BI)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275cmp=De({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(gC("id",o._config.id),mr("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),$o("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[wt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1),Sn(2,yL,0,0,"ng-template",2),U()())},dependencies:[xu],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),qI="--mat-dialog-transition-duration";function zI(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?gh(t.substring(0,t.length-2)):t.endsWith("s")?gh(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Ch=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Ch||{}),Lu=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new ge;_beforeClosed=new ge;_result;_closeFallbackTimeout;_state=Ch.OPEN;_closeInteractionType;constructor(e,n,r){this._ref=e,this._containerInstance=r,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(Rt(o=>o.state==="opened"),Fn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Rt(o=>o.state==="closed"),Fn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ql(this.backdropClick(),this.keydownEvents().pipe(Rt(o=>o.keyCode===27&&!this.disableClose&&!yh(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),EL(this,o.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Rt(n=>n.state==="closing"),Fn(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Ch.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Ch.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function EL(t,e,n){return t._closeInteractionType=e,t.close(n)}var CL=new le("MatMdcDialogData"),IL=new le("mat-mdc-dialog-default-options"),SL=new le("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=D(gs);return()=>t.scrollStrategies.block()}});var HI=(()=>{class t{_overlay=D(gs);_defaultOptions=D(IL,{optional:!0});_scrollStrategy=D(SL);_parentDialog=D(t,{optional:!0,skipSelf:!0});_idGenerator=D(fs);_dialog=D(jI);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ge;_afterOpenedAtThisLevel=new ge;dialogConfigClass=Ih;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Mi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pi(void 0)));constructor(){this._dialogRefConstructor=Lu,this._dialogContainerType=bL,this._dialogDataToken=CL}open(n,r){let o;r=F(F({},this._defaultOptions||new Ih),r),r.id=r.id||this._idGenerator.getId("mat-mdc-dialog-"),r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(n,Ce(F({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Wr,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(u,l,h)=>(o=new this._dialogRefConstructor(u,r,h),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=a.componentRef,o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let u=this.openDialogs.indexOf(o);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zt=(gS(),Xg(pS)),jt=class{static init(e){return Zt.default.initializeApp(e),[]}static getFirestore(){return Zt.default.firestore()}static _getFirestore(){return Zt.default.firestore}static getAuth(){return Zt.default.auth()}static getStorage(){return Zt.default.storage()}static getFirestoreTimestamp(){return Zt.default.firestore.Timestamp.now()}};vS();var Oh=class{constructor(){this.auth=jt.getAuth()}createAccountWith(e){return new Promise((n,r)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(o=>{try{e.onComplete(o)}catch{}n(o)}).catch(o=>{try{e.onFail(o)}catch{}r(o)})})}signInAnonymously(e){return new Promise((n,r)=>{this.auth.signInAnonymously().then(o=>{try{e.onComplete(o)}catch{}n(o)}).catch(o=>{try{e.onFail(o)}catch{}r(o)})})}signInWith(e){return new Promise((n,r)=>{e.provider?this.auth.signInWithPopup(this.getProvider(e.provider)).then(o=>{try{e.onComplete(o)}catch{}n(o)}).catch(o=>{try{e.onFail(o)}catch{}r(o)}):this.auth.signInWithEmailAndPassword(e.email,e.password).then(o=>{try{e.onComplete(o)}catch{}n(o)}).catch(o=>{try{e.onFail(o)}catch{}r(o)})})}getProvider(e){switch(e.toLowerCase()){case"google":return new Zt.default.auth.GoogleAuthProvider;case"apple":return new Zt.default.auth.OAuthProvider("apple.com");case"facebook":return new Zt.default.auth.FacebookAuthProvider;case"yahoo":return new Zt.default.auth.OAuthProvider("yahoo.com");case"github":return new Zt.default.auth.GithubAuthProvider;case"twitter":return new Zt.default.auth.TwitterAuthProvider;case"microsoft":return new Zt.default.auth.OAuthProvider("microsoft.com")}}signOut(e){return new Promise((n,r)=>{e?this.auth.signOut().then(()=>{try{e.onComplete()}catch{}n()}).catch(()=>{try{e.onFail()}catch{}r(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(e){this.auth.onAuthStateChanged(n=>{e(n)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(e){console.error(`${e} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(e){e.onComplete?this.auth.sendPasswordResetEmail(e.email).then(()=>e.onComplete(`Instructions to reset password was sent to ${e.email}.`)).catch(()=>e.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(e.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(e){console.error(`User must be signed in to use the isEmailVerified() function. 
${e}`)}return!1}isSignedIn(){return this.auth.currentUser!=null||this.auth.currentUser!=null}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(e){let n=this.getAuth().currentUser;try{e.whenChanged(n)}catch{}if(this.isSignedIn()){try{e.whenSignedIn(n)}catch{}if(this.isEmailVerified())try{e.whenSignedInAndEmailVerified(n)}catch{}else try{e.whenSignedInAndEmailNotVerified(n)}catch{}}else try{e.whenSignedOut(n)}catch{}}};VR();var Wd=class{constructor(){this.listeners=new Map}appendArray(e){return jt._getFirestore().FieldValue.arrayUnion(e)}increment(e){return jt._getFirestore().FieldValue.increment(e)}genDocId(){return jt.getFirestore().collection("TEMP").doc().id}all(e){let n=jt.getFirestore().batch();for(let r of e.operations)r.getOperation(n);return new Promise((r,o)=>{n.commit().then(()=>{try{e.onComplete()}catch{}r()}).catch(a=>{try{e.onFail(a)}catch{}o(a)})})}create(e){return new Promise((n,r)=>{if(e.data==null||e.data==null)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(e.path)){let o=this.genCollectionReference(e.path).doc();o.set(e.data).then(()=>{try{e.onComplete(o.id)}catch{}n(o.id)}).catch(a=>{try{e.onFail(a)}catch{}r(a)})}else if(this.isDocumentPath(e.path)){let o=this.genDocumentReference(e.path);o.set(e.data).then(()=>{try{e.onComplete(o.id)}catch{}n(o.id)}).catch(a=>{try{e.onFail(a)}catch{}r(a)})}})}delete(e){return new Promise((n,r)=>{this.checkDocumentPathValidity(e.path),this.genDocumentReference(e.path).delete().then(()=>{try{e.onComplete()}catch{}n()}).catch(o=>{try{e.onFail(o)}catch{}r(o)})})}update(e){return new Promise((n,r)=>{this.checkDocumentPathValidity(e.path);let o=this.genDocumentReference(e.path);o.update(e.data).then(()=>{try{e.onComplete(o)}catch{}n(o)}).catch(a=>{try{e.onFail(a)}catch{}r(a)})})}getCollection(e){let n=this.genCollectionReference(e.path);return(e.where!=null||e.where!=null)&&e.where.length>0?new Promise((r,o)=>{let a,u=Array(e.where)[0];for(let l=0;l<u.length;l++)a==null?a=u[l].getQuery(n):a=u[l].concatQuery(a);a.get().then(l=>{try{e.onComplete(l)}catch{}r(l)}).catch(l=>{try{e.onFail(l)}catch{}o(l)})}):new Promise((r,o)=>{n.get().then(a=>{try{e.onComplete(a)}catch{}r(a)}).catch(a=>{try{e.onFail(a)}catch{}o(a)})})}getDocument(e){return new Promise((n,r)=>{this.genDocumentReference(e.path).get().then(o=>{try{e.onComplete(o)}catch{}n(o)}).catch(o=>{try{e.onFail(o)}catch{}r(o)})})}listenToDocument(e){this.validateListenerName(e.name),this.addListener(e.name,this.genDocumentReference(e.path).onSnapshot(n=>{try{e.onUpdate(n)}catch{}}))}listenToCollection(e){this.validateListenerName(e.name);let n=this.genCollectionReference(e.path);if((e.where!=null||e.where!=null)&&e.where.length>0){let r,o=Array(e.where)[0];for(let a=0;a<o.length;a++)r==null?r=o[a].getQuery(n):r=o[a].concatQuery(r);this.addListener(e.name,r.onSnapshot(a=>{try{e.onUpdate(a)}catch{}}))}else this.addListener(e.name,n.onSnapshot(r=>{try{e.onUpdate(r)}catch{}}))}genCollectionReference(e){this.checkCollectionPathValidity(e);let n=Array(e)[0],r,o;for(let a=0;a<n.length;a++)a%2==0?r==null?r=jt.getFirestore().collection(n[a]):r=o.collection(n[a]):o=r.doc(n[a]);return r}genDocumentReference(e){this.checkDocumentPathValidity(e);let n=Array(e)[0],r,o;for(let a=0;a<n.length;a++)a%2==0?r==null?r=jt.getFirestore().collection(n[a]):r=o.collection(n[a]):o=r.doc(n[a]);return o}addListener(e,n){return this.listeners.set(e,n),n}stopListeningTo(e){try{this.listeners.get(e)(),this.listeners.delete(e)}catch{}}stopListeningToAll(){this.listeners.forEach((e,n,r)=>{this.stopListeningTo(n)})}validateListenerName(e){if(e==null||e==null||typeof e!="string"||e.trim().length<=0)throw"Listener name cannot be empty.";if(this.listeners.get(e)!=null)throw`Listener name: ${e} is already taken.`}checkCollectionPathValidity(e){if(e==null||e==null||e.length<=0||!this.isCollectionPath(e))throw"Not a valid path to a collection."}isCollectionPath(e){return Array(e)[0].length%2==1}checkDocumentPathValidity(e){if(e==null||e==null||e.length<=0||!this.isDocumentPath(e))throw"Not a valid path to a document."}isDocumentPath(e){return Array(e)[0].length%2==0}};var Kd=class{constructor(e,n){this.field=e,this.direction=n}getQuery(e){return e.orderBy(this.field,this.direction)}concatQuery(e){return e.orderBy(this.field,this.direction)}},$d=class{constructor(e){this.limit=e}getQuery(e){return e.limit(this.limit)}concatQuery(e){return e.limit(this.limit)}};var jR={production:!0,firebaseConfig:{apiKey:"AIzaSyCepG5wXhy2M7x8WPpV9ncpoPzIxxI3DkQ",authDomain:"reds-67f4e.firebaseapp.com",projectId:"reds-67f4e",storageBucket:"reds-67f4e.firebasestorage.app",messagingSenderId:"37108819357",appId:"1:37108819357:web:20f035068ccf174dc33b74",measurementId:"G-GHQ921Q27D"}};var tn=class t{auth;firestore;userDocument=null;posts=[];userDataSubject=new ct(null);userData$=this.userDataSubject.asObservable();userDataSubject1=new ct(null);userData1$=this.userDataSubject1.asObservable();isLoggedIn1=!1;userStatus=new ct(!1);userStatus$=this.userStatus.asObservable();constructor(){jt.init(jR.firebaseConfig),this.auth=new Oh,this.firestore=new Wd,this.getPosts(),this.auth.listenToSignInStateChanges(e=>{let n=!!e;this.userStatus.next(n),this.auth.checkSignInState({whenSignedIn:r=>{this.isLoggedIn1=!0,this.getInfoUser()},whenSignedOut:r=>{console.log("logout"),this.isLoggedIn1=!1},whenSignedInAndEmailNotVerified:r=>{},whenSignedInAndEmailVerified:r=>{},whenChanged:r=>{}})})}crearPostText(e){let n=this.firestore.genDocId();this.firestore.create({path:["Posts"],data:{id:n,nombre:this.userDocument?.nombre+" "+this.userDocument?.apellido,fotoUrl:this.userDocument?.fotoUrl,text:e,creatorId:this.auth.getAuth().currentUser?.uid,timestamp:jt.getFirestoreTimestamp(),likes:0},onComplete:r=>{alert("Publicacion creada")}})}crearPostImagen(e,n){let r=this.firestore.genDocId();this.firestore.create({path:["Posts",r],data:{id:r,nombre:this.userDocument?.nombre+" "+this.userDocument?.apellido,fotoUrl:this.userDocument?.fotoUrl,text:e,creatorId:this.auth.getAuth().currentUser?.uid,imageUrl:n,timestamp:jt.getFirestoreTimestamp(),likes:0},onComplete:o=>{alert("Publicacion creada")}})}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new Kd("timestamp","desc"),new $d(20)],onComplete:e=>{e.docs.forEach(n=>{let r=n.data();r.id=n.id,this.posts.push(r),this.userDataSubject1.next(this.posts),console.log("Post:",this.posts)})},onFail:e=>{console.error("Error al obtener los posts:",e)}})}registro(e,n,r,o,a){this.auth.createAccountWith({email:e,password:n,onComplete:u=>{let l=this.auth.getAuth().currentUser?.uid+"";this.firestore.create({path:["usuarios",l],data:{userId:l,nombre:r,apellido:o,carrera:a,fotoUrl:"https://devmiasx.com/uploads/67380645a9ac3_user.png",privacidad:"publico"},onComplete:h=>{alert("Registro completo")},onFail:h=>{alert(h)}})},onFail:u=>{console.log(u.message)}})}login(e,n){this.auth.signInWith({email:e,password:n,onComplete:r=>{console.log("Iniciado correctamente")},onFail:r=>{console.log("No se puede iniciar"+r)}})}getInfoUser(){let e=this.auth.getAuth().currentUser;e?this.firestore.listenToDocument({name:"Getting Document",path:["usuarios",e.uid],onUpdate:n=>{this.userDocument=n.data(),console.log("data: ",this.userDocument),this.userDataSubject.next(this.userDocument)}}):console.warn("No hay un usuario autenticado.")}isLoggedIn(){return this.userStatus.getValue()}getCurrentUser(){return this.auth.getAuth()?.currentUser}cerrarSesion(){this.auth.signOut(),console.log("cerraste sesi\xF3n")}recuperarContrasena(e){this.auth.sendPasswordResetEmail({email:e,onComplete:n=>{alert("Correo enviado")}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})};var Yd=class t{constructor(e,n){this.dialog=e;this.authService=n}selectedImageFile=null;PostClick(e){return Qg(this,null,function*(){let n=e.value;if(!(n.length<=0))if(this.selectedImageFile){let r=(yield this.uploadToDevmias(this.selectedImageFile))+"";this.dialog.close(),this.authService.crearPostImagen(n,r)}else this.dialog.close(),this.authService.crearPostText(n)})}uploadToDevmias(e){return Qg(this,null,function*(){let n;try{let r=new FormData;r.append("file",e);let a=yield fetch("https://devmiasx.com/upload.php",{method:"POST",body:r});if(!a.ok)throw new Error(`Error en la solicitud: ${a.statusText}`);let u=yield a.json();if(u.success)n="https://devmiasx.com/"+u.url;else throw new Error(u.message||"Error desconocido al subir la imagen.")}catch(r){console.error("Error al subir la imagen:",r)}return n})}onPhotoSelected(e){if(e.files?.length){this.selectedImageFile=e.files[0];let n=new FileReader;n.readAsDataURL(this.selectedImageFile),n.onload=()=>{let r=document.getElementById("post-preview-image");r&&n.result&&(r.src=n.result.toString())}}else this.selectedImageFile=null}static \u0275fac=function(n){return new(n||t)(ie(Lu),ie(tn))};static \u0275cmp=De({type:t,selectors:[["app-crear-post"]],decls:15,vars:0,consts:[["commentInput",""],["photoSelector",""],[1,"post-container"],[1,"input-area"],["placeholder","\xBFQu\xE9 est\xE1s pensando?","id","messageInput"],["id","post-preview",1,"post-preview"],["id","post-preview-image"],[1,"actions"],["for","photo-upload",1,"upload-button"],["id","photo-upload","type","file","accept","image/*",3,"change"],[3,"click"]],template:function(n,r){if(n&1){let o=Yo();V(0,"div",2)(1,"h2"),Q(2,"Crear Publicaci\xF3n"),U(),V(3,"div",3),dt(4,"textarea",4,0),U(),V(6,"div",5),dt(7,"img",6),U(),V(8,"div",7)(9,"label",8),Q(10," Foto "),V(11,"input",9,1),Ue("change",function(){vt(o);let u=hm(12);return yt(r.onPhotoSelected(u))}),U()(),V(13,"button",10),Ue("click",function(){vt(o);let u=hm(5);return yt(r.PostClick(u))}),Q(14,"Publicar"),U()()()}},styles:["#post-preview[_ngcontent-%COMP%]{text-align:center;margin-top:1em}input[type=file][_ngcontent-%COMP%]{display:none}.upload-button[_ngcontent-%COMP%]{display:inline-block;color:#007aff;font-weight:700;cursor:pointer;padding:8px 12px;border-radius:4px;text-align:center;transition:background-color .3s,color .3s}.upload-button[_ngcontent-%COMP%]:hover{background-color:#007aff;color:#fff}#post-preview-image[_ngcontent-%COMP%]{width:70%;height:70%;border-radius:1em}.post-container[_ngcontent-%COMP%]{width:600px;max-width:500px;padding:10px;font-family:Arial,sans-serif;overflow:hidden}.post-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;margin-bottom:10px;color:#333;text-align:center}.input-area[_ngcontent-%COMP%]{margin-bottom:15px;margin-right:30px}textarea[_ngcontent-%COMP%]{width:100%;min-height:40px;max-height:200px;padding:10px;font-size:1em;border:1px solid #ccc;border-radius:4px;resize:none;overflow-y:auto;transition:border-color .3s}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:15px;flex-wrap:wrap}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:10px}.upload-button[_ngcontent-%COMP%]{cursor:pointer;padding:8px 12px;border-radius:4px;font-size:.9em;color:#333;text-align:center;transition:background-color .3s}.upload-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#1c1e29;color:#fff;border:none;border-radius:6px;font-size:18px;font-weight:700;cursor:pointer;transition:background-color .3s,box-shadow .3s;box-shadow:0 4px 8px #0003}button[_ngcontent-%COMP%]:hover{background-color:#1c1e29;box-shadow:0 6px 12px #0000004d}button[_ngcontent-%COMP%]:active{background-color:#1f212b;box-shadow:0 2px 4px #0003}"]})};function XU(t,e){if(t&1&&(V(0,"div",4)(1,"div",5),dt(2,"img",6),V(3,"div",7)(4,"span",8),Q(5),U(),V(6,"span",9),Q(7,"Hace 2 horas"),U()()(),V(8,"div",10),dt(9,"img",11),U(),V(10,"div",12)(11,"div",13)(12,"button",14),Q(13,"\u2764\uFE0F Me gusta"),U(),V(14,"button",15),Q(15,"\u{1F4AC} Comentar"),U(),V(16,"button",16),Q(17,"\u{1F517} Compartir"),U()(),V(18,"p",17),Q(19,"234 me gusta"),U(),V(20,"p",18),Q(21),U()()()),t&2){let n=e.$implicit;Re(2),iu("src",n.fotoUrl,eu),Re(3),ou(n.nombre),Re(4),iu("src",n.imageUrl,eu),Re(12),ou(n.text)}}var Xd=class t{constructor(e,n){this.dialog=e;this.authService=n;this.authService.userData1$.subscribe(r=>{this.userData=r})}userData;crear(){this.dialog.open(Yd)}static \u0275fac=function(n){return new(n||t)(ie(HI),ie(tn))};static \u0275cmp=De({type:t,selectors:[["app-feed"]],decls:5,vars:1,consts:[[1,"feed-container"],[1,"create-post-btn"],[1,"create-btn",3,"click"],["class","feed-post",4,"ngFor","ngForOf"],[1,"feed-post"],[1,"post-header"],["alt","Perfil",1,"profile-image",3,"src"],[1,"post-info"],[1,"author"],[1,"post-date"],[1,"post-image"],[1,"image",3,"src"],[1,"post-description"],[1,"post-actions"],[1,"like-btn"],[1,"comment-btn"],[1,"share-btn"],[1,"likes-count"],[1,"post-text"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"div",1)(2,"button",2),Ue("click",function(){return r.crear()}),Q(3,"+ Crear publicaci\xF3n"),U()(),Sn(4,XU,22,4,"div",3),U()),n&2&&(Re(4),jn("ngForOf",r.userData))},dependencies:[EC],styles:[".feed-container[_ngcontent-%COMP%]{width:50%;max-width:900px;margin:0 auto;padding:20px;background-color:#f0f0f0}.create-post-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.create-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;font-size:16px;font-weight:700;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.create-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.feed-post[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a;margin-bottom:20px;padding:10px;transition:box-shadow .3s ease-in-out}.feed-post[_ngcontent-%COMP%]:hover{box-shadow:0 6px 15px #0003}.post-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;margin-right:10px}.post-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.author[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#333}.post-date[_ngcontent-%COMP%]{font-size:12px;color:#888}.post-image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.post-description[_ngcontent-%COMP%]{margin-top:10px}.post-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:10px}.like-btn[_ngcontent-%COMP%], .comment-btn[_ngcontent-%COMP%], .share-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff;font-size:16px;cursor:pointer;transition:color .3s ease}.like-btn[_ngcontent-%COMP%]:hover, .comment-btn[_ngcontent-%COMP%]:hover, .share-btn[_ngcontent-%COMP%]:hover{color:#0056b3}.likes-count[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:10px}.post-text[_ngcontent-%COMP%]{font-size:14px;color:#555;line-height:1.5}@media (max-width: 768px){.feed-container[_ngcontent-%COMP%], .feed-post[_ngcontent-%COMP%]{padding:10px}.post-title[_ngcontent-%COMP%]{font-size:16px}.post-content[_ngcontent-%COMP%]{font-size:13px}.like-btn[_ngcontent-%COMP%], .comment-btn[_ngcontent-%COMP%], .share-btn[_ngcontent-%COMP%]{font-size:14px}}"]})};function QU(t,e){if(t&1&&(V(0,"div",1)(1,"div",2),dt(2,"img",3),U(),V(3,"div",4)(4,"div",5),dt(5,"img",6),U(),V(6,"div",7)(7,"h2",8),Q(8),U(),V(9,"p",9),Q(10),U(),V(11,"button",10),Q(12,"Editar perfil"),U()()()()),t&2){let n=st();Re(5),iu("src",n.userData.fotoUrl,eu),Re(3),mC("",n.userData.nombre," ",n.userData.apellido," "),Re(2),ou(n.userData.carrera)}}var Qd=class t{constructor(e){this.authService=e;this.authService.userData$.subscribe(n=>{this.userData=n,console.log("Datos recibidos en el componente:",this.userData)})}userData;static \u0275fac=function(n){return new(n||t)(ie(tn))};static \u0275cmp=De({type:t,selectors:[["app-perfil"]],decls:1,vars:1,consts:[["class","profile-container",4,"ngIf"],[1,"profile-container"],[1,"banner-container"],["src","https://via.placeholder.com/1200x300","alt","Banner",1,"banner-image"],[1,"profile-info"],[1,"profile-photo-container"],["alt","Foto de perfil",1,"profile-photo",3,"src"],[1,"profile-details"],[1,"profile-name"],[1,"profile-career"],[1,"edit-btn"]],template:function(n,r){n&1&&Sn(0,QU,13,4,"div",0),n&2&&jn("ngIf",r.userData)},dependencies:[Zo],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:0 auto;padding:20px;background-color:#f0f0f0}.banner-container[_ngcontent-%COMP%]{width:100%;height:300px;overflow:hidden;margin-bottom:20px}.banner-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.profile-photo-container[_ngcontent-%COMP%]{position:relative}.profile-photo[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #fff;object-fit:cover;box-shadow:0 4px 6px #0000001a}.profile-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.profile-name[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;margin:0}.profile-career[_ngcontent-%COMP%]{font-size:16px;color:#555;margin:5px 0}.edit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 15px;font-size:14px;border:none;border-radius:5px;cursor:pointer;margin-top:10px;transition:background-color .3s ease}.edit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:15px}.profile-info[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.profile-photo[_ngcontent-%COMP%]{width:100px;height:100px}.profile-details[_ngcontent-%COMP%]{align-items:center}.profile-name[_ngcontent-%COMP%]{font-size:20px}.profile-career[_ngcontent-%COMP%]{font-size:14px}.edit-btn[_ngcontent-%COMP%]{font-size:13px;padding:6px 12px}}"]})};var Zd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-evento"]],decls:2,vars:0,template:function(n,r){n&1&&(V(0,"p"),Q(1,"evento works!"),U())},encapsulation:2})};var Jd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-grupo"]],decls:29,vars:0,consts:[[1,"groups-container"],[1,"create-group-btn"],[1,"create-btn"],[1,"groups-list"],[1,"group-card"],[1,"group-header"],[1,"group-name"],[1,"group-members"],[1,"group-description"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"div",1)(2,"button",2),Q(3,"+ Crear grupo"),U()(),V(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),Q(8,"Grupo de Ingenier\xEDa de Sistemas"),U(),V(9,"p",7),Q(10,"123 miembros"),U()(),V(11,"p",8),Q(12,"Un grupo para discutir y compartir recursos sobre ingenier\xEDa de sistemas."),U()(),V(13,"div",4)(14,"div",5)(15,"h3",6),Q(16,"Club de Fotograf\xEDa"),U(),V(17,"p",7),Q(18,"98 miembros"),U()(),V(19,"p",8),Q(20,"Compartimos nuestras pasiones y conocimientos sobre fotograf\xEDa."),U()(),V(21,"div",4)(22,"div",5)(23,"h3",6),Q(24,"Deportes Universitarios"),U(),V(25,"p",7),Q(26,"200 miembros"),U()(),V(27,"p",8),Q(28,"Un grupo para los amantes del deporte en la universidad."),U()()()())},styles:[".groups-container[_ngcontent-%COMP%]{width:50%;max-width:1100px;margin:0 auto;padding:20px;background-color:#f0f2f5}.create-group-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.create-btn[_ngcontent-%COMP%]{background-color:#1877f2;color:#fff;padding:10px 20px;font-size:16px;font-weight:700;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.create-btn[_ngcontent-%COMP%]:hover{background-color:#165eab}.groups-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.group-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a;padding:20px;transition:box-shadow .3s ease;cursor:pointer}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 15px #0003}.group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.group-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#1877f2;margin:0}.group-members[_ngcontent-%COMP%]{font-size:14px;color:#666}.group-description[_ngcontent-%COMP%]{font-size:14px;color:#333;margin-top:10px;line-height:1.5}@media (max-width: 768px){.groups-container[_ngcontent-%COMP%]{padding:10px}.create-btn[_ngcontent-%COMP%]{font-size:14px;padding:6px 12px}.group-name[_ngcontent-%COMP%]{font-size:16px}.group-description[_ngcontent-%COMP%], .group-members[_ngcontent-%COMP%]{font-size:12px}}"]})};var UR=[{path:"",component:Xd},{path:"perfil",component:Qd},{path:"eventos",component:Zd},{path:"grupos",component:Jd}];var ZU="@",JU=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=D(iC,{optional:!0});loadingSchedulerFn=D(e2,{optional:!0});_engine;constructor(n,r,o,a,u){this.doc=n,this.delegate=r,this.zone=o,this.animationType=a,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-7N6AF65N.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(n):r=n(),r.catch(o=>{throw new Le(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let u=new a(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new U_(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let l=u.createRenderer(n,r);a.use(l),this.scheduler?.notify(11)}).catch(u=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){um()};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),U_=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,o){this.delegate.insertBefore(e,n,r,o)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,o){this.delegate.setAttribute(e,n,r,o)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,o){this.delegate.setStyle(e,n,r,o)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(ZU)}},e2=new le("");function BR(t="animations"){return cC("NgAsyncAnimations"),Qa([{provide:Hl,useFactory:(e,n,r)=>new JU(e,n,r,t),deps:[_e,Ql,ze]},{provide:Go,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var qR={providers:[vC({eventCoalescing:!0}),wI(UR),BR()]};var ZR=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ie(Vi),ie(ht))};static \u0275dir=Oe({type:t})}return t})(),q_=(()=>{class t extends ZR{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275dir=Oe({type:t,features:[wt]})}return t})(),uf=new le("");var t2={provide:uf,useExisting:Ur(()=>cf),multi:!0};function n2(){let t=Xo()?Xo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var r2=new le(""),cf=(()=>{class t extends ZR{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!n2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ie(Vi),ie(ht),ie(r2,8))};static \u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Ue("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},standalone:!1,features:[er([t2]),wt]})}return t})();function i2(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var z_=new le(""),JR=new le("");function o2(t){return i2(t.value)?{required:!0}:null}function zR(t){return null}function eO(t){return t!=null}function tO(t){return Wl(t)?an(t):t}function nO(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function rO(t,e){return e.map(n=>n(t))}function s2(t){return!t.validate}function iO(t){return t.map(e=>s2(e)?e:n=>e.validate(n))}function a2(t){if(!t)return null;let e=t.filter(eO);return e.length==0?null:function(n){return nO(rO(n,e))}}function H_(t){return t!=null?a2(iO(t)):null}function u2(t){if(!t)return null;let e=t.filter(eO);return e.length==0?null:function(n){let r=rO(n,e).map(tO);return YE(r).pipe(Ie(nO))}}function G_(t){return t!=null?u2(iO(t)):null}function HR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function c2(t){return t._rawValidators}function l2(t){return t._rawAsyncValidators}function B_(t){return t?Array.isArray(t)?t:[t]:[]}function tf(t,e){return Array.isArray(t)?t.includes(e):t===e}function GR(t,e){let n=B_(e);return B_(t).forEach(o=>{tf(n,o)||n.push(o)}),n}function WR(t,e){return B_(e).filter(n=>!tf(t,n))}var nf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=H_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=G_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},oa=class extends nf{name;get formDirective(){return null}get path(){return null}},Pc=class extends nf{_parent=null;name=null;valueAccessor=null},rf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},u4=Ce(F({},h2),{"[class.ng-submitted]":"isSubmitted"}),oO=(()=>{class t extends rf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ie(Pc,2))};static \u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&$o("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[wt]})}return t})(),sO=(()=>{class t extends rf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ie(oa,10))};static \u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&$o("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[wt]})}return t})();var Oc="VALID",ef="INVALID",ra="PENDING",kc="DISABLED",sa=class{},of=class extends sa{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Nc=class extends sa{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Mc=class extends sa{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ia=class extends sa{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function aO(t){return(lf(t)?t.validators:t)||null}function d2(t){return Array.isArray(t)?H_(t):t||null}function uO(t,e){return(lf(e)?e.asyncValidators:t)||null}function f2(t){return Array.isArray(t)?G_(t):t||null}function lf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function p2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Le(1e3,"");if(!r[n])throw new Le(1001,"")}function g2(t,e,n){t._forEachChild((r,o)=>{if(n[o]===void 0)throw new Le(1002,"")})}var sf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nr(this.statusReactive)}set status(e){nr(()=>this.statusReactive.set(e))}_status=su(()=>this.statusReactive());statusReactive=Ko(void 0);get valid(){return this.status===Oc}get invalid(){return this.status===ef}get pending(){return this.status==ra}get disabled(){return this.status===kc}get enabled(){return this.status!==kc}errors;get pristine(){return nr(this.pristineReactive)}set pristine(e){nr(()=>this.pristineReactive.set(e))}_pristine=su(()=>this.pristineReactive());pristineReactive=Ko(!0);get dirty(){return!this.pristine}get touched(){return nr(this.touchedReactive)}set touched(e){nr(()=>this.touchedReactive.set(e))}_touched=su(()=>this.touchedReactive());touchedReactive=Ko(!1);get untouched(){return!this.touched}_events=new ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WR(e,this._rawAsyncValidators))}hasValidator(e){return tf(this._rawValidators,e)}hasAsyncValidator(e){return tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ce(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Mc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Mc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ce(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Nc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Nc(!0,r))}markAsPending(e={}){this.status=ra;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ia(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ce(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=kc,this.errors=null,this._forEachChild(o=>{o.disable(Ce(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new of(this.value,r)),this._events.next(new ia(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this._forEachChild(r=>{r.enable(Ce(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oc||this.status===ra)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new of(this.value,n)),this._events.next(new ia(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ce(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kc:Oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ra,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=tO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ia(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?kc:this.errors?ef:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ra)?ra:this._anyControlsHaveStatus(ef)?ef:Oc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new Nc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Mc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=d2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=f2(this._rawAsyncValidators)}},af=class extends sf{constructor(e,n,r){super(aO(n),uO(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){g2(this,!0,e),Object.keys(e).forEach(r=>{p2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,a)=>{r=n(r,o,a)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var W_=new le("CallSetDisabledState",{providedIn:"root",factory:()=>K_}),K_="always";function m2(t,e){return[...e.path,t]}function cO(t,e,n=K_){lO(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),y2(t,e),w2(t,e),_2(t,e),v2(t,e)}function KR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function v2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function lO(t,e){let n=c2(t);e.validator!==null?t.setValidators(HR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=l2(t);e.asyncValidator!==null?t.setAsyncValidators(HR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();KR(e._rawValidators,o),KR(e._rawAsyncValidators,o)}function y2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hO(t,e)})}function _2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hO(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w2(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function b2(t,e){t==null,lO(t,e)}function E2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function C2(t){return Object.getPrototypeOf(t.constructor)===q_}function I2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function S2(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(a=>{a.constructor===cf?n=a:C2(a)?r=a:o=a}),o||r||n||null}var A2={provide:oa,useExisting:Ur(()=>$_)},xc=Promise.resolve(),$_=(()=>{class t extends oa{callSetDisabledState;get submitted(){return nr(this.submittedReactive)}_submitted=su(()=>this.submittedReactive());submittedReactive=Ko(!1);_directives=new Set;form;ngSubmit=new lt;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new af({},H_(n),G_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),cO(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){xc.then(()=>{let r=this._findContainer(n.path),o=new af({});b2(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){xc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),I2(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ie(z_,10),ie(JR,10),ie(W_,8))};static \u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Ue("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[er([A2]),wt]})}return t})();function $R(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var D2=class extends sf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(aO(n),uO(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(YR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$R(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$R(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var T2={provide:Pc,useExisting:Ur(()=>Y_)},XR=Promise.resolve(),Y_=(()=>{class t extends Pc{_changeDetectorRef;callSetDisabledState;control=new D2;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new lt;constructor(n,r,o,a,u,l){super(),this._changeDetectorRef=u,this.callSetDisabledState=l,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=S2(this,a)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),E2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){XR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&tr(r);XR.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?m2(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ie(oa,9),ie(z_,10),ie(JR,10),ie(uf,10),ie(zr,8),ie(W_,8))};static \u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[er([T2]),wt,Jn]})}return t})(),dO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var R2={provide:uf,useExisting:Ur(()=>hf),multi:!0};function fO(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function O2(t){return t.split(":")[0]}var hf=(()=>{class t extends q_{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),o=fO(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=O2(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275dir=Oe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&Ue("change",function(u){return o.onChange(u.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[er([R2]),wt]})}return t})(),pO=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(fO(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ie(ht),ie(Vi),ie(hf,9))};static \u0275dir=Oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),k2={provide:uf,useExisting:Ur(()=>gO),multi:!0};function QR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function x2(t){return t.split(":")[0]}var gO=(()=>{class t extends q_{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(o.indexOf(u.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let u=a;for(let l=0;l<u.length;l++){let h=u[l],p=this._getOptionValue(h.value);o.push(p)}}else{let u=r.options;for(let l=0;l<u.length;l++){let h=u[l];if(h.selected){let p=this._getOptionValue(h.value);o.push(p)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=x2(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275dir=Oe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&Ue("change",function(u){return o.onChange(u.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[er([k2]),wt]})}return t})(),mO=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(QR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(QR(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ie(ht),ie(Vi),ie(gO,9))};static \u0275dir=Oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var N2=(()=>{class t{_validator=zR;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zR,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Oe({type:t,features:[Jn]})}return t})();var M2={provide:z_,useExisting:Ur(()=>X_),multi:!0};var X_=(()=>{class t extends N2{required;inputName="required";normalizeInput=tr;createValidator=n=>o2;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qt(t)))(o||t)}})();static \u0275dir=Oe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&mr("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[er([M2]),wt]})}return t})();var P2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=cn({type:t});static \u0275inj=un({})}return t})();var vO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:W_,useValue:n.callSetDisabledState??K_}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=cn({type:t});static \u0275inj=un({imports:[P2]})}return t})();function F2(t,e){if(t&1){let n=Yo();V(0,"div")(1,"form",9,0),Ue("ngSubmit",function(){vt(n);let o=st();return yt(o.onLogin())}),V(3,"input",10),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.loginData.email,o)||(a.loginData.email=o),yt(o)}),U(),V(4,"input",11),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.loginData.password,o)||(a.loginData.password=o),yt(o)}),U(),V(5,"button",12),Q(6,"Iniciar sesi\xF3n"),U(),V(7,"a",13),Ue("click",function(){vt(n);let o=st();return yt(o.ForgotPassClick())}),Q(8,"\xBFOlvidaste tu contrase\xF1a?"),U()()()}if(t&2){let n=st();Re(3),vr("ngModel",n.loginData.email),Re(),vr("ngModel",n.loginData.password)}}function V2(t,e){if(t&1){let n=Yo();V(0,"div")(1,"form",14,1),Ue("ngSubmit",function(){vt(n);let o=st();return yt(o.onRegister())}),V(3,"input",15),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.registerData.firstName,o)||(a.registerData.firstName=o),yt(o)}),U(),V(4,"input",16),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.registerData.lastName,o)||(a.registerData.lastName=o),yt(o)}),U(),V(5,"select",17),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.registerData.career,o)||(a.registerData.career=o),yt(o)}),V(6,"option",18),Q(7,"Selecciona tu carrera"),U(),V(8,"option",19),Q(9,"Ingenier\xEDa de Sistemas"),U(),V(10,"option",20),Q(11,"Ingenier\xEDa Agroindustrial"),U(),V(12,"option",21),Q(13,"Ingenier\xEDa Ambiental"),U(),V(14,"option",22),Q(15,"Ingenier\xEDa Civil"),U(),V(16,"option",23),Q(17,"Administraci\xF3n de Empresas"),U(),V(18,"option",24),Q(19,"Contabilidad"),U(),V(20,"option",25),Q(21,"Educaci\xF3n Primaria Intercultural"),U()(),V(22,"input",10),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.registerData.email,o)||(a.registerData.email=o),yt(o)}),U(),V(23,"input",11),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.registerData.password,o)||(a.registerData.password=o),yt(o)}),U(),V(24,"button",12),Q(25,"Registrarse"),U()()()}if(t&2){let n=st();Re(3),vr("ngModel",n.registerData.firstName),Re(),vr("ngModel",n.registerData.lastName),Re(),vr("ngModel",n.registerData.career),Re(17),vr("ngModel",n.registerData.email),Re(),vr("ngModel",n.registerData.password)}}function j2(t,e){if(t&1){let n=Yo();V(0,"div")(1,"form",26,2),Ue("ngSubmit",function(){vt(n);let o=st();return yt(o.onPasswordRecovery())}),V(3,"input",10),_r("ngModelChange",function(o){vt(n);let a=st();return yr(a.recoveryData.email,o)||(a.recoveryData.email=o),yt(o)}),U(),V(4,"button",12),Q(5,"Recuperar Contrase\xF1a"),U(),V(6,"a",27),Ue("click",function(){vt(n);let o=st();return yt(o.LoginClick())}),Q(7,"Cancelar"),U()()()}if(t&2){let n=st();Re(3),vr("ngModel",n.recoveryData.email)}}var df=class t{constructor(e){this.authServide=e}state=0;loginData={email:"",password:""};registerData={firstName:"",lastName:"",career:"",email:"",password:""};recoveryData={email:""};onPasswordRecovery(){console.log("Password Recovery Data:",this.recoveryData),this.recoveryData.email?this.authServide.recuperarContrasena(this.recoveryData.email):alert("Ingresa tu correo")}onLogin(){console.log("Login Data:",this.loginData),this.loginData.email&&this.loginData.password?this.authServide.login(this.loginData.email,this.loginData.password):alert("Completa todos los campos")}onRegister(){console.log("Register Data:",this.registerData),this.registerData.firstName&&this.registerData.lastName&&this.registerData.career&&this.registerData.email&&this.registerData.password?this.authServide.registro(this.registerData.email,this.registerData.password,this.registerData.firstName,this.registerData.lastName,this.registerData.career):alert("Completa todos los campos")}ForgotPassClick(){this.state=2}CreateAccountClick(){this.state=1}LoginClick(){this.state=0}isLoginState(){return this.state==0}isRegisterState(){return this.state==1}isForgotPasswordState(){return this.state==2}static \u0275fac=function(n){return new(n||t)(ie(tn))};static \u0275cmp=De({type:t,selectors:[["app-login"]],decls:11,vars:3,consts:[["loginForm","ngForm"],["registerForm","ngForm"],["recoveryForm","ngForm"],[1,"container"],[1,"form-container"],[1,"tabs"],["id","login-tab",1,"tab-button","active",3,"click"],["id","register-tab",1,"tab-button",3,"click"],[4,"ngIf"],["id","login-form",1,"form",3,"ngSubmit"],["type","email","name","email","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["type","submit"],["href","#recuperar",1,"forgot-password",3,"click"],["id","register-form",1,"form",3,"ngSubmit"],["type","text","name","first-name","placeholder","Nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","last-name","placeholder","Apellido","required","",3,"ngModelChange","ngModel"],["name","career","required","",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","Ingenier\xEDa de Sistemas"],["value","Ingenier\xEDa Agroindustrial"],["value","Ingenier\xEDa Ambiental"],["value","Ingenier\xEDa Civil"],["value","Administraci\xF3n de Empresas"],["value","Contabilidad"],["value","Educaci\xF3n Primaria Intercultural"],["id","recovery-form",1,"form",3,"ngSubmit"],["href","#",1,"cancel-recovery",3,"click"]],template:function(n,r){n&1&&(V(0,"body")(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),Ue("click",function(){return r.LoginClick()}),Q(5,"Login"),U(),V(6,"button",7),Ue("click",function(){return r.CreateAccountClick()}),Q(7,"Registro"),U()(),Sn(8,F2,9,2,"div",8)(9,V2,26,5,"div",8)(10,j2,8,1,"div",8),U()()()),n&2&&(Re(8),jn("ngIf",r.isLoginState()),Re(),jn("ngIf",r.isRegisterState()),Re(),jn("ngIf",r.isForgotPasswordState()))},dependencies:[vO,dO,pO,mO,cf,hf,oO,sO,X_,Y_,$_,Zo],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.form-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:300px;text-align:center}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:20px}.tab-button[_ngcontent-%COMP%]{background-color:#ddd;border:none;padding:10px;width:100px;cursor:pointer;border-radius:4px;font-size:16px}.tab-button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px;font-size:14px;border:1px solid #ddd;border-radius:4px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.forgot-password[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.forgot-password[_ngcontent-%COMP%], .cancel-recovery[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}.forgot-password[_ngcontent-%COMP%]:hover, .cancel-recovery[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var ff=class t{constructor(e){this.authService=e}cerrarsesion(){this.authService.cerrarSesion()}static \u0275fac=function(n){return new(n||t)(ie(tn))};static \u0275cmp=De({type:t,selectors:[["app-header"]],decls:23,vars:0,consts:[[1,"header"],[1,"logo-container"],["href","#",1,"logo"],[1,"nav-menu"],["routerLink",""],["routerLink","/perfil"],["routerLink","/grupos"],["routerLink","/eventos"],[1,"user-info"],["href","#",1,"profile-icon"],["src","https://via.placeholder.com/40","alt","Perfil",1,"profile-image"],[1,"logout-btn",3,"click"]],template:function(n,r){n&1&&(V(0,"header",0)(1,"div",1)(2,"a",2),Q(3,"RedSocial"),U()(),V(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),Q(8,"Inicio"),U()(),V(9,"li")(10,"a",5),Q(11,"Perfil"),U()(),V(12,"li")(13,"a",6),Q(14,"Grupos"),U()(),V(15,"li")(16,"a",7),Q(17,"Eventos"),U()()()(),V(18,"div",8)(19,"a",9),dt(20,"img",10),U(),V(21,"button",11),Ue("click",function(){return r.cerrarsesion()}),Q(22,"Cerrar sesi\xF3n"),U()()())},dependencies:[_I],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#007bff;color:#fff;box-shadow:0 4px 8px #0000001a}.logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-decoration:none;color:#fff;letter-spacing:1px}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;gap:20px}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .3s}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f4f4f4}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.profile-icon[_ngcontent-%COMP%]{display:block}.profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.logout-btn[_ngcontent-%COMP%]{background-color:#ff4747;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#ff2a2a}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:15px}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.user-info[_ngcontent-%COMP%]{margin-top:10px;justify-content:flex-start;gap:15px}}"]})};function U2(t,e){t&1&&dt(0,"app-login")}function B2(t,e){t&1&&dt(0,"app-header")}var pf=class t{constructor(e){this.authService=e;this.subscribeToAuthStatus()}isUserLoggedIn=!1;title="redSocial";subscribeToAuthStatus(){this.authService.userStatus$.subscribe(e=>{if(this.isUserLoggedIn=e,console.log("\xBFUsuario logueado?:",this.isUserLoggedIn),e){let n=this.authService.getCurrentUser();console.log("Usuario actual:",n?.email)}})}static \u0275fac=function(n){return new(n||t)(ie(tn))};static \u0275cmp=De({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(n,r){n&1&&(Sn(0,U2,1,0,"app-login",0)(1,B2,1,0,"app-header",0),dt(2,"router-outlet")),n&2&&(jn("ngIf",!r.isUserLoggedIn),Re(),jn("ngIf",r.isUserLoggedIn))},dependencies:[nv,df,Zo,ff],encapsulation:2})};LC(pf,qR).catch(t=>console.error(t));
